# `diff` コマンドの概要

`diff`コマンドは、2つのファイルやディレクトリの内容を比較し、その違いを表示するためのツールです。テキストファイルの変更点を確認したり、コードの修正箇所を特定したりする際に非常に便利です。

## 主なオプション

- **`-u`（unified形式）**: 統一された形式で差分を表示します。変更された行の前後の文脈も含めて表示するため、変更内容を理解しやすくなります。
  - 例: `diff -u file1.txt file2.txt`

- **`-i`（大文字小文字を無視）**: 大文字と小文字の違いを無視して比較します。
  - 例: `diff -i original.txt modified.txt`

- **`-w`（空白を無視）**: 空白（スペース、タブ）の違いを無視して比較します。
  - 例: `diff -w code1.py code2.py`

- **`-r`（再帰的）**: ディレクトリを再帰的に比較します。サブディレクトリ内のファイルも含めて比較します。
  - 例: `diff -r dir1 dir2`

- **`-q`（簡易表示）**: 違いがあるファイルの名前だけを表示します。詳細な差分は表示しません。
  - 例: `diff -q olddir newdir`

- **`-y`（横並び形式）**: 2つのファイルを横に並べて表示し、違いを視覚的に確認できます。
  - 例: `diff -y file1.txt file2.txt`

## 使用例

### 基本的な使い方

```bash
# 2つのファイルの違いを表示
diff file1.txt file2.txt

# 出力例
2c2
< これは元のファイルの2行目です。
---
> これは変更後のファイルの2行目です。
```

### unified形式での表示

```bash
# unified形式で差分を表示
diff -u file1.txt file2.txt

# 出力例
--- file1.txt	2023-05-01 10:00:00
+++ file2.txt	2023-05-01 11:00:00
@@ -1,3 +1,3 @@
 これは1行目です。
-これは元のファイルの2行目です。
+これは変更後のファイルの2行目です。
 これは3行目です。
```

### ディレクトリの比較

```bash
# 2つのディレクトリを再帰的に比較
diff -r dir1 dir2

# 出力例
Only in dir1: uniquefile1.txt
Only in dir2: uniquefile2.txt
diff -r dir1/common.txt dir2/common.txt
2c2
< これは元のファイルの内容です。
---
> これは変更後のファイルの内容です。
```

### 横並び形式での表示

```bash
# 横並び形式で差分を表示
diff -y file1.txt file2.txt

# 出力例
これは1行目です。                      これは1行目です。
これは元のファイルの2行目です。      | これは変更後のファイルの2行目です。
これは3行目です。                      これは3行目です。
```

## 追加情報

- `diff`の出力形式は少し独特です。`<`は最初のファイルの行、`>`は2番目のファイルの行を示します。
- より視覚的に分かりやすい差分表示が必要な場合は、`colordiff`や`vimdiff`などの代替ツールも検討してみてください。
- 大きなファイルや多数のファイルを比較する場合は、`-q`オプションを使って最初に違いがあるファイルだけを特定し、その後で詳細な差分を確認すると効率的です。
- バージョン管理システム（Git、SVNなど）を使用している場合は、それらの差分表示機能を使うとより便利な場合があります。