# wc コマンド

ファイル内の行数、単語数、バイト数をカウントします。

## 概要

`wc`（word count）コマンドは、指定されたファイル内の行数、単語数、バイト数をカウントします。テキストファイルの統計情報を取得したり、ファイルサイズを確認したり、テキストデータ内の特定の要素をカウントしたりするのによく使用されます。デフォルトでは、各ファイルの行数、単語数、バイト数を表示し、その後にファイル名が続きます。

## オプション

### **-c, --bytes**

ファイル内のバイト数をカウントします。

```console
$ wc -c file.txt
    1234 file.txt
```

### **-m, --chars**

ファイル内の文字数をカウントします。

```console
$ wc -m file.txt
    1234 file.txt
```

### **-l, --lines**

ファイル内の行数をカウントします。

```console
$ wc -l file.txt
     100 file.txt
```

### **-w, --words**

ファイル内の単語数をカウントします。

```console
$ wc -w file.txt
     234 file.txt
```

### **-L, --max-line-length**

最も長い行の長さを表示します。

```console
$ wc -L file.txt
      80 file.txt
```

## 使用例

### デフォルト出力（行数、単語数、バイト数）

```console
$ wc file.txt
     100     234    1234 file.txt
```

### 複数ファイルの行数カウント

```console
$ wc -l file1.txt file2.txt
     100 file1.txt
     150 file2.txt
     250 total
```

### パイプを使用して他のコマンドの出力をカウント

```console
$ ls -l | wc -l
      12
```

### ディレクトリ内のすべてのテキストファイルの単語数をカウント

```console
$ wc -w *.txt
     234 file1.txt
     345 file2.txt
     579 total
```

## ヒント:

### 空でない行のカウント

空でない行だけをカウントするには、`grep`と`wc`を組み合わせることができます：

```console
$ grep -c . file.txt
```

### 簡単なファイルサイズ確認

`wc -c`を使用すると、バイト単位でファイルサイズを簡単に確認できます。サイズだけが必要な場合は、`ls -l`よりも高速です。

### 特定のパターンをカウント

`grep`と組み合わせて特定のパターンをカウントできます：

```console
$ grep "error" logfile.txt | wc -l
```

### 大きなファイルの処理

非常に大きなファイルの場合、`wc`はファイル全体をメモリにロードするのではなく、ストリーミングするため効率的です。

## よくある質問

#### Q1. `wc`の出力は何を意味していますか？
A. デフォルトの出力は、ファイル名の前に3つの数字を表示します：行数、単語数、バイト数です。

#### Q2. ファイルの行数だけをカウントするにはどうすればよいですか？
A. `wc -l ファイル名`を使用します。

#### Q3. バイト数ではなく文字数をカウントできますか？
A. はい、`wc -m ファイル名`を使用して文字数をカウントできます。UTF-8エンコードされたファイルではバイト数と異なる場合があります。

#### Q4. 標準入力からのテキストの単語数をカウントするにはどうすればよいですか？
A. テキストを`wc -w`にパイプします。例：`echo "hello world" | wc -w`

#### Q5. なぜ`wc -l`と`grep -c`の行数が異なることがありますか？
A. `wc -l`はすべての改行をカウントしますが、オプションなしの`grep -c`は一致する行をカウントします。空の行がこの違いに影響します。

## 参考資料

https://www.gnu.org/software/coreutils/manual/html_node/wc-invocation.html

## 改訂履歴

- 2025/05/04 初版作成