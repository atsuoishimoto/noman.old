# git-switch コマンドの概要

`git-switch`は、Gitリポジトリ内でブランチを切り替えるためのコマンドです。`git checkout`の代替として導入され、ブランチ操作に特化しています。

## オプション

### **-c, --create <ブランチ名>**:

新しいブランチを作成して、そのブランチに切り替えます。

例: `git switch -c feature-branch`

### **-C, --force-create <ブランチ名>**:

既存のブランチがあっても強制的に上書きして新しいブランチを作成します。

例: `git switch -C feature-branch`

### **-d, --detach [コミット]**:

特定のコミットに「detached HEAD」状態で切り替えます。

例: `git switch -d HEAD~3`

### **--discard-changes**:

作業ディレクトリの変更を破棄してブランチを切り替えます。

例: `git switch --discard-changes main`

### **--merge**:

現在の変更を保持したままブランチを切り替えます。

例: `git switch --merge develop`

### **-t, --track**:

リモートブランチを追跡する新しいブランチを作成します。

例: `git switch -t origin/feature`

## 使用例

```bash
# 既存のブランチに切り替える
git switch main
# mainブランチに切り替わりました

# 新しいブランチを作成して切り替える
git switch -c feature-login
# ブランチ 'feature-login' を作成して切り替えました

# リモートブランチを追跡する新しいブランチを作成
git switch -t origin/feature-api
# origin/feature-api を追跡するブランチ 'feature-api' に切り替えました

# 変更を破棄してブランチを切り替える
git switch --discard-changes main
# 変更を破棄してmainブランチに切り替わりました
```

## よくある質問

### Q1. `git switch`と`git checkout`の違いは何ですか？
A. `git switch`はブランチ切り替え専用のコマンドで、`git checkout`はブランチ切り替えとファイル復元の両方の機能を持っています。`git switch`はより明確な目的のために導入されました。

### Q2. 未コミットの変更がある状態でブランチを切り替えるにはどうすればいいですか？
A. `git switch --merge <ブランチ名>`を使用すると、変更を保持したまま切り替えられます。競合がある場合は解決が必要です。

### Q3. 存在しないブランチに切り替えるとどうなりますか？
A. エラーが発生します。新しいブランチを作成するには`-c`オプションを使用する必要があります。

### Q4. 特定のコミットに切り替えるにはどうすればいいですか？
A. `git switch -d <コミットハッシュ>`を使用します。これにより「detached HEAD」状態になります。

### Q5. リモートブランチをローカルに持ってくるにはどうすればいいですか？
A. `git switch -t origin/<ブランチ名>`を使用すると、リモートブランチを追跡するローカルブランチが作成されます。

### Q6. 作業中の変更を保存せずに別のブランチに切り替えたいですが？
A. `git switch --discard-changes <ブランチ名>`を使用すると、変更を破棄して切り替えられます。

### Q7. 最後に作業していたブランチに戻るショートカットはありますか？
A. `git switch -`を使用すると、直前に切り替えていたブランチに戻ることができます。

### Q8. ブランチ名を指定せずに`git switch`を実行するとどうなりますか？
A. エラーが発生します。`git switch`は常にブランチ名または`-`（直前のブランチ）の指定が必要です。

### Q9. `git switch`でブランチを削除できますか？
A. いいえ、ブランチの削除には`git branch -d <ブランチ名>`を使用します。

### Q10. 複数のブランチを一度に切り替えることはできますか？
A. いいえ、`git switch`は一度に1つのブランチにしか切り替えられません。

## 追加メモ

- `git switch`は比較的新しいコマンドで、Git 2.23以降で利用可能です。
- 古いバージョンのGitでは`git checkout <ブランチ名>`を使用する必要があります。
- ブランチ操作に特化しているため、ファイルの復元には`git restore`を使用します。
- ブランチ名に`-`を使用すると、直前に切り替えていたブランチに戻れる便利な機能があります。