{
  "id": "msg_01HUiTggtHJSyH2AM8TfRokx",
  "content": [
    {
      "text": "# pstree command\n\nDisplay running processes as a tree.\n\n## Overview\n\nThe `pstree` command shows the running processes on a system in a tree-like diagram, illustrating the parent-child relationships between processes. This visualization makes it easy to understand process hierarchies and see which processes spawned others.\n\n## Options\n\n### **-a**\n\nShow command line arguments.\n\n```console\n$ pstree -a\nsystemd\n  ├─NetworkManager --no-daemon\n  ├─accounts-daemon\n  ├─avahi-daemon\n  │   └─avahi-daemon\n  └─sshd\n      └─sshd\n          └─sshd\n              └─bash\n```\n\n### **-p**\n\nShow PIDs (process IDs).\n\n```console\n$ pstree -p\nsystemd(1)\n  ├─NetworkManager(623)\n  ├─accounts-daemon(645)\n  ├─avahi-daemon(647)\n  │   └─avahi-daemon(648)\n  └─sshd(1025)\n      └─sshd(2156)\n          └─sshd(2158)\n              └─bash(2159)\n```\n\n### **-n**\n\nSort processes by PID instead of by name.\n\n```console\n$ pstree -n\nsystemd\n  ├─systemd-journald\n  ├─systemd-udevd\n  ├─systemd-resolved\n  ├─NetworkManager\n  ├─accounts-daemon\n  └─sshd\n```\n\n### **-u**\n\nShow uid transitions (user IDs).\n\n```console\n$ pstree -u\nsystemd\n  ├─NetworkManager\n  ├─accounts-daemon(root)\n  ├─avahi-daemon(avahi)\n  │   └─avahi-daemon(avahi)\n  └─sshd\n      └─sshd(john)\n          └─bash(john)\n```\n\n### **-h**\n\nHighlight the current process and its ancestors.\n\n```console\n$ pstree -h\nsystemd\n  ├─NetworkManager\n  ├─accounts-daemon\n  └─sshd\n      └─sshd\n          └─sshd\n              └─bash───pstree\n```\n\n### **-g**\n\nShow PGID (process group IDs).\n\n```console\n$ pstree -g\nsystemd(1)\n  ├─NetworkManager(623,623)\n  ├─accounts-daemon(645,645)\n  └─sshd(1025,1025)\n      └─sshd(2156,2156)\n          └─bash(2159,2159)\n```\n\n## Usage Examples\n\n### Displaying a specific user's processes\n\n```console\n$ pstree username\nsshd───bash───vim\n```\n\n### Combining options for detailed output\n\n```console\n$ pstree -apu\nsystemd(1)\n  ├─NetworkManager(623) --no-daemon\n  ├─accounts-daemon(645)\n  ├─avahi-daemon(647)(avahi)\n  │   └─avahi-daemon(648)(avahi)\n  └─sshd(1025)\n      └─sshd(2156)(john)\n          └─bash(2159)(john)\n```\n\n### Finding a specific process and its children\n\n```console\n$ pstree -p | grep firefox\n        │           ├─firefox(2345)───{firefox}(2346)\n        │           │                 ├─{firefox}(2347)\n        │           │                 ├─{firefox}(2348)\n        │           │                 └─{firefox}(2349)\n```\n\n## Tips\n\n### Compact Display\nBy default, identical branches of the tree are compacted to save space. Use `-c` to disable this behavior and see all processes individually.\n\n### ASCII Characters\nIf the tree structure displays incorrectly in your terminal, use the `-A` option to use ASCII characters instead of the default UTF-8 characters.\n\n### Tracing Process Ancestry\nWhen debugging, use `pstree -p` to quickly identify the parent-child relationships of processes, which can help understand how applications are structured.\n\n### Combine with grep\nPipe the output to grep to find specific processes: `pstree -p | grep firefox`\n\n## Frequently Asked Questions\n\n#### Q1. How is pstree different from ps?\nA. While `ps` shows a flat list of processes, `pstree` displays processes in a hierarchical tree structure that shows parent-child relationships.\n\n#### Q2. Can I see process IDs with pstree?\nA. Yes, use the `-p` option to display process IDs alongside the process names.\n\n#### Q3. How do I see command line arguments?\nA. Use the `-a` option to display the command line arguments for each process.\n\n#### Q4. Can I see only processes for a specific user?\nA. Yes, specify the username as an argument: `pstree username`\n\n#### Q5. How do I make the output more readable in text-only terminals?\nA. Use the `-A` option to use ASCII characters instead of UTF-8 for the tree structure.\n\n## References\n\nhttps://man7.org/linux/man-pages/man1/pstree.1.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1680,
    "output_tokens": 1274
  }
}