# `cmp` コマンドの概要

`cmp`コマンドは、2つのファイルを比較し、バイト単位で違いがあるかどうかを確認するためのシンプルなユーティリティです。主に2つのファイルが同一かどうかを素早く判断するために使用されます。

## 主なオプション

- **基本的な使用法**: 2つのファイルを比較し、最初に異なる箇所を表示します
  - 例: `cmp file1 file2`

- **-s (サイレントモード)**: 出力を表示せず、終了ステータスのみを返します
  - 例: `cmp -s file1 file2`

- **-l (詳細表示)**: 異なるすべてのバイトの位置と値を表示します
  - 例: `cmp -l file1 file2`

- **-b (バイト表示)**: 異なるバイトを8進数で表示します
  - 例: `cmp -b file1 file2`

## 使用例

### 基本的な比較
```bash
# 2つのファイルを比較
$ echo "Hello World" > file1
$ echo "Hello World" > file2
$ cmp file1 file2
# 出力なし（ファイルが同一の場合）

$ echo "Hello World" > file1
$ echo "Hello world" > file2
$ cmp file1 file2
# 出力例
file1 file2 differ: char 7, line 1
```

### サイレントモード (-s)
```bash
# スクリプト内で使用する例
$ cmp -s file1 file2
$ echo $?
# 出力例（ファイルが同一の場合）
0
# 出力例（ファイルが異なる場合）
1
```

### 詳細表示 (-l)
```bash
# すべての相違点を表示
$ echo "Hello World" > file1
$ echo "Hello world" > file2
$ cmp -l file1 file2
# 出力例
7 87 119
# 7バイト目が異なり、file1では87（W）、file2では119（w）である
```

### バイト表示 (-b)
```bash
# 相違点を8進数で表示
$ echo "Hello World" > file1
$ echo "Hello world" > file2
$ cmp -b file1 file2
# 出力例
file1 file2 differ: char 7, line 1 is 127 W 167 w
```

## 追加情報

- `cmp`コマンドは、ファイルが同一かどうかを素早く確認するのに最適ですが、相違点の詳細な分析には`diff`コマンドの方が適しています。

- 大きなバイナリファイルの比較にも使用できますが、テキストファイルの内容の違いを詳しく知りたい場合は`diff`を使用した方が良いでしょう。

- シェルスクリプト内では、`-s`オプションと終了ステータス（`$?`）を組み合わせて、ファイルが同一かどうかを判断するのによく使用されます。

- ファイルが同一の場合、終了ステータスは0（成功）になります。異なる場合は1、エラーが発生した場合は2以上の値になります。