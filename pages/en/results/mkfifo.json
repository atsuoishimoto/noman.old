{
  "id": "msg_01J2vk62qVH5DA7Qt9aARWs8",
  "content": [
    {
      "text": "# mkfifo command\n\nCreate named pipes (FIFOs) with specified names.\n\n## Overview\n\n`mkfifo` creates special FIFO (First-In-First-Out) files, also known as named pipes, which allow communication between processes. Unlike regular pipes created with the `|` operator, named pipes persist in the filesystem until deleted, allowing unrelated processes to communicate through them.\n\n## Options\n\n### **-m, --mode=MODE**\n\nSet the permission mode (as in chmod) for the created FIFO, instead of using the default mode of 0666 (readable and writable by all, modified by umask).\n\n```console\n$ mkfifo -m 0600 private_pipe\n$ ls -l private_pipe\nprw-------  1 user  group  0 May  5 10:00 private_pipe\n```\n\n### **-Z, --context=CTX**\n\nSet the SELinux security context of each created FIFO to CTX.\n\n```console\n$ mkfifo -Z user_u:object_r:user_fifo_t private_pipe\n```\n\n### **--help**\n\nDisplay help information and exit.\n\n```console\n$ mkfifo --help\nUsage: mkfifo [OPTION]... NAME...\nCreate named pipes (FIFOs) with the given NAMEs.\n...\n```\n\n### **--version**\n\nOutput version information and exit.\n\n```console\n$ mkfifo --version\nmkfifo (GNU coreutils) 8.32\n...\n```\n\n## Usage Examples\n\n### Creating a basic named pipe\n\n```console\n$ mkfifo mypipe\n$ ls -l mypipe\nprw-r--r--  1 user  group  0 May  5 10:00 mypipe\n```\n\n### Using a named pipe for inter-process communication\n\nTerminal 1:\n```console\n$ mkfifo mypipe\n$ cat > mypipe\nHello, world!\n```\n\nTerminal 2:\n```console\n$ cat < mypipe\nHello, world!\n```\n\n### Creating multiple pipes at once\n\n```console\n$ mkfifo pipe1 pipe2 pipe3\n$ ls -l pipe*\nprw-r--r--  1 user  group  0 May  5 10:00 pipe1\nprw-r--r--  1 user  group  0 May  5 10:00 pipe2\nprw-r--r--  1 user  group  0 May  5 10:00 pipe3\n```\n\n## Tips:\n\n### Understanding Named Pipes\n\nNamed pipes block when opened for reading until someone opens them for writing (and vice versa). This behavior is essential to understand when working with FIFOs.\n\n### Cleaning Up\n\nNamed pipes persist in the filesystem until explicitly deleted with `rm`. Always clean up pipes when they're no longer needed to avoid confusion.\n\n### Avoiding Deadlocks\n\nBe careful when reading from and writing to the same pipe in a single process, as this can lead to deadlocks. Generally, use separate processes for reading and writing.\n\n### Using with Redirection\n\nNamed pipes work well with standard input/output redirection, making them useful for connecting commands that wouldn't normally be connected in a pipeline.\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between a named pipe and a regular pipe?\nA. Regular pipes (created with `|`) exist only while the connected processes are running and cannot be accessed by unrelated processes. Named pipes exist as filesystem objects and can be used by any process that has appropriate permissions.\n\n#### Q2. Can I use named pipes for bidirectional communication?\nA. No, named pipes are unidirectional. For bidirectional communication, you need to create two separate pipes.\n\n#### Q3. What happens if I try to read from a pipe with no writer?\nA. The read operation will block until a writer opens the pipe. If all writers close the pipe, readers will receive EOF (end-of-file).\n\n#### Q4. How do I remove a named pipe?\nA. Use the `rm` command, just as you would for a regular file: `rm mypipe`.\n\n## References\n\nhttps://www.gnu.org/software/coreutils/manual/html_node/mkfifo-invocation.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1680,
    "output_tokens": 996
  }
}