<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  zip - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>zip コマンド</h1>
<p>ファイルを圧縮して ZIP アーカイブを作成します。</p>
<h2>概要</h2>
<p><code>zip</code> コマンドは、ファイルやディレクトリを圧縮して ZIP 形式のアーカイブを作成するためのツールです。Windows や macOS など、ほとんどのオペレーティングシステムで互換性のある形式であるため、クロスプラットフォームでのファイル共有に適しています。</p>
<h2>オプション</h2>
<h3><strong>-r (再帰的)</strong></h3>
<p>ディレクトリとその中身を再帰的に圧縮します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>directory/
<span style="color: #000; font-style: italic">  adding: directory/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: directory/file1.txt (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: directory/file2.txt (deflated 35%)</span>
<span style="color: #000; font-style: italic">  adding: directory/subdirectory/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: directory/subdirectory/file3.txt (deflated 42%)</span>
</pre></div>
<h3><strong>-e (暗号化)</strong></h3>
<p>パスワード保護された ZIP ファイルを作成します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span>secure.zip<span style="color: #F8F8F8"> </span>confidential.txt
<span style="color: #000; font-style: italic">Enter password: </span>
<span style="color: #000; font-style: italic">Verify password: </span>
<span style="color: #000; font-style: italic">  adding: confidential.txt (deflated 45%)</span>
</pre></div>
<h3><strong>-u (更新)</strong></h3>
<p>既存の ZIP アーカイブを更新し、新しいファイルを追加したり、変更されたファイルを置き換えたりします。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>newfile.txt
<span style="color: #000; font-style: italic">  adding: newfile.txt (deflated 30%)</span>
</pre></div>
<h3><strong>-d (削除)</strong></h3>
<p>ZIP アーカイブから特定のファイルを削除します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>unwanted.txt
<span style="color: #000; font-style: italic">deleting: unwanted.txt</span>
</pre></div>
<h3><strong>-j (ジャンク・パス)</strong></h3>
<p>ディレクトリ構造を保存せずにファイルを圧縮します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-j<span style="color: #F8F8F8"> </span>flat.zip<span style="color: #F8F8F8"> </span>directory/subdirectory/file.txt
<span style="color: #000; font-style: italic">  adding: file.txt (deflated 33%)</span>
</pre></div>
<h2>使用例</h2>
<h3>複数のファイルを圧縮する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>documents.zip<span style="color: #F8F8F8"> </span>report.pdf<span style="color: #F8F8F8"> </span>spreadsheet.xlsx<span style="color: #F8F8F8"> </span>presentation.pptx
<span style="color: #000; font-style: italic">  adding: report.pdf (deflated 12%)</span>
<span style="color: #000; font-style: italic">  adding: spreadsheet.xlsx (deflated 57%)</span>
<span style="color: #000; font-style: italic">  adding: presentation.pptx (deflated 62%)</span>
</pre></div>
<h3>圧縮レベルを指定する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-9<span style="color: #F8F8F8"> </span>highly_compressed.zip<span style="color: #F8F8F8"> </span>largefile.dat
<span style="color: #000; font-style: italic">  adding: largefile.dat (deflated 75%)</span>
</pre></div>
<h3>除外パターンを使用する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>project.zip<span style="color: #F8F8F8"> </span>src/<span style="color: #F8F8F8"> </span>-x<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;*.log&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;*.tmp&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;*/.git/*&quot;</span>
<span style="color: #000; font-style: italic">  adding: src/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: src/main.c (deflated 45%)</span>
<span style="color: #000; font-style: italic">  adding: src/utils.c (deflated 38%)</span>
</pre></div>
<h2>ヒント:</h2>
<h3>圧縮レベルの調整</h3>
<p><code>-0</code>（無圧縮）から<code>-9</code>（最大圧縮）までの数字を使って圧縮レベルを指定できます。大きなファイルを素早く圧縮したい場合は低い値を、サイズを最小化したい場合は高い値を使用します。</p>
<h3>進捗状況の表示</h3>
<p>大きなファイルを圧縮する際は <code>-v</code> オプションを使用すると詳細な進捗状況が表示されます。</p>
<h3>自己解凍アーカイブの作成</h3>
<p><code>-A</code> オプションを使用すると、Windows で自己解凍可能な実行ファイルを作成できます（ただし追加のツールが必要です）。</p>
<h2>よくある質問</h2>
<h4>Q1. ZIP と TAR の違いは何ですか？</h4>
<p>A. ZIP は圧縮とアーカイブを同時に行いますが、TAR はアーカイブのみを作成し、通常は gzip などの別のツールと組み合わせて圧縮します。ZIP は Windows との互換性が高く、個別のファイルを抽出しやすいという利点があります。</p>
<h4>Q2. ZIP ファイルのパスワードを忘れた場合はどうすればよいですか？</h4>
<p>A. ZIP のパスワード保護は比較的弱いため、パスワード解析ツールで復元できる場合がありますが、強力なパスワードを使用していた場合は復元が困難です。重要なデータには強力なパスワードマネージャーの使用をお勧めします。</p>
<h4>Q3. 大きなファイルを ZIP で圧縮する際の注意点は？</h4>
<p>A. 非常に大きなファイル（数GB以上）を圧縮する場合、ZIP には4GBのファイルサイズ制限があるため、代わりに <code>zip64</code> 形式をサポートする実装を使用するか、分割アーカイブの作成を検討してください。</p>
<h4>Q4. macOS で作成した ZIP ファイルに隠しファイルが含まれてしまうのはなぜですか？</h4>
<p>A. macOS では <code>.DS_Store</code> や <code>__MACOSX</code> などのメタデータファイルが自動的に含まれることがあります。これらを除外するには <code>-X</code> オプションを使用します。</p>
<h2>macOS での注意点</h2>
<p>macOS の Finder から ZIP ファイルを作成すると、<code>.DS_Store</code> や <code>__MACOSX</code> ディレクトリなどのメタデータファイルが含まれることがあります。コマンドラインで ZIP を作成する際に <code>-X</code> オプションを使用すると、これらの macOS 固有のファイルを除外できます。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-X<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>clean_archive.zip<span style="color: #F8F8F8"> </span>directory/
</pre></div>
<h2>参考資料</h2>
<p>https://linux.die.net/man/1/zip</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/04/30 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>