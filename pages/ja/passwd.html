<h1><code>passwd</code> コマンドの概要</h1>
<p><code>passwd</code>は、ユーザーアカウントのパスワードを変更するためのコマンドです。自分自身のパスワードを変更したり、管理者権限で他のユーザーのパスワードを変更したりすることができます。</p>
<h2>主なオプション</h2>
<ul>
<li><p><strong>オプションなし</strong>: 自分自身のパスワードを変更します</p>
<ul>
<li>例: <code>passwd</code></li>
</ul>
</li>
<li><p><strong>-l</strong>: ユーザーアカウントをロック（使用不可）にします（root権限が必要）</p>
<ul>
<li>例: <code>sudo passwd -l username</code></li>
</ul>
</li>
<li><p><strong>-u</strong>: ロックされたユーザーアカウントのロックを解除します（root権限が必要）</p>
<ul>
<li>例: <code>sudo passwd -u username</code></li>
</ul>
</li>
<li><p><strong>-d</strong>: ユーザーのパスワードを削除します（パスワードなしでログイン可能になる場合があります）（root権限が必要）</p>
<ul>
<li>例: <code>sudo passwd -d username</code></li>
</ul>
</li>
<li><p><strong>-e</strong>: ユーザーのパスワードの有効期限を即時に切れた状態にします（次回ログイン時にパスワード変更を強制）（root権限が必要）</p>
<ul>
<li>例: <code>sudo passwd -e username</code></li>
</ul>
</li>
<li><p><strong>-S</strong>: アカウントのパスワード状態を表示します（root権限が必要）</p>
<ul>
<li>例: <code>sudo passwd -S username</code></li>
</ul>
</li>
</ul>
<h2>使用例</h2>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># 自分のパスワードを変更する</span>
passwd
<span style="color: #8F5902; font-style: italic"># 出力例</span>
Current<span style="color: #F8F8F8"> </span>password:<span style="color: #F8F8F8"> </span>（現在のパスワードを入力）
New<span style="color: #F8F8F8"> </span>password:<span style="color: #F8F8F8"> </span>（新しいパスワードを入力）
Retype<span style="color: #F8F8F8"> </span>new<span style="color: #F8F8F8"> </span>password:<span style="color: #F8F8F8"> </span>（新しいパスワードを再入力）
passwd:<span style="color: #F8F8F8"> </span>password<span style="color: #F8F8F8"> </span>updated<span style="color: #F8F8F8"> </span>successfully

<span style="color: #8F5902; font-style: italic"># 管理者として他のユーザーのパスワードを変更する</span>
sudo<span style="color: #F8F8F8"> </span>passwd<span style="color: #F8F8F8"> </span>username
<span style="color: #8F5902; font-style: italic"># 出力例</span>
New<span style="color: #F8F8F8"> </span>password:<span style="color: #F8F8F8"> </span>（新しいパスワードを入力）
Retype<span style="color: #F8F8F8"> </span>new<span style="color: #F8F8F8"> </span>password:<span style="color: #F8F8F8"> </span>（新しいパスワードを再入力）
passwd:<span style="color: #F8F8F8"> </span>password<span style="color: #F8F8F8"> </span>updated<span style="color: #F8F8F8"> </span>successfully

<span style="color: #8F5902; font-style: italic"># ユーザーアカウントをロックする</span>
sudo<span style="color: #F8F8F8"> </span>passwd<span style="color: #F8F8F8"> </span>-l<span style="color: #F8F8F8"> </span>username
<span style="color: #8F5902; font-style: italic"># 出力例</span>
passwd:<span style="color: #F8F8F8"> </span>password<span style="color: #F8F8F8"> </span>expiry<span style="color: #F8F8F8"> </span>information<span style="color: #F8F8F8"> </span>changed.

<span style="color: #8F5902; font-style: italic"># ユーザーアカウントのパスワード状態を確認する</span>
sudo<span style="color: #F8F8F8"> </span>passwd<span style="color: #F8F8F8"> </span>-S<span style="color: #F8F8F8"> </span>username
<span style="color: #8F5902; font-style: italic"># 出力例</span>
username<span style="color: #F8F8F8"> </span>P<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">04</span>/15/2023<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">99999</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">7</span><span style="color: #F8F8F8"> </span>-1
<span style="color: #8F5902; font-style: italic"># P=パスワードあり、L=ロック済み、NP=パスワードなし</span>
</pre></div>
<h2>追加情報</h2>
<ul>
<li>パスワード変更時は、セキュリティのため入力内容は画面に表示されません。</li>
<li>一般ユーザーは自分自身のパスワードのみ変更できます。他のユーザーのパスワードを変更するには管理者権限（root）が必要です。</li>
<li>システムによっては、パスワードの複雑さ（長さ、文字種類など）に関する要件があります。要件を満たさないパスワードは拒否されます。</li>
<li>パスワードポリシーはシステム管理者によって設定されており、<code>/etc/security/pwquality.conf</code>などのファイルで確認できる場合があります。</li>
<li>パスワードを忘れた場合は、自分で変更することはできません。システム管理者に連絡する必要があります。</li>
</ul>
