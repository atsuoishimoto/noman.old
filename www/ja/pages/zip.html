<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  zip - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>zip コマンド</h1>
<p>ファイルを圧縮アーカイブにパッケージ化します。</p>
<h2>概要</h2>
<p><code>zip</code>コマンドは、1つ以上のファイルやディレクトリを含むZIP形式の圧縮アーカイブを作成します。ファイル圧縮、バックアップ、異なるオペレーティングシステム間でのファイル共有によく使用されます。ZIPは広くサポートされている形式で、ファイル属性やディレクトリ構造を維持します。</p>
<h2>オプション</h2>
<h3><strong>-r, --recurse-paths</strong></h3>
<p>サブディレクトリ内のファイルを再帰的に含めます</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>documents/
<span style="color: #000; font-style: italic">  adding: documents/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: documents/report.txt (deflated 35%)</span>
<span style="color: #000; font-style: italic">  adding: documents/images/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: documents/images/photo.jpg (deflated 2%)</span>
</pre></div>
<h3><strong>-e, --encrypt</strong></h3>
<p>ZIPアーカイブの内容をパスワードで暗号化します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span>secure.zip<span style="color: #F8F8F8"> </span>confidential.txt
<span style="color: #000; font-style: italic">Enter password: </span>
<span style="color: #000; font-style: italic">Verify password: </span>
<span style="color: #000; font-style: italic">  adding: confidential.txt (deflated 42%)</span>
</pre></div>
<h3><strong>-u, --update</strong></h3>
<p>ZIPアーカイブ内の既存エントリを更新し、新しいファイルを追加します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>newfile.txt<span style="color: #F8F8F8"> </span>updated.txt
<span style="color: #000; font-style: italic">  adding: newfile.txt (deflated 30%)</span>
<span style="color: #000; font-style: italic">  updating: updated.txt (deflated 25%)</span>
</pre></div>
<h3><strong>-d, --delete</strong></h3>
<p>ZIPアーカイブからエントリを削除します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span>archive.zip<span style="color: #F8F8F8"> </span>unwanted.txt
<span style="color: #000; font-style: italic">deleting: unwanted.txt</span>
</pre></div>
<h3><strong>-j, --junk-paths</strong></h3>
<p>ディレクトリパスなしでファイル名のみを格納します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-j<span style="color: #F8F8F8"> </span>flat.zip<span style="color: #F8F8F8"> </span>documents/report.txt<span style="color: #F8F8F8"> </span>documents/images/photo.jpg
<span style="color: #000; font-style: italic">  adding: report.txt (deflated 35%)</span>
<span style="color: #000; font-style: italic">  adding: photo.jpg (deflated 2%)</span>
</pre></div>
<h3><strong>-9, --compress-level</strong></h3>
<p>圧縮レベルを設定します（0-9、9が最大圧縮）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-9<span style="color: #F8F8F8"> </span>compressed.zip<span style="color: #F8F8F8"> </span>largefile.dat
<span style="color: #000; font-style: italic">  adding: largefile.dat (deflated 68%)</span>
</pre></div>
<h2>使用例</h2>
<h3>基本的なZIPアーカイブの作成</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>backup.zip<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">  adding: file1.txt (deflated 32%)</span>
<span style="color: #000; font-style: italic">  adding: file2.txt (deflated 28%)</span>
</pre></div>
<h3>サブディレクトリを含むディレクトリ全体の圧縮</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>project.zip<span style="color: #F8F8F8"> </span>project/
<span style="color: #000; font-style: italic">  adding: project/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: project/src/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: project/src/main.c (deflated 45%)</span>
<span style="color: #000; font-style: italic">  adding: project/docs/ (stored 0%)</span>
<span style="color: #000; font-style: italic">  adding: project/docs/readme.md (deflated 38%)</span>
</pre></div>
<h3>パスワード保護された最大圧縮のZIPの作成</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>zip<span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span>-9<span style="color: #F8F8F8"> </span>secure-archive.zip<span style="color: #F8F8F8"> </span>important/*.pdf
<span style="color: #000; font-style: italic">Enter password: </span>
<span style="color: #000; font-style: italic">Verify password: </span>
<span style="color: #000; font-style: italic">  adding: important/document1.pdf (deflated 15%)</span>
<span style="color: #000; font-style: italic">  adding: important/document2.pdf (deflated 12%)</span>
</pre></div>
<h2>ヒント:</h2>
<h3>展開せずにZIPの内容を表示する</h3>
<p>関連コマンド<code>unzip -l archive.zip</code>を使用して、ZIPファイルの内容を展開せずに一覧表示できます。</p>
<h3>特定のファイルを除外する</h3>
<p><code>-x</code>オプションでパターンを使用して特定のファイルを除外できます：<code>zip -r archive.zip directory/ -x &quot;*.tmp&quot; &quot;*.log&quot;</code></p>
<h3>大きなZIPファイルを分割する</h3>
<p>非常に大きなアーカイブの場合、<code>-s</code>オプションを使用してZIPを小さな部分に分割できます：<code>zip -s 100m -r large.zip bigdirectory/</code></p>
<h3>圧縮率の調整</h3>
<p>すでに圧縮されているファイル（JPEGなど）には<code>zip -0</code>（圧縮なし）を使用し、テキストファイルには<code>zip -9</code>（最大圧縮）を使用すると効率的です。</p>
<h2>よくある質問</h2>
<h4>Q1. ZIPファイルを展開するにはどうすればよいですか？</h4>
<p>A. 関連コマンド<code>unzip archive.zip</code>を使用してZIPアーカイブからファイルを展開できます。</p>
<h4>Q2. 既存のZIPアーカイブにファイルを追加できますか？</h4>
<p>A. はい、<code>zip -u archive.zip 新しいファイル</code>を使用して既存のアーカイブにファイルを追加または更新できます。</p>
<h4>Q3. ファイルを圧縮せずにZIPファイルを作成するにはどうすればよいですか？</h4>
<p>A. <code>zip -0 archive.zip ファイル</code>を使用して、圧縮なしでファイルを格納できます（JPEGなどの既に圧縮されているファイルに便利です）。</p>
<h4>Q4. ZIPファイルをパスワード保護するにはどうすればよいですか？</h4>
<p>A. <code>zip -e archive.zip ファイル</code>を使用して暗号化されたZIPファイルを作成します。パスワードの入力を求められます。</p>
<h4>Q5. ZIPアーカイブを作成するときにファイルのパーミッションを保持するにはどうすればよいですか？</h4>
<p>A. Unixライクなシステムでは、<code>zip -X archive.zip ファイル</code>を使用してファイルのパーミッションとUID/GID情報を保持できます。</p>
<h2>macOSに関する注意点</h2>
<p>macOSでは、組み込みのArchive Utilityが作成するZIPファイルは、特定のUnixファイル属性を保持しない場合があります。より詳細な制御が必要な場合は、コマンドラインの<code>zip</code>ユーティリティを使用してください。また、macOSはディレクトリ内に隠しファイル<code>.DS_Store</code>を作成することがあり、<code>-x &quot;*.DS_Store&quot;</code>で明示的に除外しない限り、ZIPアーカイブに含まれることに注意してください。</p>
<h2>参考資料</h2>
<p>https://linux.die.net/man/1/zip</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/05/04 初回改訂</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>