<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  env - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>env コマンド</h1>
<p>現在の環境変数を表示したり、変更された環境で指定したコマンドを実行したりします。</p>
<h2>概要</h2>
<p><code>env</code> コマンドは、すべての環境変数を表示したり、変更された環境でプログラムを実行したりすることができます。環境変数は、システム上でプロセスの実行に影響を与える名前と値のペアです。このコマンドは、現在の環境を確認したり、一時的に環境変数を変更して単一のコマンドを実行したり、コマンドを実行する前に環境をクリアしたりする場合に便利です。</p>
<h2>オプション</h2>
<h3><strong>-i, --ignore-environment</strong></h3>
<p>空の環境から開始し、継承された環境変数を無視します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span>bash<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;echo $HOME&#39;</span>
</pre></div>
<h3><strong>-u, --unset=NAME</strong></h3>
<p>指定した NAME 変数を環境から削除します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>HOME<span style="color: #F8F8F8"> </span>bash<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;echo $HOME&#39;</span>
</pre></div>
<h3><strong>-0, --null</strong></h3>
<p>各出力行を改行ではなくヌル文字で終了します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>-0<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>tr<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;\0&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;\n&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>head<span style="color: #F8F8F8"> </span>-3
<span style="color: #000; font-style: italic">TERM=xterm-256color</span>
<span style="color: #000; font-style: italic">SHELL=/bin/bash</span>
<span style="color: #000; font-style: italic">USER=username</span>
</pre></div>
<h3><strong>--help</strong></h3>
<p>ヘルプ情報を表示して終了します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>--help
<span style="color: #000; font-style: italic">Usage: env [OPTION]... [-] [NAME=VALUE]... [COMMAND [ARG]...]</span>
<span style="color: #000; font-style: italic">Set each NAME to VALUE in the environment and run COMMAND.</span>
<span style="color: #000; font-style: italic">...</span>
</pre></div>
<h3><strong>--version</strong></h3>
<p>バージョン情報を表示して終了します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>--version
<span style="color: #000; font-style: italic">env (GNU coreutils) 8.32</span>
<span style="color: #000; font-style: italic">Copyright (C) 2020 Free Software Foundation, Inc.</span>
<span style="color: #000; font-style: italic">...</span>
</pre></div>
<h2>使用例</h2>
<h3>すべての環境変数を表示する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env
<span style="color: #000; font-style: italic">SHELL=/bin/bash</span>
<span style="color: #000; font-style: italic">USER=username</span>
<span style="color: #000; font-style: italic">HOME=/home/username</span>
<span style="color: #000; font-style: italic">PATH=/usr/local/bin:/usr/bin:/bin</span>
<span style="color: #000; font-style: italic">PWD=/home/username</span>
<span style="color: #000; font-style: italic">LANG=en_US.UTF-8</span>
<span style="color: #000; font-style: italic">...</span>
</pre></div>
<h3>変更された環境でコマンドを実行する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span><span style="color: #000">DEBUG</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87">true</span><span style="color: #F8F8F8"> </span><span style="color: #000">NODE_ENV</span><span style="color: #CE5C00; font-weight: bold">=</span>development<span style="color: #F8F8F8"> </span>node<span style="color: #F8F8F8"> </span>app.js
</pre></div>
<h3>環境をクリアしてからコマンドを実行する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span><span style="color: #000">PATH</span><span style="color: #CE5C00; font-weight: bold">=</span>/bin:/usr/bin<span style="color: #F8F8F8"> </span><span style="color: #000">HOME</span><span style="color: #CE5C00; font-weight: bold">=</span>/tmp<span style="color: #F8F8F8"> </span>bash<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;echo $HOME&#39;</span>
<span style="color: #000; font-style: italic">/tmp</span>
</pre></div>
<h3>複数の環境変数を設定してコマンドを実行する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span><span style="color: #000">LANG</span><span style="color: #CE5C00; font-weight: bold">=</span>ja_JP.UTF-8<span style="color: #F8F8F8"> </span><span style="color: #000">TZ</span><span style="color: #CE5C00; font-weight: bold">=</span>Asia/Tokyo<span style="color: #F8F8F8"> </span>date
<span style="color: #000; font-style: italic">2025年 5月 4日 日曜日 12:00:00 JST</span>
</pre></div>
<h2>ヒント:</h2>
<h3>特定の環境変数を表示する</h3>
<p><code>env | grep PATTERN</code> を使用して、特定の環境変数をフィルタリングして見つけることができます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>env<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>grep<span style="color: #F8F8F8"> </span>PATH
<span style="color: #000; font-style: italic">PATH=/usr/local/bin:/usr/bin:/bin</span>
<span style="color: #000; font-style: italic">MANPATH=/usr/local/man:/usr/local/share/man:/usr/share/man</span>
</pre></div>
<h3>一時的な環境変更</h3>
<p><code>env</code> コマンドは、現在のシェルセッションではなく、実行されるコマンドの環境のみを変更します。永続的な変更を行うには、シェルの設定ファイルを変更する必要があります。</p>
<h3>環境の問題のデバッグ</h3>
<p>アプリケーションの問題をトラブルシューティングする際は、<code>env</code> を使用して特定の環境変数でアプリケーションを実行し、設定の問題を特定するのに役立ちます。</p>
<h3>セキュリティに関する考慮事項</h3>
<p>スクリプトで <code>env -i</code> を使用する場合は注意が必要です。PATHなどの重要な環境変数が削除されます。このオプションを使用する場合は、常に必要最小限の変数を指定してください。</p>
<h2>よくある質問</h2>
<h4>Q1. <code>env</code> と <code>export</code> の違いは何ですか？</h4>
<p>A. <code>env</code> は環境変数を表示したり、変更された環境変数でコマンドを実行したりしますが、変更はそのコマンドにのみ影響します。<code>export</code> は変数を現在のシェルのすべての子プロセスで利用できるようにします。</p>
<h4>Q2. 環境変数を永続的に設定するにはどうすればよいですか？</h4>
<p>A. <code>env</code> は一時的にのみ変数を設定します。永続的な変更を行うには、シェルの設定ファイル（~/.bashrcや~/.zshrcなど）にexportコマンドを追加してください。</p>
<h4>Q3. <code>env</code> を使用して複数の変数を一度に削除できますか？</h4>
<p>A. はい、複数の <code>-u</code> オプションを使用できます：<code>env -u VAR1 -u VAR2 command</code></p>
<h4>Q4. コマンドを実行する前にすべての環境変数をクリアするにはどうすればよいですか？</h4>
<p>A. <code>env -i command</code> を使用して空の環境から開始し、必要な変数のみを追加してください。</p>
<h2>参考資料</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/env-invocation.html</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/05/04 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>