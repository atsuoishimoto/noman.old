<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  case - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <a href="#">Try</a>
        <a href="https://github.com/atsuoishimoto/noman">GitHub</a>
        <span id="language-switcher"></span>
      </div>
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>case コマンド概要</h1>
<p><code>case</code> は、シェルスクリプト内で条件分岐を行うための構文です。パターンマッチングを使用して、与えられた値に基づいて異なる処理を実行します。</p>
<h2>オプション</h2>
<p><code>case</code> はコマンドではなくシェル構文のため、オプションはありません。代わりに、基本的な構文と使い方を説明します。</p>
<h3><strong>基本構文</strong></h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #204A87; font-weight: bold">case</span><span style="color: #F8F8F8"> </span>値<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">in</span>
<span style="color: #F8F8F8">  </span>パターン1<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span>コマンド1
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>パターン2<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span>コマンド2
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span>デフォルトコマンド
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #204A87; font-weight: bold">esac</span>
</pre></div>
<ul>
<li><code>値</code> は評価される変数や文字列</li>
<li><code>パターン</code> はワイルドカードを含むことができるマッチングパターン</li>
<li><code>;;</code> は各ケースの終了を示す</li>
<li><code>*</code> はどのパターンにも一致しない場合のデフォルト処理</li>
<li><code>esac</code> は <code>case</code> 構文の終了を示す（<code>case</code> を逆さまに書いたもの）</li>
</ul>
<h2>使用例</h2>
<h3>基本的な使い方</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic">#!/bin/bash</span>
<span style="color: #000">fruit</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #4E9A06">&quot;りんご&quot;</span>

<span style="color: #204A87; font-weight: bold">case</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;</span><span style="color: #000">$fruit</span><span style="color: #4E9A06">&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">in</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;りんご&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;これはりんごです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;バナナ&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;これはバナナです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;オレンジ&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;これはオレンジです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;不明な果物です&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #204A87; font-weight: bold">esac</span>

<span style="color: #8F5902; font-style: italic"># 出力: これはりんごです</span>
</pre></div>
<h3>複数のパターンマッチング</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic">#!/bin/bash</span>
<span style="color: #000">day</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #4E9A06">&quot;月&quot;</span>

<span style="color: #204A87; font-weight: bold">case</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;</span><span style="color: #000">$day</span><span style="color: #4E9A06">&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">in</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;月&quot;</span><span style="color: #000; font-weight: bold">|</span><span style="color: #4E9A06">&quot;火&quot;</span><span style="color: #000; font-weight: bold">|</span><span style="color: #4E9A06">&quot;水&quot;</span><span style="color: #000; font-weight: bold">|</span><span style="color: #4E9A06">&quot;木&quot;</span><span style="color: #000; font-weight: bold">|</span><span style="color: #4E9A06">&quot;金&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;平日です&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;土&quot;</span><span style="color: #000; font-weight: bold">|</span><span style="color: #4E9A06">&quot;日&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;週末です&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;無効な曜日です&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #204A87; font-weight: bold">esac</span>

<span style="color: #8F5902; font-style: italic"># 出力: 平日です</span>
</pre></div>
<h3>ワイルドカードの使用</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic">#!/bin/bash</span>
<span style="color: #000">filename</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #4E9A06">&quot;document.txt&quot;</span>

<span style="color: #204A87; font-weight: bold">case</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;</span><span style="color: #000">$filename</span><span style="color: #4E9A06">&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">in</span>
<span style="color: #F8F8F8">  </span>*.txt<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;テキストファイルです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*.jpg<span style="color: #000; font-weight: bold">|</span>*.png<span style="color: #000; font-weight: bold">|</span>*.gif<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;画像ファイルです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*.sh<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;シェルスクリプトです&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;不明なファイル形式です&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #204A87; font-weight: bold">esac</span>

<span style="color: #8F5902; font-style: italic"># 出力: テキストファイルです</span>
</pre></div>
<h3>コマンドライン引数の処理</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic">#!/bin/bash</span>
<span style="color: #8F5902; font-style: italic"># このスクリプトを example.sh とする</span>

<span style="color: #204A87; font-weight: bold">case</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;</span><span style="color: #000">$1</span><span style="color: #4E9A06">&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">in</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;start&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;サービスを開始します&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;stop&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;サービスを停止します&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span><span style="color: #4E9A06">&quot;restart&quot;</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;サービスを再起動します&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #F8F8F8">  </span>*<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;使用法: </span><span style="color: #000">$0</span><span style="color: #4E9A06"> {start|stop|restart}&quot;</span>
<span style="color: #F8F8F8">    </span><span style="color: #204A87">exit</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span>
<span style="color: #F8F8F8">    </span><span style="color: #000; font-weight: bold">;;</span>
<span style="color: #204A87; font-weight: bold">esac</span>

<span style="color: #8F5902; font-style: italic"># 実行例: ./example.sh start</span>
<span style="color: #8F5902; font-style: italic"># 出力: サービスを開始します</span>
</pre></div>
<h2>よくある質問</h2>
<h3>Q1. <code>case</code> と <code>if-elif-else</code> の違いは何ですか？</h3>
<p>A. <code>case</code> は主にパターンマッチングに特化しており、複数の文字列パターンを簡潔に比較できます。<code>if-elif-else</code> はより汎用的で、複雑な条件式を扱えますが、多くの文字列比較を行う場合は <code>case</code> の方が読みやすくなります。</p>
<h3>Q2. <code>case</code> で正規表現は使えますか？</h3>
<p>A. 基本的な <code>case</code> では完全な正規表現はサポートしていませんが、ワイルドカード（<code>*</code>, <code>?</code>）やパターンマッチングは使用できます。より高度な正規表現が必要な場合は、<code>=~</code> 演算子を使った <code>if</code> 文や <code>grep</code> コマンドを検討してください。</p>
<h3>Q3. 複数のパターンで同じ処理を実行するにはどうすればいいですか？</h3>
<p>A. パイプ記号 <code>|</code> で複数のパターンを区切ることで、同じ処理を実行できます（例: <code>&quot;パターン1&quot;|&quot;パターン2&quot;)</code>）。</p>
<h3>Q4. <code>;;</code> と <code>;&amp;</code> と <code>;;&amp;</code> の違いは何ですか？</h3>
<p>A. <code>;;</code> は通常のケース終了、<code>;&amp;</code> は次のケースも無条件に実行（フォールスルー）、<code>;;&amp;</code> はパターンが一致した場合に次のケースも評価します。ただし <code>;&amp;</code> と <code>;;&amp;</code> は Bash 4.0 以降でのみ使用可能です。</p>
<h2>追加のヒント</h2>
<ul>
<li><code>case</code> 文は特にコマンドライン引数の処理やメニュー選択の実装に適しています。</li>
<li>大文字と小文字を区別せずにマッチングしたい場合は、変数を小文字に変換してから比較することができます：<code>case &quot;${変数,,}&quot; in</code></li>
<li>複雑なスクリプトでは、<code>case</code> 文をネストさせることも可能ですが、可読性のために避けた方が良いでしょう。</li>
<li><code>case</code> 文の中で変数を設定したり、関数を呼び出したりすることもできます。</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>