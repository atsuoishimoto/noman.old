# hd コマンド

ファイルの内容を16進数、10進数、8進数、またはASCII形式で表示します。

## 概要

`hd`コマンド（hexdump）は、ファイルの内容を様々な形式、主に16進数で表示するユーティリティです。バイナリファイルの調査、データフォーマットのデバッグ、テキストファイル内の表示できない文字の確認などに役立ちます。このコマンドはファイルや標準入力からデータを読み取り、フォーマットされた形式で出力します。

## オプション

### **-a, --ascii-dump**

16進ダンプと一緒にASCII文字を表示します。

```console
$ echo "Hello" | hd -a
00000000  48 65 6c 6c 6f 0a                                 |Hello.|
00000006
```

### **-c, --canonical**

標準的な16進数+ASCII形式で出力を表示し、16進数値とそのASCII表現の両方を示します。

```console
$ echo "Hello" | hd -c
00000000  48 65 6c 6c 6f 0a                                 |Hello.|
00000006
```

### **-n, --length=N**

入力の最初のNバイトのみを処理します。

```console
$ echo "Hello World" | hd -n 5
00000000  48 65 6c 6c 6f                                    |Hello|
00000005
```

### **-s, --skip=N**

入力の最初のNバイトをスキップします。

```console
$ echo "Hello World" | hd -s 6
00000006  57 6f 72 6c 64 0a                                 |World.|
0000000c
```

### **-v, --no-squeezing**

前の行と同じであっても、すべての入力データ行を表示します。

```console
$ echo -e "AAAA\nAAAA" | hd -v
00000000  41 41 41 41 0a 41 41 41  41 0a                    |AAAA.AAAA.|
0000000a
```

## 使用例

### 基本的な16進ダンプ

```console
$ echo "Hello, World!" | hd
00000000  48 65 6c 6c 6f 2c 20 57  6f 72 6c 64 21 0a        |Hello, World!.|
0000000e
```

### バイナリファイルの調査

```console
$ hd -n 32 /bin/ls
00000000  cf fa ed fe 07 00 00 01  03 00 00 80 02 00 00 00  |................|
00000010  10 00 00 00 18 07 00 00  85 00 20 00 00 00 00 00  |.......... .....|
00000020
```

### 異なる数値形式の表示

```console
$ echo "ABC" | hd -e '16/1 "%02x " "\n"'
00000000  41 42 43 0a                                       
00000004
```

## ヒント:

### ファイルヘッダーの調査

`hd -n 16 ファイル名`を使用して、ファイルの最初の16バイトを素早く調べることができます。これはフォーマット識別情報やマジックナンバーを含むことが多いです。

### バイナリファイルの比較

`hd`と`diff`を組み合わせてバイナリファイルを比較できます: `diff <(hd file1) <(hd file2)`

### 出力フォーマットのカスタマイズ

`-e`オプションを使用すると、より専門的な表示ニーズに合わせてカスタム出力フォーマットを指定できます。

### 代替コマンド

一部のシステムでは、`hd`の代わりに`hexdump`や`xxd`が同様の機能で利用可能な場合があります。

## よくある質問

#### Q1. `hd`と`hexdump`の違いは何ですか？
A. 多くのシステムでは、`hd`は実際には`hexdump`へのシンボリックリンクです。基本的に同じコマンドであり、`hd`は短い別名です。

#### Q2. ASCII表現だけを表示するにはどうすればよいですか？
A. `hd -c`を使用して16進数とASCIIの両方を表示するか、ASCIIのみの場合は`-e`オプションでカスタムフォーマットを使用する必要があるかもしれません。

#### Q3. `hd`でファイルを修正できますか？
A. いいえ、`hd`はファイルの内容を表示するだけです。直接ファイルを修正することはできません。

#### Q4. 出力の解釈方法は？
A. 一番左の列は16進数でのバイトオフセットを示します。中央の列は各バイトの16進値を示します。右端のセクション（`|`文字の後）はそれらのバイトのASCII表現を示します。

## 参考資料

https://man7.org/linux/man-pages/man1/hexdump.1.html

## 改訂履歴

- 2025/05/04 初版作成