# more コマンド

テキストファイルを画面単位で表示するページャー。

## 概要

`more` コマンドは、テキストファイルを一度に1画面ずつ表示するシンプルなページャーです。長いファイルを閲覧する際に便利で、スペースキーで次の画面に進んだり、Enterキーで1行ずつ進んだりすることができます。`less` コマンドの前身であり、基本的な機能を提供しています。

## オプション

### **-d**

ヘルププロンプトを表示し、無効なコマンドに対してビープ音を鳴らします。

```console
$ more -d long_file.txt
--More--(Next: Space, Continue: c, Quit: q)
```

### **-p**

画面をクリアしてから表示します。

```console
$ more -p document.txt
[画面がクリアされてからdocument.txtの内容が表示される]
```

### **-s**

連続する空行を1行にまとめて表示します。

```console
$ more -s file_with_many_blank_lines.txt
[連続する空行が1行に圧縮されて表示される]
```

### **-f**

論理行ではなく、表示行を数えます。長い行が折り返される場合に便利です。

```console
$ more -f wide_content.txt
[折り返し行を含めて表示される]
```

### **+n**

指定した行番号(n)から表示を開始します。

```console
$ more +10 document.txt
[document.txtの10行目から表示が始まる]
```

## 使用例

### 基本的な使用方法

```console
$ more /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
--More--(63%)
```

### 複数ファイルの閲覧

```console
$ more file1.txt file2.txt
[file1.txtの内容]
--More--(63%)
[スペースキーを押すとfile1.txtの続きが表示される]
[file1.txtの最後に達するとfile2.txtが表示される]
```

### パイプラインでの使用

```console
$ ls -la /usr/bin | more
[/usr/binディレクトリの詳細リストが画面単位で表示される]
```

## ヒント:

### 対話的なコマンド

`more` 実行中に使える主なキー操作:
- スペースキー: 次の画面へ
- Enterキー: 次の1行へ
- b: 前の画面へ（一部の環境では動作しない）
- q: 終了
- /pattern: パターン検索
- h: ヘルプ表示

### lessコマンドとの違い

`more` は基本的な機能のみを提供し、`less` はより多くの機能（前方スクロール、検索機能の強化など）を持っています。大きなファイルを扱う場合は `less` の方が便利であることが多いです。

### 環境変数の活用

`MORE` 環境変数を設定することで、デフォルトのオプションを指定できます。
```console
$ export MORE="-d"
$ more file.txt
[ヘルププロンプトが表示されるようになる]
```

## よくある質問

#### Q1. `more` と `less` の違いは何ですか？
A. `more` は基本的なページャーで、主に前方向のみのスクロールをサポートします。`less` はより高機能で、前後のスクロール、検索機能の強化、複数ファイルのナビゲーションなどができます。

#### Q2. `more` コマンドを終了するにはどうすればいいですか？
A. `q` キーを押すと終了します。

#### Q3. 特定の行から表示を開始するにはどうすればいいですか？
A. `more +n filename` のように、`+` の後に行番号を指定します。例えば `more +100 file.txt` は100行目から表示を開始します。

#### Q4. 検索機能はありますか？
A. はい、`/` に続けて検索したい文字列を入力すると、その文字列を検索できます。

## macOSでの注意点

macOSの `more` コマンドはBSD版であり、GNU/Linuxの `more` とは一部の機能やオプションが異なる場合があります。特に `-f` オプションの動作が異なることがあるため注意が必要です。

## 参考資料

https://man7.org/linux/man-pages/man1/more.1.html

## 改訂履歴

- 2025/04/30 初版作成