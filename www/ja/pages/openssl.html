<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../css/reset.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/main-ja.css">
  <link rel="stylesheet" href="../../css/search.css">
  <script src="../../js/search.js"></script>
  <title>{{ command }} - noman</title>
</head>
<body>

  <!-- ナビゲーションバー -->
  <nav>
    <div class="nav-logo"><img src="../../../images/white.png" height="50px"></div>
    <div class="nav-right">
      <div class="nav-links">
        <a href="#">Docs</a>
        <a href="#">Try</a>
        <a href="#">GitHub</a>
      </div>
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command...">
      </div>
    </div>
  </nav>

  <div class="content">

  <main>


<h1>OpenSSL コマンド概要</h1>
<p>OpenSSLは暗号化、SSL/TLS通信、証明書管理などのセキュリティ機能を提供するオープンソースのツールキットです。データの暗号化、ハッシュ生成、証明書の作成・管理などに使用されます。</p>
<h2>主なオプション</h2>
<ul>
<li><p><strong>s_client</strong>: SSLサーバーに接続してテストを行います</p>
<ul>
<li>例: <code>openssl s_client -connect example.com:443</code></li>
</ul>
</li>
<li><p><strong>s_server</strong>: テスト用のSSLサーバーを起動します</p>
<ul>
<li>例: <code>openssl s_server -cert server.crt -key server.key -port 4433</code></li>
</ul>
</li>
<li><p><strong>req</strong>: 証明書署名要求(CSR)や自己署名証明書を作成します</p>
<ul>
<li>例: <code>openssl req -new -key private.key -out request.csr</code></li>
</ul>
</li>
<li><p><strong>x509</strong>: 証明書の管理や情報表示を行います</p>
<ul>
<li>例: <code>openssl x509 -in certificate.crt -text -noout</code></li>
</ul>
</li>
<li><p><strong>genrsa</strong>: RSA秘密鍵を生成します</p>
<ul>
<li>例: <code>openssl genrsa -out private.key 2048</code></li>
</ul>
</li>
<li><p><strong>rsa</strong>: RSA鍵の処理や変換を行います</p>
<ul>
<li>例: <code>openssl rsa -in private.key -pubout -out public.key</code></li>
</ul>
</li>
<li><p><strong>enc</strong>: ファイルやデータの暗号化・復号を行います</p>
<ul>
<li>例: <code>openssl enc -aes-256-cbc -in file.txt -out file.enc</code></li>
</ul>
</li>
<li><p><strong>dgst</strong>: メッセージダイジェスト（ハッシュ値）を計算します</p>
<ul>
<li>例: <code>openssl dgst -sha256 file.txt</code></li>
</ul>
</li>
</ul>
<h2>使用例</h2>
<h3>SSL/TLS接続のテスト</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># サーバーへのSSL接続をテスト</span>
openssl<span style="color: #F8F8F8"> </span>s_client<span style="color: #F8F8F8"> </span>-connect<span style="color: #F8F8F8"> </span>example.com:443

<span style="color: #8F5902; font-style: italic"># 出力例（一部）</span>
CONNECTED<span style="color: #CE5C00; font-weight: bold">(</span><span style="color: #0000CF; font-weight: bold">00000003</span><span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #000">depth</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">2</span><span style="color: #F8F8F8"> </span><span style="color: #000">C</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span>US,<span style="color: #F8F8F8"> </span><span style="color: #000">O</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span>DigiCert<span style="color: #F8F8F8"> </span>Inc,<span style="color: #F8F8F8"> </span><span style="color: #000">OU</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span>www.digicert.com,<span style="color: #F8F8F8"> </span><span style="color: #000">CN</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span>DigiCert<span style="color: #F8F8F8"> </span>Global<span style="color: #F8F8F8"> </span>Root<span style="color: #F8F8F8"> </span>CA
verify<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">return</span>:1
...
</pre></div>
<h3>証明書の情報表示</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># 証明書の詳細情報を表示</span>
openssl<span style="color: #F8F8F8"> </span>x509<span style="color: #F8F8F8"> </span>-in<span style="color: #F8F8F8"> </span>certificate.crt<span style="color: #F8F8F8"> </span>-text<span style="color: #F8F8F8"> </span>-noout

<span style="color: #8F5902; font-style: italic"># 出力例（一部）</span>
Certificate:
<span style="color: #F8F8F8">    </span>Data:
<span style="color: #F8F8F8">        </span>Version:<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">(</span>0x2<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">        </span>Serial<span style="color: #F8F8F8"> </span>Number:<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">12345678</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">(</span>0xbc614e<span style="color: #CE5C00; font-weight: bold">)</span>
<span style="color: #F8F8F8">    </span>Signature<span style="color: #F8F8F8"> </span>Algorithm:<span style="color: #F8F8F8"> </span>sha256WithRSAEncryption
<span style="color: #F8F8F8">    </span>Issuer:<span style="color: #F8F8F8"> </span><span style="color: #000">C</span><span style="color: #CE5C00; font-weight: bold">=</span>US,<span style="color: #F8F8F8"> </span><span style="color: #000">O</span><span style="color: #CE5C00; font-weight: bold">=</span>Let<span style="color: #4E9A06">&#39;s Encrypt, CN=Let&#39;</span>s<span style="color: #F8F8F8"> </span>Encrypt<span style="color: #F8F8F8"> </span>Authority<span style="color: #F8F8F8"> </span>X3
...
</pre></div>
<h3>秘密鍵と証明書署名要求(CSR)の作成</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># 2048ビットのRSA秘密鍵を生成</span>
openssl<span style="color: #F8F8F8"> </span>genrsa<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>private.key<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">2048</span>

<span style="color: #8F5902; font-style: italic"># CSRを作成</span>
openssl<span style="color: #F8F8F8"> </span>req<span style="color: #F8F8F8"> </span>-new<span style="color: #F8F8F8"> </span>-key<span style="color: #F8F8F8"> </span>private.key<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>request.csr
<span style="color: #8F5902; font-style: italic"># 対話式プロンプトが表示され、証明書情報を入力する</span>
</pre></div>
<h3>ファイルの暗号化と復号</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># ファイルをAES-256-CBCで暗号化</span>
openssl<span style="color: #F8F8F8"> </span>enc<span style="color: #F8F8F8"> </span>-aes-256-cbc<span style="color: #F8F8F8"> </span>-salt<span style="color: #F8F8F8"> </span>-in<span style="color: #F8F8F8"> </span>secret.txt<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>secret.enc

<span style="color: #8F5902; font-style: italic"># 暗号化されたファイルを復号</span>
openssl<span style="color: #F8F8F8"> </span>enc<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span>-aes-256-cbc<span style="color: #F8F8F8"> </span>-in<span style="color: #F8F8F8"> </span>secret.enc<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>secret_decrypted.txt
</pre></div>
<h3>ハッシュ値の計算</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># SHA-256ハッシュを計算</span>
openssl<span style="color: #F8F8F8"> </span>dgst<span style="color: #F8F8F8"> </span>-sha256<span style="color: #F8F8F8"> </span>file.txt

<span style="color: #8F5902; font-style: italic"># 出力例</span>
SHA256<span style="color: #CE5C00; font-weight: bold">(</span>file.txt<span style="color: #CE5C00; font-weight: bold">)=</span><span style="color: #F8F8F8"> </span>e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
</pre></div>
<h2>追加情報</h2>
<ul>
<li><p>証明書や鍵の形式変換（PEM、DER、PKCS#12など）も行えます。例えば：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902; font-style: italic"># PEM形式からDER形式への変換</span>
openssl<span style="color: #F8F8F8"> </span>x509<span style="color: #F8F8F8"> </span>-in<span style="color: #F8F8F8"> </span>cert.pem<span style="color: #F8F8F8"> </span>-outform<span style="color: #F8F8F8"> </span>DER<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>cert.der
</pre></div>
</li>
<li><p>パスワード保護された鍵ファイルを作成する場合は <code>-passout</code> オプションを使用できます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>openssl<span style="color: #F8F8F8"> </span>genrsa<span style="color: #F8F8F8"> </span>-des3<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>private.key<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">2048</span>
</pre></div>
</li>
<li><p>自己署名証明書を一度に作成するには：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span>openssl<span style="color: #F8F8F8"> </span>req<span style="color: #F8F8F8"> </span>-x509<span style="color: #F8F8F8"> </span>-newkey<span style="color: #F8F8F8"> </span>rsa:2048<span style="color: #F8F8F8"> </span>-keyout<span style="color: #F8F8F8"> </span>key.pem<span style="color: #F8F8F8"> </span>-out<span style="color: #F8F8F8"> </span>cert.pem<span style="color: #F8F8F8"> </span>-days<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">365</span>
</pre></div>
</li>
<li><p>最新のバージョンでは、より安全なアルゴリズム（例：Ed25519）もサポートしています。</p>
</li>
<li><p>実際の運用環境では、適切な鍵長や暗号化アルゴリズムの選択が重要です。セキュリティ要件に応じて適切なオプションを選択してください。</p>
</li>
</ul>



    
  </main>
  </div>
<footer>
  <div>
    <a href="#">GitHub</a> |
    MIT License
  </div>
</footer>
</body>
</html>
