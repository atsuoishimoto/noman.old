# gdb command

Debug and analyze programs at the source code level with the GNU Debugger.

## Overview

GDB (GNU Debugger) is a powerful debugging tool that allows developers to monitor and control the execution of programs. It helps find and fix bugs by letting you pause execution, examine variables, set breakpoints, step through code line by line, and analyze program crashes. GDB supports multiple programming languages including C, C++, Objective-C, and Fortran.

## Options

### **-q, --quiet, --silent**

Start GDB in quiet mode, suppressing the introductory and copyright messages

```console
$ gdb -q ./myprogram
(gdb) 
```

### **-c, --core=FILE**

Analyze a core dump file

```console
$ gdb -q ./myprogram -c core.12345
Reading symbols from ./myprogram...
Core was generated by `./myprogram'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x0000555555555160 in main () at main.c:15
```

### **-p, --pid=PID**

Attach to a running process

```console
$ gdb -q -p 12345
Attaching to process 12345
Reading symbols from /path/to/process...
```

### **--args**

Pass arguments to the program being debugged

```console
$ gdb --args ./myprogram arg1 arg2
```

### **-x, --command=FILE**

Execute GDB commands from a file

```console
$ gdb -q -x commands.gdb ./myprogram
```

### **-d, --directory=DIRECTORY**

Add DIRECTORY to the path to search for source files

```console
$ gdb -q -d /path/to/source ./myprogram
```

## Usage Examples

### Basic Debugging Session

```console
$ gdb ./myprogram
(gdb) break main
Breakpoint 1 at 0x1149: file main.c, line 5.
(gdb) run
Starting program: /home/user/myprogram 

Breakpoint 1, main () at main.c:5
5       int x = 10;
(gdb) next
6       printf("x = %d\n", x);
(gdb) print x
$1 = 10
(gdb) continue
Continuing.
x = 10
[Inferior 1 (process 12345) exited normally]
```

### Debugging a Segmentation Fault

```console
$ gdb ./myprogram
(gdb) run
Starting program: /home/user/myprogram 

Program received signal SIGSEGV, Segmentation fault.
0x0000555555555160 in access_array (index=10) at main.c:8
8       return array[index];
(gdb) backtrace
#0  0x0000555555555160 in access_array (index=10) at main.c:8
#1  0x0000555555555189 in main () at main.c:15
(gdb) print array
$1 = (int *) 0x5555555592a0
(gdb) print index
$2 = 10
```

### Setting a Conditional Breakpoint

```console
$ gdb ./myprogram
(gdb) break 25 if i == 100
Breakpoint 1 at 0x1234: file main.c, line 25.
(gdb) run
Starting program: /home/user/myprogram 

Breakpoint 1, main () at main.c:25
25      printf("i reached 100\n");
```

## Tips

### Use TUI Mode for Better Visualization

Enable the Text User Interface mode with `tui enable` to see your source code and GDB commands simultaneously.

```console
(gdb) tui enable
```

### Save Common Commands in .gdbinit

Create a `.gdbinit` file in your home directory with frequently used commands to automatically execute them when GDB starts.

### Use Watchpoints to Monitor Variables

Set a watchpoint to stop execution whenever a variable's value changes:

```console
(gdb) watch my_variable
```

### Examine Memory Contents

Use the `x` command to examine memory:

```console
(gdb) x/10i $pc  # Display 10 instructions starting at program counter
```

### Use Python Extensions

GDB has Python scripting capabilities for creating custom commands and visualizations:

```console
(gdb) python print("Hello from Python in GDB")
```

## Frequently Asked Questions

#### Q1. How do I set a breakpoint?
A. Use the `break` command followed by a function name, line number, or file:line combination. For example: `break main`, `break 42`, or `break file.c:42`.

#### Q2. How do I step through code?
A. Use `next` to execute the current line and stop at the next line (stepping over function calls), `step` to step into function calls, and `continue` to resume execution until the next breakpoint.

#### Q3. How do I print variable values?
A. Use the `print` command followed by the variable name: `print my_variable`. For complex structures, you can use `print *pointer` to dereference pointers or `print my_array[5]` to access array elements.

#### Q4. How do I examine a core dump?
A. Run `gdb program core_file` or `gdb -c core_file program` to load the program and core dump file.

#### Q5. How do I quit GDB?
A. Type `quit` or `q` at the GDB prompt, or press Ctrl+D.

## References

https://sourceware.org/gdb/current/onlinedocs/gdb/

## Revisions

- 2025/05/04 First revision