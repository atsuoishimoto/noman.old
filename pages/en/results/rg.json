{
  "id": "msg_01NR2E4ynoqXu7grvUkf3FTT",
  "content": [
    {
      "text": "# rg command\n\nSearch for patterns in files using regular expressions, with support for recursive directory traversal.\n\n## Overview\n\n`rg` (ripgrep) is a line-oriented search tool that recursively searches the current directory for a regex pattern. It respects gitignore rules by default and is designed to be faster than other search tools like grep, ag, or ack. Ripgrep automatically skips hidden files, binary files, and files listed in .gitignore unless explicitly told not to.\n\n## Options\n\n### **-i, --ignore-case**\n\nMakes the search case insensitive.\n\n```console\n$ rg -i \"function\"\nsrc/main.js:10:function calculateTotal(items) {\nsrc/utils.js:5:Function to handle API responses\n```\n\n### **-v, --invert-match**\n\nShow lines that don't match the given pattern.\n\n```console\n$ rg -v \"TODO\" todo.txt\nThese items are completed\nRemember to check email\n```\n\n### **-w, --word-regexp**\n\nOnly show matches surrounded by word boundaries.\n\n```console\n$ rg -w \"log\"\nlogger.js:15:  log(\"User logged in\");\nlogger.js:20:  log(\"Error occurred\");\n```\n\n### **-c, --count**\n\nOnly show the count of matching lines per file.\n\n```console\n$ rg -c \"error\" *.log\napp.log:15\nsystem.log:3\n```\n\n### **-l, --files-with-matches**\n\nOnly show the paths with at least one match.\n\n```console\n$ rg -l \"TODO\"\nsrc/main.js\ndocs/roadmap.md\n```\n\n### **-n, --line-number**\n\nShow line numbers (enabled by default).\n\n```console\n$ rg -n \"function\"\nsrc/main.js:10:function calculateTotal(items) {\nsrc/utils.js:15:function formatDate(date) {\n```\n\n### **--no-ignore**\n\nDon't respect ignore files (.gitignore, .ignore, etc.). This option tells ripgrep to search in files and directories that would normally be ignored, such as those specified in .gitignore files.\n\n```console\n$ rg --no-ignore \"password\"\nnode_modules/config.js:5:  password: \"dummy_password\",\n.git/config:10:  password = hunter2\n```\n\n### **-A, --after-context NUM**\n\nShow NUM lines after each match.\n\n```console\n$ rg -A 2 \"class User\"\nsrc/models.js:10:class User {\nsrc/models.js:11:  constructor(name, email) {\nsrc/models.js:12:    this.name = name;\n```\n\n### **-B, --before-context NUM**\n\nShow NUM lines before each match.\n\n```console\n$ rg -B 1 \"throw new Error\"\nsrc/api.js:24:  if (!response.ok) {\nsrc/api.js:25:    throw new Error('API request failed');\n```\n\n### **-C, --context NUM**\n\nShow NUM lines before and after each match.\n\n```console\n$ rg -C 1 \"TODO\"\nsrc/main.js:19:function processData(data) {\nsrc/main.js:20:  // TODO: Implement validation\nsrc/main.js:21:  return transform(data);\n```\n\n### **-o, --only-matching**\n\nPrint only the matched parts of a line.\n\n```console\n$ rg -o \"TODO.*\"\nsrc/main.js:TODO: Implement validation\ndocs/roadmap.md:TODO: Add authentication\n```\n\n### **-m, --max-count NUM**\n\nOnly show up to NUM matches for each file.\n\n```console\n$ rg -m 2 \"error\" log.txt\nlog.txt:15:error: connection failed\nlog.txt:23:error: timeout occurred\n```\n\n### **--max-depth NUM**\n\nLimit the depth of directory traversal to NUM levels.\n\n```console\n$ rg --max-depth 1 \"TODO\"\n./main.js:20:  // TODO: Implement validation\n```\n\n## Usage Examples\n\n### Search in specific file types\n\n```console\n$ rg -t js \"useState\"\nsrc/components/Form.js:3:import { useState } from 'react';\nsrc/components/Counter.js:5:  const [count, setCount] = useState(0);\n```\n\n### Search and replace with ripgrep and sed\n\n```console\n$ rg -l \"oldFunction\" | xargs sed -i 's/oldFunction/newFunction/g'\n```\n\n### Search with glob patterns\n\n```console\n$ rg \"error\" --glob \"*.{js,ts}\"\nsrc/utils.js:25:  console.error(\"Connection failed\");\nsrc/api.ts:42:  throw new Error(\"Invalid response\");\n```\n\n### Exclude directories from search\n\n```console\n$ rg \"TODO\" --glob \"!node_modules\"\nsrc/main.js:20:  // TODO: Implement validation\ndocs/roadmap.md:15:TODO: Add authentication\n```\n\n### Show only filenames with matching patterns\n\n```console\n$ rg -l \"password\"\nconfig.js\nauth.js\n```\n\n### Search only in current directory (no recursion)\n\n```console\n$ rg --max-depth 0 \"function\"\nmain.js:10:function calculateTotal(items) {\n```\n\n## Tips:\n\n### Use Fixed Strings for Faster Searches\n\nWhen searching for literal text rather than regex patterns, use `-F` or `--fixed-strings` for better performance:\n\n```console\n$ rg -F \"React.useState\" src/\n```\n\n### Combine with Other Tools\n\nPipe ripgrep results to other commands for additional processing:\n\n```console\n$ rg -n \"TODO\" | sort -k1,1 | less\n```\n\n### Search Hidden Files\n\nBy default, ripgrep ignores hidden files and directories. Use `-. or --hidden` to include them:\n\n```console\n$ rg --hidden \"password\" ~/\n```\n\n### Use Smart Case\n\nThe `-S` or `--smart-case` option makes searches case-insensitive if the pattern is all lowercase, but case-sensitive otherwise:\n\n```console\n$ rg -S \"function\" # Case-insensitive\n$ rg -S \"Function\" # Case-sensitive\n```\n\n## Frequently Asked Questions\n\n#### Q1. How is ripgrep different from grep?\nA. Ripgrep is generally faster than grep, respects .gitignore files by default, automatically skips binary files, and has better Unicode support.\n\n#### Q2. How do I search for a pattern that includes special regex characters?\nA. Use `-F` or `--fixed-strings` to search for literal text, or escape the special characters with backslashes.\n\n#### Q3. How can I search for files that don't contain a pattern?\nA. Use `-L` or `--files-without-match` to find files that don't contain the pattern.\n\n#### Q4. How do I make ripgrep follow symbolic links?\nA. Use `-L` or `--follow` to follow symbolic links when searching.\n\n#### Q5. What does the --no-ignore option do?\nA. The `--no-ignore` option tells ripgrep to search files and directories that would normally be ignored due to .gitignore, .ignore, or similar files. This is useful when you need to search in directories like node_modules or other typically ignored locations.\n\n#### Q6. How can I search only in the current directory without recursing into subdirectories?\nA. Use `--max-depth 0` to limit the search to only the current directory without recursing into subdirectories.\n\n#### Q7. How do I show only the matching filenames?\nA. Use `-l` or `--files-with-matches` to show only the paths of files containing matches.\n\n## References\n\nhttps://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md\n\n## Revisions\n\n- 2025/05/06 Added --max-depth and -m options, expanded usage examples to include non-recursive search, added new FAQs about limiting directory depth and showing only filenames.\n- 2025/05/06 Added -o, --only-matching option.\n- 2025/05/05 Added explanation for --no-ignore option and expanded FAQs.",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 3306,
    "output_tokens": 1976
  }
}