{
  "id": "msg_01R3WSqamEQhWExaBqWte2gx",
  "content": [
    {
      "text": "# zip command\n\nCreate or update ZIP archives by compressing files and directories.\n\n## Overview\n\nThe `zip` command creates compressed archives in the ZIP format, which is widely used for file compression and packaging. It can add files to existing archives, update files in archives, and create self-extracting archives. ZIP files maintain file attributes and directory structures, making them useful for cross-platform file sharing.\n\n## Options\n\n### **-r**\n\nRecursively include files in directories and their subdirectories\n\n```console\n$ zip -r archive.zip documents/\n  adding: documents/ (stored 0%)\n  adding: documents/report.txt (deflated 35%)\n  adding: documents/images/ (stored 0%)\n  adding: documents/images/photo.jpg (deflated 2%)\n```\n\n### **-u**\n\nUpdate existing entries in the zip archive if they are newer than the version in the archive\n\n```console\n$ zip -u archive.zip documents/report.txt\nupdating: documents/report.txt (deflated 35%)\n```\n\n### **-d**\n\nDelete entries from a zip archive\n\n```console\n$ zip -d archive.zip documents/report.txt\ndeleting: documents/report.txt\n```\n\n### **-e**\n\nEncrypt the contents of the zip file with a password\n\n```console\n$ zip -e secure.zip confidential.txt\nEnter password: \nVerify password: \n  adding: confidential.txt (deflated 42%)\n```\n\n### **-j**\n\nStore just the file names (junk the paths)\n\n```console\n$ zip -j archive.zip documents/report.txt documents/images/photo.jpg\n  adding: report.txt (deflated 35%)\n  adding: photo.jpg (deflated 2%)\n```\n\n### **-m**\n\nMove the specified files into the zip archive (delete the original files)\n\n```console\n$ zip -m archive.zip temp.txt\n  adding: temp.txt (deflated 30%)\n```\n\n### **-9**\n\nUse maximum compression (slowest)\n\n```console\n$ zip -9 archive.zip largefile.dat\n  adding: largefile.dat (deflated 65%)\n```\n\n### **-0**\n\nStore files without compression\n\n```console\n$ zip -0 archive.zip already-compressed.jpg\n  adding: already-compressed.jpg (stored 0%)\n```\n\n### **-v**\n\nDisplay verbose information about the zip operation\n\n```console\n$ zip -v archive.zip document.txt\n  adding: document.txt (deflated 35%)\nzip diagnostic: adding document.txt\nTotal bytes read: 1024 (1.0k)\nTotal bytes written: 665 (665b)\nCompression ratio: 35.1%\n```\n\n## Usage Examples\n\n### Creating a basic zip archive\n\n```console\n$ zip backup.zip file1.txt file2.txt\n  adding: file1.txt (deflated 42%)\n  adding: file2.txt (deflated 38%)\n```\n\n### Zipping an entire directory with subdirectories\n\n```console\n$ zip -r project.zip project/\n  adding: project/ (stored 0%)\n  adding: project/src/ (stored 0%)\n  adding: project/src/main.c (deflated 45%)\n  adding: project/docs/ (stored 0%)\n  adding: project/docs/readme.md (deflated 40%)\n```\n\n### Creating a password-protected zip file\n\n```console\n$ zip -e -r confidential.zip sensitive_data/\nEnter password: \nVerify password: \n  adding: sensitive_data/ (stored 0%)\n  adding: sensitive_data/accounts.xlsx (deflated 52%)\n  adding: sensitive_data/passwords.txt (deflated 35%)\n```\n\n### Updating files in an existing archive\n\n```console\n$ zip -u archive.zip updated_file.txt\nupdating: updated_file.txt (deflated 40%)\n```\n\n## Tips:\n\n### Use Different Compression Levels\n\nFor large archives, consider using different compression levels. Use `-0` for already compressed files (like JPEGs) and `-9` for text files where maximum compression is beneficial.\n\n### Exclude Unwanted Files\n\nUse patterns to exclude files: `zip -r archive.zip directory -x \"*.git*\" \"*.DS_Store\"` excludes Git files and macOS system files.\n\n### Create Self-Extracting Archives\n\nOn some systems, you can create self-extracting archives with `zip -A archive.zip`, which adds extraction code to make the ZIP file executable.\n\n### Split Large Archives\n\nFor very large archives that need to be transferred across limited media, use the `-s` option to split the archive into smaller pieces: `zip -s 100m -r archive.zip large_directory/`\n\n## Frequently Asked Questions\n\n#### Q1. How do I extract a ZIP file?\nA. Use the `unzip` command: `unzip archive.zip`. The `zip` command only creates or modifies archives.\n\n#### Q2. How can I see the contents of a ZIP file without extracting it?\nA. Use `unzip -l archive.zip` to list the contents without extraction.\n\n#### Q3. How do I create a ZIP file that preserves Unix permissions?\nA. Use the `-X` option: `zip -X archive.zip files` to preserve file attributes including Unix permissions.\n\n#### Q4. Can I add comments to a ZIP file?\nA. Yes, use the `-z` option: `zip -z archive.zip` and you'll be prompted to enter a comment.\n\n#### Q5. How do I handle filename encoding issues?\nA. Use `-UN=encoding` to specify the encoding for filenames, e.g., `zip -UN=UTF8 archive.zip files`.\n\n## macOS Considerations\n\nOn macOS, the default `zip` command may create additional hidden files like `.DS_Store` or `__MACOSX` directories in your archives. To avoid this, use the `-X` option to exclude extended attributes, or add exclusion patterns like `-x \"*.DS_Store\" \"__MACOSX/*\"`.\n\n## References\n\nhttps://linux.die.net/man/1/zip\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1678,
    "output_tokens": 1442
  }
}