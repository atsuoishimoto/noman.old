# sleep コマンド

指定した時間だけプロセスを一時停止（スリープ）させます。

## 概要

`sleep` コマンドは、指定された時間だけシェルの実行を一時停止させるシンプルなコマンドです。スクリプト内での遅延の作成、コマンドの実行間隔の調整、またはバッチ処理のタイミング制御などに使用されます。デフォルトでは秒単位で指定しますが、他の時間単位も使用できます。

## オプション

`sleep` コマンド自体にはオプションがほとんどありませんが、時間の単位を指定することができます：

### **時間の単位**

数値の後に以下の単位を付けることができます：
- `s`：秒（デフォルト）
- `m`：分
- `h`：時間
- `d`：日

```console
$ sleep 5s
# 5秒間一時停止する
```

## 使用例

### 基本的な使用法

```console
$ sleep 10
# 10秒間一時停止する
```

### 異なる時間単位の使用

```console
$ sleep 2m
# 2分間一時停止する

$ sleep 1h
# 1時間一時停止する

$ sleep 0.5s
# 0.5秒間一時停止する
```

### スクリプト内での使用例

```console
$ echo "処理を開始します"
処理を開始します
$ sleep 2
$ echo "2秒経過しました"
2秒経過しました
```

### 複数のコマンドを一定間隔で実行

```console
$ for i in {1..3}; do echo "繰り返し $i"; sleep 1; done
繰り返し 1
繰り返し 2
繰り返し 3
```

## ヒント:

### バックグラウンド実行

`sleep` コマンドをバックグラウンドで実行するには、コマンドの末尾に `&` を追加します。これにより、ターミナルをブロックせずに他のコマンドを実行できます。

```console
$ sleep 60 &
[1] 1234
```

### 複数の時間単位を組み合わせる

複数の時間単位を組み合わせることができます。

```console
$ sleep 1h 30m 10s
# 1時間30分10秒間一時停止する
```

### スクリプトでの活用

スクリプト内でAPIリクエストやサーバー接続の間に遅延を入れることで、レート制限やサーバー負荷を軽減できます。

## よくある質問

#### Q1. `sleep` コマンドを中断するにはどうすればよいですか？
A. 実行中の `sleep` コマンドを中断するには、`Ctrl+C` を押します。

#### Q2. 小数点の時間を指定できますか？
A. はい、`sleep 0.5` のように小数点を使用して秒単位で指定できます。

#### Q3. `sleep` コマンドは CPU リソースを消費しますか？
A. いいえ、`sleep` はシステムコールを使用してプロセスを一時停止させるため、実質的に CPU リソースを消費しません。

#### Q4. 最大どれくらいの時間を指定できますか？
A. システムによって異なりますが、通常は非常に長い時間（数年単位）まで指定できます。ただし、実用的には数日以内の使用が一般的です。

## 参考情報

https://www.gnu.org/software/coreutils/manual/html_node/sleep-invocation.html

## Revisions

- 2025/04/30 初版作成