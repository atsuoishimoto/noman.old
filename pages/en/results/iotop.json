{
  "id": "msg_01Qi9U19knUzAMwk4gVbGq8X",
  "content": [
    {
      "text": "# iotop command\n\nMonitor I/O usage by processes on the system.\n\n## Overview\n\n`iotop` is a top-like utility for monitoring I/O usage by processes or threads. It displays real-time disk I/O statistics, showing which processes are using the most disk read/write bandwidth. This tool is particularly useful for identifying I/O-intensive processes that might be causing system slowdowns.\n\n## Options\n\n### **-o, --only**\n\nOnly show processes or threads that are actually doing I/O\n\n```console\n$ sudo iotop -o\nTotal DISK READ:         0.00 B/s | Total DISK WRITE:         7.63 K/s\nCurrent DISK READ:       0.00 B/s | Current DISK WRITE:       0.00 B/s\n    TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND\n   1234 be/4 root        0.00 B/s    7.63 K/s  0.00 %  0.00 % systemd-journald\n```\n\n### **-b, --batch**\n\nRun in non-interactive mode, useful for logging\n\n```console\n$ sudo iotop -b -n 5\nTotal DISK READ:         0.00 B/s | Total DISK WRITE:        15.27 K/s\nCurrent DISK READ:       0.00 B/s | Current DISK WRITE:       0.00 B/s\n    TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND\n      1 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % systemd\n   1234 be/4 root        0.00 B/s   15.27 K/s  0.00 %  0.00 % systemd-journald\n[...]\n```\n\n### **-n NUM, --iter=NUM**\n\nSet the number of iterations before exiting (for non-interactive mode)\n\n```console\n$ sudo iotop -b -n 2\nTotal DISK READ:         0.00 B/s | Total DISK WRITE:        15.27 K/s\n[...output for 2 iterations...]\n```\n\n### **-d SEC, --delay=SEC**\n\nSet the delay between iterations in seconds (default 1.0)\n\n```console\n$ sudo iotop -d 5\n# Updates every 5 seconds instead of the default 1 second\n```\n\n### **-p PID, --pid=PID**\n\nMonitor only processes with specified PID\n\n```console\n$ sudo iotop -p 1234\n# Shows I/O statistics only for process with PID 1234\n```\n\n### **-u USER, --user=USER**\n\nMonitor only processes of specified user\n\n```console\n$ sudo iotop -u apache\n# Shows I/O statistics only for processes owned by user 'apache'\n```\n\n### **-a, --accumulated**\n\nShow accumulated I/O instead of bandwidth\n\n```console\n$ sudo iotop -a\n# Shows total I/O done since process start rather than current rate\n```\n\n## Usage Examples\n\n### Basic monitoring\n\n```console\n$ sudo iotop\nTotal DISK READ:         0.00 B/s | Total DISK WRITE:        23.47 K/s\nCurrent DISK READ:       0.00 B/s | Current DISK WRITE:       0.00 B/s\n    TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND\n      1 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % systemd\n   1234 be/4 root        0.00 B/s   15.27 K/s  0.00 %  0.00 % systemd-journald\n   2345 be/4 mysql       0.00 B/s    8.20 K/s  0.00 %  0.00 % mysqld\n```\n\n### Logging I/O activity to a file\n\n```console\n$ sudo iotop -botq -n 10 > io_log.txt\n# Logs 10 iterations of I/O activity in batch mode, showing only processes doing I/O,\n# with timestamps, and without header information\n```\n\n### Monitoring specific user's processes\n\n```console\n$ sudo iotop -o -u www-data\n# Shows only I/O-active processes owned by www-data user\n```\n\n## Tips:\n\n### Interactive Commands\n\nWhile running iotop interactively, you can use these keyboard shortcuts:\n- `o`: Toggle --only mode (show only processes doing I/O)\n- `p`: Toggle showing processes (vs threads)\n- `a`: Toggle accumulated I/O mode\n- `q`: Quit the program\n\n### Run with Sudo\n\n`iotop` requires root privileges to access I/O statistics. Always run it with `sudo` or as the root user.\n\n### Identify I/O Bottlenecks\n\nUse `iotop -o` to quickly identify which processes are currently causing I/O load, which is useful for troubleshooting system slowdowns.\n\n### Combine with Logging\n\nFor long-term monitoring, use `iotop -b -o -n [count] > logfile` to capture I/O statistics over time.\n\n## Frequently Asked Questions\n\n#### Q1. Why do I get \"iotop: command not found\"?\nA. You need to install iotop first. On Debian/Ubuntu: `sudo apt install iotop`, on RHEL/CentOS: `sudo yum install iotop`.\n\n#### Q2. Why do I get \"Permission denied\" when running iotop?\nA. iotop requires root privileges. Run it with `sudo iotop` or as the root user.\n\n#### Q3. How can I see only processes that are actively using disk I/O?\nA. Use `sudo iotop -o` to show only processes that are actually performing I/O operations.\n\n#### Q4. Can I log iotop output to a file?\nA. Yes, use batch mode: `sudo iotop -b -n [iterations] > filename.log`\n\n#### Q5. How do I monitor I/O for a specific process?\nA. Use `sudo iotop -p PID` where PID is the process ID you want to monitor.\n\n## References\n\nhttps://man7.org/linux/man-pages/man8/iotop.8.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1634,
    "output_tokens": 1587
  }
}