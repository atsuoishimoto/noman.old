# true コマンド

何も実行せずに常に成功（終了コード 0）を返す。

## 概要

`true` コマンドは何も実行せず、常に成功（終了コード 0）を返すシンプルなコマンドです。主にシェルスクリプトやコマンドラインでの条件分岐、無限ループの作成などに使用されます。

## オプション

`true` コマンドにはオプションがありません。引数を与えても無視されます。

```console
$ true
$ echo $?
0
```

## 使用例

### 無限ループの作成

```console
$ while true; do echo "無限ループ"; sleep 1; done
無限ループ
無限ループ
無限ループ
[Ctrl+C で停止]
```

### 条件分岐での使用

```console
$ if true; then echo "常に実行される"; fi
常に実行される
```

### シェルスクリプトでの使用例

```console
$ cat example.sh
#!/bin/bash
true || echo "これは表示されない"
false || echo "これは表示される"

$ bash example.sh
これは表示される
```

## ヒント:

### 無限ループの作成

`while true; do ... done` は、シェルスクリプトで無限ループを作成する最も一般的な方法です。ただし、必ず終了条件やCtrl+Cなどの中断手段を用意しておきましょう。

### 条件分岐のデフォルト値として

条件分岐で常に真の結果が必要な場合に使用できます。例えば、`if true; then ... fi` は常に条件が真として扱われます。

### falseコマンドとの対比

`true` の反対は `false` コマンドで、常に失敗（終了コード 1）を返します。両方を理解することで、より柔軟なシェルスクリプトが書けるようになります。

## よくある質問

#### Q1. `true` コマンドは何のために使われますか？
A. 主にシェルスクリプトで無限ループの作成や、常に成功する条件が必要な場合に使用されます。

#### Q2. `true` コマンドと `:` (コロン) コマンドの違いは何ですか？
A. 機能的にはほぼ同じですが、`:` はシェルのビルトインコマンドであるのに対し、`true` は通常は独立した実行ファイルです。どちらも常に成功（終了コード 0）を返します。

#### Q3. `true` コマンドを使った無限ループを安全に終了するにはどうすればよいですか？
A. Ctrl+C（割り込み信号）を送信するか、ループ内に条件付きの `break` ステートメントを含めることで終了できます。

## 参考情報

https://www.gnu.org/software/coreutils/manual/html_node/true-invocation.html

## 改訂履歴

- 2025/04/30 初版作成