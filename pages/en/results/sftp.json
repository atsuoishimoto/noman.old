{
  "id": "msg_01NBot9cmcDPbh9LApJ783mA",
  "content": [
    {
      "text": "# sftp command\n\nSecurely transfer files between hosts over an encrypted SSH connection.\n\n## Overview\n\nSFTP (Secure File Transfer Protocol) is a network protocol that provides file access, file transfer, and file management over a secure connection. The `sftp` command is an interactive file transfer program similar to FTP, but it performs all operations over an encrypted SSH transport.\n\n## Options\n\n### **-b** *batchfile*\n\nProcess batch file of sftp commands.\n\n```console\n$ sftp -b commands.txt user@remote.server\nConnecting to remote.server...\nsftp> get file.txt\nFetching /home/user/file.txt to file.txt\nsftp> exit\n```\n\n### **-F** *ssh_config*\n\nSpecifies an alternative per-user configuration file for ssh.\n\n```console\n$ sftp -F ~/.ssh/custom_config user@remote.server\nConnecting to remote.server...\n```\n\n### **-i** *identity_file*\n\nSelects the file from which the identity (private key) for public key authentication is read.\n\n```console\n$ sftp -i ~/.ssh/private_key user@remote.server\nConnecting to remote.server...\n```\n\n### **-l** *limit*\n\nLimits the used bandwidth, specified in Kbit/s.\n\n```console\n$ sftp -l 100 user@remote.server\nConnecting to remote.server...\n```\n\n### **-P** *port*\n\nSpecifies the port to connect to on the remote host.\n\n```console\n$ sftp -P 2222 user@remote.server\nConnecting to remote.server...\n```\n\n### **-r**\n\nRecursively copy entire directories.\n\n```console\n$ sftp user@remote.server\nsftp> get -r remote_directory\n```\n\n### **-v**\n\nRaises the logging level, causing sftp to print debugging messages about its progress.\n\n```console\n$ sftp -v user@remote.server\nOpenSSH_8.1p1, LibreSSL 2.7.3\ndebug1: Reading configuration data /etc/ssh/ssh_config\n...\n```\n\n## Usage Examples\n\n### Connecting to a Remote Server\n\n```console\n$ sftp user@remote.server\nConnected to remote.server.\nsftp>\n```\n\n### Downloading Files\n\n```console\n$ sftp user@remote.server\nsftp> get remote_file.txt local_file.txt\nFetching /home/user/remote_file.txt to local_file.txt\nsftp>\n```\n\n### Uploading Files\n\n```console\n$ sftp user@remote.server\nsftp> put local_file.txt remote_file.txt\nUploading local_file.txt to /home/user/remote_file.txt\nsftp>\n```\n\n### Navigating Directories\n\n```console\n$ sftp user@remote.server\nsftp> pwd\nRemote working directory: /home/user\nsftp> cd documents\nsftp> pwd\nRemote working directory: /home/user/documents\nsftp> lcd ~/downloads\nsftp> lpwd\nLocal working directory: /Users/localuser/downloads\n```\n\n### Listing Files\n\n```console\n$ sftp user@remote.server\nsftp> ls\nfile1.txt  file2.txt  documents/  images/\nsftp> lls\nlocal_file1.txt  local_file2.txt  downloads/\n```\n\n## Tips:\n\n### Use Tab Completion\n\nSFTP supports tab completion for both local and remote files, making it easier to navigate and transfer files without typing full paths.\n\n### Create Aliases for Common Connections\n\nAdd aliases to your shell configuration file for frequently used SFTP connections:\n```bash\nalias work-sftp='sftp user@work-server.com'\n```\n\n### Use Wildcards for Multiple File Transfers\n\nTransfer multiple files at once using wildcards:\n```\nsftp> get *.txt\n```\n\n### Enable Compression for Slow Connections\n\nUse the `-C` option to enable compression, which can speed up transfers on slow connections:\n```\n$ sftp -C user@remote.server\n```\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between SFTP and FTP?\nA. SFTP uses SSH for secure, encrypted file transfers, while traditional FTP sends data (including passwords) in plaintext, making it vulnerable to interception.\n\n#### Q2. How do I transfer an entire directory?\nA. Use the recursive option with get or put: `get -r remote_directory` or `put -r local_directory`.\n\n#### Q3. Can I automate SFTP transfers?\nA. Yes, use the `-b` option with a batch file containing SFTP commands, or consider using `scp` for simple transfers in scripts.\n\n#### Q4. How do I exit the SFTP session?\nA. Type `exit` or `quit` at the sftp prompt, or press Ctrl+D.\n\n#### Q5. How can I see what commands are available in SFTP?\nA. Type `help` or `?` at the sftp prompt to see a list of available commands.\n\n## References\n\nhttps://man.openbsd.org/sftp.1\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1679,
    "output_tokens": 1223
  }
}