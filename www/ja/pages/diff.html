<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  diff - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>diff コマンド</h1>
<p>ファイル間の違いを比較して表示します。</p>
<h2>概要</h2>
<p><code>diff</code> コマンドは2つのファイルを行ごとに比較し、その違いを表示します。テキストファイルの変更点を確認したり、コードの修正箇所を特定したりする際に非常に便利です。デフォルトでは、異なる行を含むブロックと、それらがどのように変更されたかを示します。</p>
<h2>オプション</h2>
<h3><strong>-u（統合形式）</strong></h3>
<p>変更された行の前後にコンテキスト（変更されていない行）も含めて表示します。これにより変更内容を理解しやすくなります。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">--- file1.txt	2025-04-30 10:00:00.000000000 +0900</span>
<span style="color: #000; font-style: italic">+++ file2.txt	2025-04-30 10:05:00.000000000 +0900</span>
<span style="color: #000; font-style: italic">@@ -1,3 +1,4 @@</span>
<span style="color: #000; font-style: italic"> これは最初の行です。</span>
<span style="color: #000; font-style: italic">-これは削除される行です。</span>
<span style="color: #000; font-style: italic">+これは変更された行です。</span>
<span style="color: #000; font-style: italic"> これは最後の行です。</span>
<span style="color: #000; font-style: italic">+これは追加された行です。</span>
</pre></div>
<h3><strong>-i（大文字小文字を無視）</strong></h3>
<p>大文字と小文字の違いを無視して比較します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span>uppercase.txt<span style="color: #F8F8F8"> </span>lowercase.txt
<span style="color: #8F5902">$ </span><span style="color: #8F5902; font-style: italic"># 大文字小文字のみが異なる場合は何も出力されない</span>
</pre></div>
<h3><strong>-r（再帰的に比較）</strong></h3>
<p>ディレクトリを再帰的に比較します。サブディレクトリ内のファイルも含めて比較します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>dir1<span style="color: #F8F8F8"> </span>dir2
<span style="color: #000; font-style: italic">diff -r dir1/file.txt dir2/file.txt</span>
<span style="color: #000; font-style: italic">2c2</span>
<span style="color: #000; font-style: italic">&lt; これは dir1 のファイルです。</span>
<span style="color: #000; font-style: italic">---</span>
<span style="color: #000; font-style: italic">&gt; これは dir2 のファイルです。</span>
</pre></div>
<h3><strong>-y（並列表示）</strong></h3>
<p>2つのファイルを並べて表示し、違いを視覚的に確認しやすくします。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-y<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">これは最初の行です。                  これは最初の行です。</span>
<span style="color: #000; font-style: italic">これは削除される行です。             | これは変更された行です。</span>
<span style="color: #000; font-style: italic">これは最後の行です。                  これは最後の行です。</span>
<span style="color: #000; font-style: italic">                                    &gt; これは追加された行です。</span>
</pre></div>
<h2>使用例</h2>
<h3>基本的な比較</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>file1.txt
<span style="color: #000; font-style: italic">Hello</span>
<span style="color: #000; font-style: italic">World</span>
<span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">Hello</span>
<span style="color: #000; font-style: italic">Beautiful</span>
<span style="color: #000; font-style: italic">World</span>
<span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">1a2</span>
<span style="color: #000; font-style: italic">&gt; Beautiful</span>
</pre></div>
<h3>変更内容をパッチファイルとして保存</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>original.txt<span style="color: #F8F8F8"> </span>modified.txt<span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>changes.patch
<span style="color: #8F5902">$ </span><span style="color: #8F5902; font-style: italic"># 変更内容がパッチファイルとして保存される</span>
</pre></div>
<h3>ディレクトリの比較</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>project_v1<span style="color: #F8F8F8"> </span>project_v2
<span style="color: #8F5902"># </span>2つのプロジェクトディレクトリ間の違いが表示される
</pre></div>
<h2>ヒント:</h2>
<h3>出力の読み方</h3>
<p><code>diff</code>の基本出力では、<code>&lt;</code>は最初のファイルの行、<code>&gt;</code>は2番目のファイルの行を示します。<code>a</code>（追加）、<code>c</code>（変更）、<code>d</code>（削除）の記号は変更の種類を表します。</p>
<h3>パッチの適用</h3>
<p><code>diff -u</code>で作成したパッチファイルは、<code>patch</code>コマンドで適用できます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>patch<span style="color: #F8F8F8"> </span>original.txt<span style="color: #F8F8F8"> </span>&lt;<span style="color: #F8F8F8"> </span>changes.patch
</pre></div>
<h3>色付き出力</h3>
<p>多くのシステムでは、<code>diff --color</code>を使用すると変更箇所が色分けされて表示されます。</p>
<h3>バイナリファイルの比較</h3>
<p>テキストファイル以外を比較する場合は、<code>cmp</code>コマンドや<code>hexdump</code>と組み合わせた方法を検討してください。</p>
<h2>よくある質問</h2>
<h4>Q1. <code>diff</code>と<code>git diff</code>の違いは何ですか？</h4>
<p>A. <code>diff</code>は基本的なファイル比較ツールで、<code>git diff</code>はGitリポジトリ内の変更を表示するためのGit固有のコマンドです。<code>git diff</code>はGitの追跡情報を利用して、より詳細な変更履歴を提供します。</p>
<h4>Q2. 大きなファイルを比較する場合、パフォーマンスの問題はありますか？</h4>
<p>A. はい、非常に大きなファイルを比較する場合、<code>diff</code>は遅くなることがあります。そのような場合は、<code>comm</code>や<code>cmp</code>などの代替コマンドを検討するか、ファイルを分割して比較することをお勧めします。</p>
<h4>Q3. バイナリファイルを比較できますか？</h4>
<p>A. <code>diff</code>は主にテキストファイル用に設計されています。バイナリファイルを比較するには、<code>cmp</code>や<code>hexdump</code>と組み合わせた方法、または専用のバイナリ比較ツールを使用することをお勧めします。</p>
<h4>Q4. 3つ以上のファイルを比較できますか？</h4>
<p>A. 標準の<code>diff</code>は2つのファイルのみを比較します。3つ以上のファイルを比較するには、<code>diff3</code>コマンドや、より高度な比較ツール（例：<code>meld</code>、<code>kdiff3</code>）を使用してください。</p>
<h2>macOSでの注意点</h2>
<p>macOSの<code>diff</code>はGNU版と若干の違いがあります。特に<code>--color</code>オプションがない場合があります。カラー出力が必要な場合は、Homebrewで<code>colordiff</code>をインストールするか、GNU版の<code>diff</code>（<code>gdiff</code>）をインストールすることを検討してください。</p>
<h2>参考情報</h2>
<p>https://www.gnu.org/software/diffutils/manual/html_node/diff.html</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/04/30 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>