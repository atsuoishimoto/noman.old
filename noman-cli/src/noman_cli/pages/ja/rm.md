# rm コマンド

ファイルやディレクトリをファイルシステムから削除します。

## 概要

`rm`コマンドはファイルシステムからファイルやディレクトリを削除します。デフォルトではファイルは削除しますが、ディレクトリは削除しません。`rm`で削除されたファイルは簡単に復元できないため、このコマンドは注意して使用してください。

## オプション

### **-f, --force**

存在しないファイルや引数を無視し、確認プロンプトを表示しません

```console
$ rm -f 存在しないファイル.txt
$
```

### **-i, --interactive**

削除の前に毎回確認を求めます

```console
$ rm -i 重要.txt
rm: remove regular file '重要.txt'? y
$
```

### **-r, -R, --recursive**

ディレクトリとその中身を再帰的に削除します

```console
$ rm -r プロジェクトフォルダ/
$
```

### **-d, --dir**

空のディレクトリを削除します

```console
$ rm -d 空ディレクトリ/
$
```

### **-v, --verbose**

実行中の操作を説明します

```console
$ rm -v ファイル.txt
removed 'ファイル.txt'
$
```

## 使用例

### 複数のファイルを削除する

```console
$ rm ファイル1.txt ファイル2.txt ファイル3.txt
$
```

### 確認付きでファイルを削除する

```console
$ rm -i *.txt
rm: remove regular file 'ドキュメント.txt'? y
rm: remove regular file 'メモ.txt'? n
$
```

### ディレクトリとその内容を削除する

```console
$ rm -rf 古いプロジェクト/
$
```

### 詳細出力付きでファイルを削除する

```console
$ rm -v *.log
removed 'app.log'
removed 'error.log'
removed 'system.log'
$
```

## ヒント:

### 安全のために -i フラグを使用する

重要なファイルを削除する際は、`rm -i`を使用して各削除前に確認プロンプトを表示させましょう。これにより、誤ってファイルを削除することを防げます。

### rm -rf は非常に注意して使用する

`-r`（再帰的）と`-f`（強制）の組み合わせは強力で危険です。`rm -rf /`や`rm -rf /*`は絶対に使用しないでください。システム全体が破壊される可能性があります。

### ワイルドカードは慎重に使用する

`*.txt`のようなワイルドカードを使用する前に、まず`ls *.txt`を実行して、どのファイルが対象になるかを確認しましょう。

### 安全のためのエイリアスを作成する

シェル設定で`alias rm='rm -i'`というエイリアスを作成することで、常に確認プロンプトを表示させることができます。

## よくある質問

#### Q1. rmで削除したファイルを復元できますか？
A. 一般的には不可能です。「ゴミ箱」や「リサイクルビン」に移動するのとは異なり、`rm`はファイルを完全に削除します。専門的なツールを使用して復元できる場合もありますが、保証はありません。

#### Q2. ディレクトリを削除するにはどうすればよいですか？
A. `rm -r ディレクトリ/`を使用してディレクトリとその内容をすべて削除できます。空のディレクトリの場合は、`rmdir ディレクトリ/`も使用できます。

#### Q3. 安全にファイルを削除するにはどうすればよいですか？
A. 対話式プロンプトには`rm -i`を使用するか、ファイルを完全に削除するのではなく、復元可能なゴミ箱の場所に移動する`trash-cli`ユーティリティの使用を検討してください。

#### Q4. 「Operation not permitted」とは何を意味しますか？
A. これは通常、ファイルを削除するための十分な権限がないことを示しています。管理者権限がある場合は、`sudo rm`を使用してみてください。

## macOSでの注意点

macOSでは、デフォルトの`rm`コマンドはファイルをゴミ箱に移動しません。削除されたファイルは完全に削除されます。代わりに`mv ファイル ~/.Trash/`を使用してファイルをゴミ箱に移動するか、この機能を提供する`trash`などのツールをインストールすることを検討してください。

## 参考資料

https://www.gnu.org/software/coreutils/manual/html_node/rm-invocation.html

## 改訂履歴

2025/05/04 初版作成