# hd コマンド

ファイルの内容を16進数形式で表示します。

## 概要

`hd`（hexdump）コマンドは、ファイルの内容を16進数とASCII文字の両方で表示するユーティリティです。バイナリファイルの内容を確認したり、テキストファイルの非表示文字を調査したりする際に便利です。多くのシステムでは、`hexdump`コマンドの別名または同等のコマンドとして機能します。

## オプション

### **-n LENGTH**

指定したバイト数だけ表示します。

```console
$ hd -n 16 file.txt
00000000  48 65 6c 6c 6f 2c 20 57  6f 72 6c 64 21 0a 54 68  |Hello, World!.Th|
```

### **-s OFFSET**

指定したオフセット（バイト位置）から表示を開始します。

```console
$ hd -s 10 file.txt
0000000a  64 21 0a 54 68 69 73 20  69 73 20 61 20 74 65 73  |d!.This is a tes|
0000001a  74 20 66 69 6c 65 2e 0a                           |t file..|
```

### **-v**

重複行を省略せずに表示します（冗長モード）。

```console
$ hd -v file.txt
00000000  48 65 6c 6c 6f 2c 20 57  6f 72 6c 64 21 0a 54 68  |Hello, World!.Th|
00000010  69 73 20 69 73 20 61 20  74 65 73 74 20 66 69 6c  |is is a test fil|
00000020  65 2e 0a                                          |e..|
```

### **-C**

キャノニカル形式で出力します（16進数とASCII表示）。

```console
$ hd -C file.txt
00000000  48 65 6c 6c 6f 2c 20 57  6f 72 6c 64 21 0a 54 68  |Hello, World!.Th|
00000010  69 73 20 69 73 20 61 20  74 65 73 74 20 66 69 6c  |is is a test fil|
00000020  65 2e 0a                                          |e..|
```

## 使用例

### テキストファイルの内容を16進数で表示

```console
$ echo "Hello, World!" > sample.txt
$ hd sample.txt
00000000  48 65 6c 6c 6f 2c 20 57  6f 72 6c 64 21 0a        |Hello, World!.|
0000000e
```

### バイナリファイルの先頭部分を確認

```console
$ hd -n 32 /bin/ls
00000000  cf fa ed fe 07 00 00 01  03 00 00 80 02 00 00 00  |................|
00000010  10 00 00 00 18 07 00 00  85 00 20 00 00 00 00 00  |.......... .....|
```

### 標準入力からの16進数ダンプ

```console
$ echo "Testing 123" | hd
00000000  54 65 73 74 69 6e 67 20  31 32 33 0a              |Testing 123.|
0000000c
```

## ヒント:

### 非表示文字の確認

テキストファイルに含まれる改行コードやタブなどの非表示文字を確認するのに役立ちます。

### バイナリファイルのヘッダー解析

多くのバイナリファイル形式は特定のヘッダー構造を持っています。`hd`を使用して最初の数バイトを確認することで、ファイルタイプを識別できることがあります。

### 大きなファイルの部分表示

`-n`と`-s`オプションを組み合わせることで、大きなファイルの特定の部分だけを効率的に調査できます。

## よくある質問

#### Q1. `hd`と`hexdump`の違いは何ですか？
A. 多くのシステムでは、`hd`は`hexdump`コマンドの別名または同等の機能を持つコマンドです。システムによっては、`hd`が`hexdump -C`のエイリアスとして設定されていることがあります。

#### Q2. ファイルの特定の部分だけを表示するにはどうすればいいですか？
A. `-s`オプションでオフセット（開始位置）を指定し、`-n`オプションで表示するバイト数を指定します。例：`hd -s 100 -n 50 file.bin`

#### Q3. 出力の見方を教えてください。
A. 出力は左から順に、オフセット（16進数）、16進数でのバイト値、そして右側にASCII表現が表示されます。表示できない文字は通常ドット（.）で表されます。

## macOSでの注意点

macOSでは、`hd`コマンドは通常`hexdump`のエイリアスとして設定されています。もし`hd`コマンドが見つからない場合は、`hexdump -C`を使用するか、`alias hd='hexdump -C'`をシェル設定ファイルに追加してください。

## 参考資料

https://www.freebsd.org/cgi/man.cgi?query=hexdump

## 改訂履歴

- 2025/04/30 初版作成