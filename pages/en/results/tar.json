{
  "id": "msg_01BFpqkPCAKvHBttCkpyLyeX",
  "content": [
    {
      "text": "# tar command\n\nManipulate tape archives by creating, extracting, listing, or updating files in archive format.\n\n## Overview\n\nThe `tar` command creates, maintains, and extracts files from archive files known as tarballs. It's commonly used for packaging files together for distribution or backup, preserving file permissions, ownership, and directory structure. Originally designed for tape archives (hence the name), it's now primarily used for file archiving on disk.\n\n## Options\n\n### **-c, --create**\n\nCreate a new archive\n\n```console\n$ tar -c -f archive.tar file1.txt file2.txt\n```\n\n### **-x, --extract**\n\nExtract files from an archive\n\n```console\n$ tar -x -f archive.tar\n```\n\n### **-t, --list**\n\nList the contents of an archive\n\n```console\n$ tar -t -f archive.tar\nfile1.txt\nfile2.txt\n```\n\n### **-f, --file=ARCHIVE**\n\nUse archive file or device ARCHIVE (required for most operations)\n\n```console\n$ tar -c -f backup.tar documents/\n```\n\n### **-v, --verbose**\n\nVerbosely list files processed\n\n```console\n$ tar -cvf archive.tar file1.txt file2.txt\nfile1.txt\nfile2.txt\n```\n\n### **-z, --gzip**\n\nFilter the archive through gzip (create/extract .tar.gz files)\n\n```console\n$ tar -czf archive.tar.gz directory/\n```\n\n### **-j, --bzip2**\n\nFilter the archive through bzip2 (create/extract .tar.bz2 files)\n\n```console\n$ tar -cjf archive.tar.bz2 directory/\n```\n\n### **-C, --directory=DIR**\n\nChange to directory DIR before performing any operations\n\n```console\n$ tar -xf archive.tar -C /tmp/extract/\n```\n\n### **--exclude=PATTERN**\n\nExclude files matching PATTERN\n\n```console\n$ tar -cf backup.tar --exclude=\"*.log\" directory/\n```\n\n## Usage Examples\n\n### Creating a compressed archive\n\n```console\n$ tar -czf project-backup.tar.gz project/\n```\n\n### Extracting a compressed archive\n\n```console\n$ tar -xzf project-backup.tar.gz\n```\n\n### Listing contents of a compressed archive\n\n```console\n$ tar -tzf project-backup.tar.gz\nproject/\nproject/file1.txt\nproject/file2.txt\nproject/subdirectory/\nproject/subdirectory/file3.txt\n```\n\n### Extracting specific files from an archive\n\n```console\n$ tar -xf archive.tar file1.txt\n```\n\n### Creating an archive with verbose output\n\n```console\n$ tar -cvf documents.tar Documents/\nDocuments/\nDocuments/report.pdf\nDocuments/presentation.pptx\nDocuments/notes.txt\n```\n\n## Tips:\n\n### Combine Options for Brevity\n\nYou can combine options without the hyphen, like `tar czf` instead of `tar -c -z -f`. This is a common shorthand used by experienced users.\n\n### Preserve Permissions and Ownership\n\nBy default, `tar` preserves file permissions and ownership. When extracting as root, be careful as this could create files with restricted permissions.\n\n### Use Progress Indicators for Large Archives\n\nFor large archives, add `--checkpoint=1000 --checkpoint-action=dot` to show progress dots during operation.\n\n### Verify Archive Integrity\n\nUse `tar -tf archive.tar` to verify an archive's contents without extracting it. This helps ensure the archive isn't corrupted.\n\n### Remember Compression Type When Extracting\n\nYou must specify the same compression option when extracting as was used when creating the archive (e.g., `-z` for gzip, `-j` for bzip2).\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between .tar, .tar.gz, and .tar.bz2?\nA. `.tar` is an uncompressed archive, `.tar.gz` is compressed with gzip (faster, less compression), and `.tar.bz2` is compressed with bzip2 (slower, better compression).\n\n#### Q2. How do I extract a single file from a tar archive?\nA. Use `tar -xf archive.tar path/to/specific/file` to extract just that file.\n\n#### Q3. How can I see what's in a tar file without extracting it?\nA. Use `tar -tf archive.tar` to list all files without extraction.\n\n#### Q4. How do I create a tar archive that excludes certain files?\nA. Use the `--exclude` option: `tar -cf archive.tar directory/ --exclude=\"*.tmp\"`.\n\n#### Q5. How do I update files in an existing tar archive?\nA. Use the `-u` or `--update` option: `tar -uf archive.tar newfile.txt`.\n\n## References\n\nhttps://www.gnu.org/software/tar/manual/tar.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1632,
    "output_tokens": 1178
  }
}