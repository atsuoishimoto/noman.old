<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  set - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>set command</h1>
<p>Display or set shell options and positional parameters.</p>
<h2>Overview</h2>
<p>The <code>set</code> command is used to manipulate shell options and positional parameters. It can display all variables, change the behavior of the shell by enabling or disabling options, or set positional parameters. It's a powerful command for controlling shell execution environments and debugging scripts.</p>
<h2>Options</h2>
<h3><strong>-e (--errexit)</strong></h3>
<p>Exit immediately if a command exits with a non-zero status.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-e
<span style="color: #8F5902">$ </span>non_existent_command
<span style="color: #000; font-style: italic">bash: non_existent_command: command not found</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;This won&#39;t be executed&quot;</span>
<span style="color: #000; font-style: italic">[Shell has already exited due to the error]</span>
</pre></div>
<h3><strong>-x (--xtrace)</strong></h3>
<p>Print commands and their arguments as they are executed. Useful for debugging scripts.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-x
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span>
<span style="color: #000; font-style: italic">+ echo &#39;Hello World&#39;</span>
<span style="color: #000; font-style: italic">Hello World</span>
</pre></div>
<h3><strong>-u (--nounset)</strong></h3>
<p>Treat unset variables as an error when substituting.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-u
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$UNDEFINED_VARIABLE</span>
<span style="color: #000; font-style: italic">bash: UNDEFINED_VARIABLE: unbound variable</span>
</pre></div>
<h3><strong>-o option-name</strong></h3>
<p>Set the option corresponding to option-name.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-o<span style="color: #F8F8F8"> </span>pipefail
<span style="color: #8F5902">$ </span>non_existent_command<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;This will still run&quot;</span>
<span style="color: #000; font-style: italic">This will still run</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$?</span>
<span style="color: #000; font-style: italic">127</span>
</pre></div>
<h3><strong>+o option-name</strong></h3>
<p>Unset the option corresponding to option-name.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>+o<span style="color: #F8F8F8"> </span>pipefail
<span style="color: #8F5902">$ </span>non_existent_command<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;This will run&quot;</span>
<span style="color: #000; font-style: italic">This will run</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$?</span>
<span style="color: #000; font-style: italic">0</span>
</pre></div>
<h3><strong>--</strong></h3>
<p>End option processing. Useful when you want to set positional parameters that start with a dash.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>--<span style="color: #F8F8F8"> </span>-a<span style="color: #F8F8F8"> </span>-b<span style="color: #F8F8F8"> </span>-c
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$1</span><span style="color: #F8F8F8"> </span><span style="color: #000">$2</span><span style="color: #F8F8F8"> </span><span style="color: #000">$3</span>
<span style="color: #000; font-style: italic">-a -b -c</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Displaying all variables and functions</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span>
<span style="color: #000; font-style: italic">BASH=/bin/bash</span>
<span style="color: #000; font-style: italic">BASHOPTS=checkwinsize:cmdhist:complete_fullquote:expand_aliases:...</span>
<span style="color: #000; font-style: italic">...</span>
<span style="color: #000; font-style: italic">[many more variables and functions]</span>
</pre></div>
<h3>Setting positional parameters</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>one<span style="color: #F8F8F8"> </span>two<span style="color: #F8F8F8"> </span>three
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$1</span><span style="color: #F8F8F8"> </span><span style="color: #000">$2</span><span style="color: #F8F8F8"> </span><span style="color: #000">$3</span>
<span style="color: #000; font-style: italic">one two three</span>
</pre></div>
<h3>Enabling multiple options at once</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-ex
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Commands will be traced and script will exit on error&quot;</span>
<span style="color: #000; font-style: italic">+ echo &#39;Commands will be traced and script will exit on error&#39;</span>
<span style="color: #000; font-style: italic">Commands will be traced and script will exit on error</span>
</pre></div>
<h3>Saving and restoring shell options</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #000">oldstate</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87; font-weight: bold">$(</span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>+o<span style="color: #204A87; font-weight: bold">)</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">set</span><span style="color: #F8F8F8"> </span>-e
<span style="color: #8F5902">$ </span><span style="color: #8F5902; font-style: italic"># Do something that might fail</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">eval</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;</span><span style="color: #000">$oldstate</span><span style="color: #4E9A06">&quot;</span><span style="color: #F8F8F8">  </span><span style="color: #8F5902; font-style: italic"># Restore previous state</span>
</pre></div>
<h2>Tips</h2>
<h3>Use set -e in Scripts</h3>
<p>Adding <code>set -e</code> at the beginning of your scripts makes them fail fast when errors occur, preventing cascading failures that might be harder to debug.</p>
<h3>Debugging with set -x</h3>
<p>When a script isn't working as expected, temporarily add <code>set -x</code> to see each command as it executes with its expanded variables.</p>
<h3>Combine Options for Safer Scripts</h3>
<p>The combination <code>set -euo pipefail</code> is commonly used in scripts to make them more robust by failing on errors, undefined variables, and pipeline failures.</p>
<h3>Reset Positional Parameters</h3>
<p>Use <code>set --</code> with no arguments to clear all positional parameters.</p>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What's the difference between <code>set</code> and <code>export</code>?</h4>
<p>A. <code>set</code> displays/changes shell options and positional parameters, while <code>export</code> makes variables available to child processes.</p>
<h4>Q2. How do I turn off a set option?</h4>
<p>A. Use the <code>+</code> sign instead of <code>-</code>. For example, <code>set +x</code> turns off command tracing that was enabled with <code>set -x</code>.</p>
<h4>Q3. How can I see what options are currently set?</h4>
<p>A. Use <code>set -o</code> to see the current state of all shell options.</p>
<h4>Q4. Can I use <code>set</code> to create variables?</h4>
<p>A. No, <code>set</code> doesn't create regular variables. Use variable assignment like <code>VAR=value</code> instead. <code>set</code> only affects shell options and positional parameters.</p>
<h2>References</h2>
<p>https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>