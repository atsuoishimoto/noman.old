{
  "id": "msg_01C1up5JFSRRePDWh41Z7hdj",
  "content": [
    {
      "text": "# update-alternatives command\n\nManages symbolic links determining default commands in the alternatives system.\n\n## Overview\n\n`update-alternatives` creates, removes, maintains, and displays information about symbolic links that determine which commands are run when a user enters a particular command name. It's part of the Debian alternatives system that allows multiple versions of the same program to coexist on a system, with one version designated as the default.\n\n## Options\n\n### **--install**\n\nCreates a new alternative link group\n\n```console\n$ sudo update-alternatives --install /usr/bin/editor editor /usr/bin/vim 50\nupdate-alternatives: using /usr/bin/vim to provide /usr/bin/editor (editor) in auto mode\n```\n\n### **--config**\n\nConfigures which alternative to use for a link group\n\n```console\n$ sudo update-alternatives --config editor\nThere are 3 choices for the alternative editor (providing /usr/bin/editor).\n\n  Selection    Path                Priority   Status\n------------------------------------------------------------\n* 0            /usr/bin/vim         50        auto mode\n  1            /usr/bin/emacs       40        manual mode\n  2            /usr/bin/nano        30        manual mode\n  3            /usr/bin/vim         50        manual mode\n\nPress <enter> to keep the current choice[*], or type selection number:\n```\n\n### **--display**\n\nDisplays information about a link group\n\n```console\n$ update-alternatives --display editor\neditor - auto mode\n  link best version is /usr/bin/vim\n  link currently points to /usr/bin/vim\n  link editor is /usr/bin/editor\n  slave editor.1.gz is /usr/share/man/man1/editor.1.gz\n  slave editor.fr.1.gz is /usr/share/man/fr/man1/editor.1.gz\n  /usr/bin/emacs - priority 40\n  /usr/bin/nano - priority 30\n  /usr/bin/vim - priority 50\n```\n\n### **--remove**\n\nRemoves an alternative from a link group\n\n```console\n$ sudo update-alternatives --remove editor /usr/bin/emacs\nupdate-alternatives: removing editor (/usr/bin/emacs) from auto mode\n```\n\n### **--set**\n\nSets a specific alternative as the selected one for a link group\n\n```console\n$ sudo update-alternatives --set editor /usr/bin/nano\nupdate-alternatives: using /usr/bin/nano to provide /usr/bin/editor (editor) in manual mode\n```\n\n### **--auto**\n\nSets a link group to automatic mode (highest priority alternative is used)\n\n```console\n$ sudo update-alternatives --auto editor\nupdate-alternatives: using /usr/bin/vim to provide /usr/bin/editor (editor) in auto mode\n```\n\n## Usage Examples\n\n### Setting up Java alternatives\n\n```console\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-11-openjdk/bin/java 1100\nupdate-alternatives: using /usr/lib/jvm/java-11-openjdk/bin/java to provide /usr/bin/java (java) in auto mode\n\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-8-openjdk/bin/java 1000\nupdate-alternatives: using /usr/lib/jvm/java-11-openjdk/bin/java to provide /usr/bin/java (java) in auto mode\n\n$ sudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                      Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-11-openjdk/bin/java     1100      auto mode\n  1            /usr/lib/jvm/java-8-openjdk/bin/java      1000      manual mode\n  2            /usr/lib/jvm/java-11-openjdk/bin/java     1100      manual mode\n\nPress <enter> to keep the current choice[*], or type selection number:\n```\n\n### Checking which alternatives are available for a command\n\n```console\n$ update-alternatives --list editor\n/usr/bin/emacs\n/usr/bin/nano\n/usr/bin/vim\n```\n\n## Tips\n\n### Understanding Priority Values\n\nHigher priority values (like 100 vs 50) make an alternative more likely to be chosen in automatic mode. When setting up alternatives, assign higher numbers to preferred versions.\n\n### Managing Groups of Related Commands\n\nFor programs with multiple commands (like Java's java, javac, jar), create alternatives for each command to ensure consistent versioning across all tools.\n\n### Automatic vs Manual Mode\n\nIn automatic mode, the system selects the alternative with the highest priority. In manual mode, the system keeps your selected choice even if a higher priority alternative is installed later.\n\n### Slave Links\n\nUse slave links (with `--slave` option) to manage related files like man pages that should change together with the main alternative.\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between automatic and manual mode?\nA. In automatic mode, the system selects the alternative with the highest priority. In manual mode, your selected choice remains until you explicitly change it.\n\n#### Q2. How do I see all available alternatives for a command?\nA. Use `update-alternatives --list command_name` to see all alternatives, or `update-alternatives --display command_name` for more detailed information.\n\n#### Q3. How do I completely remove an alternative?\nA. Use `update-alternatives --remove link_name path` to remove a specific alternative from a group.\n\n#### Q4. What priority number should I use when installing alternatives?\nA. Priority can be any integer. Higher numbers (like 100) have higher priority than lower numbers (like 10). Choose values that reflect your preference order.\n\n## References\n\nhttps://manpages.debian.org/bullseye/dpkg/update-alternatives.1.en.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1634,
    "output_tokens": 1400
  }
}