<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  install - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>install コマンド</h1>
<p>ファイルをコピーし、モード、所有者、グループを設定するコマンドです。</p>
<h2>概要</h2>
<p><code>install</code> コマンドは、ファイルをコピーして、同時にパーミッション（アクセス権限）、所有者、グループを設定できるユーティリティです。主にソフトウェアのインストールスクリプトで使用され、実行可能ファイルやライブラリ、設定ファイルなどを適切な場所に配置する際に便利です。<code>cp</code> コマンドの拡張版と考えることができます。</p>
<h2>オプション</h2>
<h3><strong>-m, --mode=MODE</strong></h3>
<p>コピー先のファイルのパーミッションを設定します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>install<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>myprogram<span style="color: #F8F8F8"> </span>/usr/local/bin/
<span style="color: #8F5902"># </span>myprogram<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/usr/local/bin/<span style="color: #F8F8F8"> </span>にコピーし、実行権限を付与する
</pre></div>
<h3><strong>-o, --owner=OWNER</strong></h3>
<p>コピー先のファイルの所有者を設定します（通常はroot権限が必要）。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>install<span style="color: #F8F8F8"> </span>-o<span style="color: #F8F8F8"> </span>root<span style="color: #F8F8F8"> </span>myfile<span style="color: #F8F8F8"> </span>/etc/
<span style="color: #8F5902"># </span>myfile<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/etc/<span style="color: #F8F8F8"> </span>にコピーし、所有者を<span style="color: #F8F8F8"> </span>root<span style="color: #F8F8F8"> </span>に設定する
</pre></div>
<h3><strong>-g, --group=GROUP</strong></h3>
<p>コピー先のファイルのグループを設定します（通常はroot権限が必要）。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>install<span style="color: #F8F8F8"> </span>-g<span style="color: #F8F8F8"> </span>wheel<span style="color: #F8F8F8"> </span>myfile<span style="color: #F8F8F8"> </span>/usr/local/etc/
<span style="color: #8F5902"># </span>myfile<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/usr/local/etc/<span style="color: #F8F8F8"> </span>にコピーし、グループを<span style="color: #F8F8F8"> </span>wheel<span style="color: #F8F8F8"> </span>に設定する
</pre></div>
<h3><strong>-d, --directory</strong></h3>
<p>指定したディレクトリを作成します（存在しない場合）。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>install<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>/path/to/new/directory
<span style="color: #8F5902"># </span>新しいディレクトリを作成し、パーミッションを<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>に設定する
</pre></div>
<h3><strong>-s, --strip</strong></h3>
<p>バイナリファイルからシンボルテーブルを削除します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>install<span style="color: #F8F8F8"> </span>-s<span style="color: #F8F8F8"> </span>myprogram<span style="color: #F8F8F8"> </span>/usr/local/bin/
<span style="color: #8F5902"># </span>シンボル情報を削除してバイナリサイズを小さくしてからコピーする
</pre></div>
<h2>使用例</h2>
<h3>実行可能ファイルのインストール</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>install<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>myprogram<span style="color: #F8F8F8"> </span>/usr/local/bin/
<span style="color: #8F5902"># </span>myprogram<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/usr/local/bin/<span style="color: #F8F8F8"> </span>にコピーし、実行権限を付与する
</pre></div>
<h3>設定ファイルのインストール</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>install<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">644</span><span style="color: #F8F8F8"> </span>-o<span style="color: #F8F8F8"> </span>root<span style="color: #F8F8F8"> </span>-g<span style="color: #F8F8F8"> </span>wheel<span style="color: #F8F8F8"> </span>config.conf<span style="color: #F8F8F8"> </span>/etc/
<span style="color: #8F5902"># </span>config.conf<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/etc/<span style="color: #F8F8F8"> </span>にコピーし、パーミッションを<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">644</span>、所有者を<span style="color: #F8F8F8"> </span>root、グループを<span style="color: #F8F8F8"> </span>wheel<span style="color: #F8F8F8"> </span>に設定する
</pre></div>
<h3>複数のディレクトリを一度に作成</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>install<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>dir1<span style="color: #F8F8F8"> </span>dir2<span style="color: #F8F8F8"> </span>dir3
<span style="color: #8F5902"># </span>dir1、dir2、dir3<span style="color: #F8F8F8"> </span>ディレクトリを作成し、パーミッションを<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">755</span><span style="color: #F8F8F8"> </span>に設定する
</pre></div>
<h3>バックアップの作成</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>install<span style="color: #F8F8F8"> </span>-b<span style="color: #F8F8F8"> </span>config.conf<span style="color: #F8F8F8"> </span>/etc/
<span style="color: #8F5902"># </span>config.conf<span style="color: #F8F8F8"> </span>を<span style="color: #F8F8F8"> </span>/etc/<span style="color: #F8F8F8"> </span>にコピーし、既存のファイルがある場合はバックアップを作成する
</pre></div>
<h2>ヒント:</h2>
<h3>cp コマンドとの違い</h3>
<p><code>install</code> コマンドは <code>cp</code> コマンドと似ていますが、一度の操作でパーミッション設定や所有者変更ができるため、システムファイルのインストールに適しています。</p>
<h3>Makefile での利用</h3>
<p>ソフトウェアの <code>Makefile</code> では、<code>install</code> コマンドがよく使われます。これにより、ビルドしたバイナリを適切な権限で正しい場所にインストールできます。</p>
<h3>ディレクトリ構造の作成</h3>
<p><code>install -d</code> は <code>mkdir -p</code> と似ていますが、同時にパーミッションも設定できるため、セキュアなディレクトリ構造を作成する際に便利です。</p>
<h2>よくある質問</h2>
<h4>Q1. install コマンドと cp コマンドの主な違いは何ですか？</h4>
<p>A. <code>install</code> はファイルのコピーと同時にパーミッション、所有者、グループを設定できます。また、ディレクトリの作成やバイナリのストリップなど、ソフトウェアインストール向けの機能があります。</p>
<h4>Q2. sudo を使わずに install コマンドを実行できますか？</h4>
<p>A. はい、自分が所有するディレクトリ内であれば <code>sudo</code> なしで実行できます。ただし、所有者やグループを変更する場合や、システムディレクトリにファイルをコピーする場合は <code>sudo</code> が必要です。</p>
<h4>Q3. install コマンドでディレクトリ全体をコピーできますか？</h4>
<p>A. いいえ、<code>install</code> は基本的に単一ファイルのコピーに対応しています。ディレクトリ全体をコピーするには、<code>cp -r</code> や <code>rsync</code> などの他のコマンドを使用するか、シェルスクリプトで個別のファイルに対して <code>install</code> を実行する必要があります。</p>
<h4>Q4. install -d と mkdir -p の違いは何ですか？</h4>
<p>A. どちらも必要に応じて親ディレクトリを作成しますが、<code>install -d</code> はパーミッションも同時に設定できます。<code>mkdir -p</code> の後に <code>chmod</code> を実行するのと同等です。</p>
<h2>macOS での注意点</h2>
<p>macOSの <code>install</code> コマンドは GNU バージョンと若干異なる場合があります。特に、一部のオプション（<code>--compare</code>、<code>--preserve-timestamps</code> など）がサポートされていない可能性があります。macOS で GNU 互換の <code>install</code> コマンドを使用したい場合は、Homebrew などのパッケージマネージャで <code>coreutils</code> をインストールし、<code>ginstall</code> として使用できます。</p>
<h2>参考文献</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/install-invocation.html</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/04/30 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>