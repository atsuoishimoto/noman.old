# nc コマンドの概要

`nc`（netcat）は、ネットワーク接続の読み書きを行うためのシンプルなユーティリティです。「ネットワークのスイスアーミーナイフ」とも呼ばれ、ポートスキャン、ファイル転送、チャットなど様々なネットワークタスクに使用できます。

## 主なオプション

- **-l**: リッスンモード（サーバーとして動作）
  - 例: `nc -l 8080`（8080ポートでの接続を待ち受けます）

- **-p**: ポート番号の指定（クライアントモード時）
  - 例: `nc -p 12345 example.com 80`（ローカルポート12345から接続）

- **-v**: 詳細（verbose）出力
  - 例: `nc -v example.com 80`（接続の詳細情報を表示）

- **-z**: スキャンモード（接続せずにポートの開閉状態を確認）
  - 例: `nc -z -v example.com 20-30`（20〜30番ポートをスキャン）

- **-w**: タイムアウト時間の設定（秒）
  - 例: `nc -w 5 example.com 80`（5秒でタイムアウト）

- **-u**: UDPモード（デフォルトはTCP）
  - 例: `nc -u example.com 53`（UDPで53番ポートに接続）

## 使用例

### 1. 基本的な接続（HTTPリクエスト）

```bash
# Webサーバーに接続してHTTPリクエストを送信
nc example.com 80
GET / HTTP/1.1
Host: example.com

# 出力例
HTTP/1.1 200 OK
Content-Type: text/html
...
```

### 2. シンプルなチャットサーバー

```bash
# サーバー側（ポート8080でリッスン）
nc -l 8080

# クライアント側（サーバーに接続）
nc 192.168.1.100 8080

# これで双方向のテキスト通信が可能になる
```

### 3. ファイル転送

```bash
# 受信側（サーバー）
nc -l 8080 > received_file.txt

# 送信側（クライアント）
nc 192.168.1.100 8080 < file_to_send.txt
```

### 4. ポートスキャン

```bash
# 特定のホストの複数ポートをスキャン
nc -z -v example.com 20-25

# 出力例
nc: connect to example.com port 20 (tcp) failed: Connection refused
nc: connect to example.com port 21 (tcp) succeeded!
nc: connect to example.com port 22 (tcp) succeeded!
...
```

## 追加情報

- `nc`コマンドはセキュリティ監査やネットワークのデバッグに非常に便利ですが、悪意ある目的にも使用できるため、多くの組織ではその使用が制限されている場合があります。

- 一部のシステムでは`nc`の代わりに`ncat`や`netcat`コマンドが使用されることがあります。機能は似ていますが、オプションが若干異なる場合があります。

- 長時間のリッスンや接続を維持するには、`-k`オプション（一部のバージョンでサポート）を使用すると、接続が切れた後もリッスンを継続できます。

- セキュアな通信が必要な場合は、`ncat`の`--ssl`オプションや、代わりに`openssl s_client`/`s_server`コマンドの使用を検討してください。