<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  uniq - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>uniq command</h1>
<p>Filter out or report adjacent duplicate lines from input.</p>
<h2>Overview</h2>
<p>The <code>uniq</code> command processes text input and filters out or identifies repeated lines that appear consecutively. It requires sorted input to work properly, as it only compares adjacent lines. Commonly used with the <code>sort</code> command, <code>uniq</code> helps eliminate duplicates or count how many times each line appears in a file.</p>
<h2>Options</h2>
<h3><strong>-c, --count</strong></h3>
<p>Prefix lines with the number of occurrences</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>names.txt
<span style="color: #000; font-style: italic">Alice</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>names.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-c
<span style="color: #000; font-style: italic">      1 Alice</span>
<span style="color: #000; font-style: italic">      2 Bob</span>
<span style="color: #000; font-style: italic">      3 Charlie</span>
</pre></div>
<h3><strong>-d, --repeated</strong></h3>
<p>Only print duplicate lines, one for each group</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>names.txt
<span style="color: #000; font-style: italic">Alice</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>names.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-d
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Charlie</span>
</pre></div>
<h3><strong>-u, --unique</strong></h3>
<p>Only print unique lines (not duplicated in input)</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>names.txt
<span style="color: #000; font-style: italic">Alice</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Bob</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #000; font-style: italic">Charlie</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>names.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-u
<span style="color: #000; font-style: italic">Alice</span>
</pre></div>
<h3><strong>-i, --ignore-case</strong></h3>
<p>Ignore differences in case when comparing lines</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>mixed-case.txt
<span style="color: #000; font-style: italic">apple</span>
<span style="color: #000; font-style: italic">Apple</span>
<span style="color: #000; font-style: italic">banana</span>
<span style="color: #000; font-style: italic">BANANA</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>mixed-case.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-i
<span style="color: #000; font-style: italic">apple</span>
<span style="color: #000; font-style: italic">banana</span>
</pre></div>
<h3><strong>-f N, --skip-fields=N</strong></h3>
<p>Skip comparing the first N fields</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>data.txt
<span style="color: #000; font-style: italic">1 John Smith</span>
<span style="color: #000; font-style: italic">1 Jane Doe</span>
<span style="color: #000; font-style: italic">2 John Smith</span>
<span style="color: #8F5902">$ </span>uniq<span style="color: #F8F8F8"> </span>-f<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span>data.txt
<span style="color: #000; font-style: italic">1 John Smith</span>
<span style="color: #000; font-style: italic">1 Jane Doe</span>
<span style="color: #000; font-style: italic">2 John Smith</span>
</pre></div>
<h3><strong>-s N, --skip-chars=N</strong></h3>
<p>Skip comparing the first N characters</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>codes.txt
<span style="color: #000; font-style: italic">ABC123</span>
<span style="color: #000; font-style: italic">ABC456</span>
<span style="color: #000; font-style: italic">DEF123</span>
<span style="color: #8F5902">$ </span>uniq<span style="color: #F8F8F8"> </span>-s<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8"> </span>codes.txt
<span style="color: #000; font-style: italic">ABC123</span>
<span style="color: #000; font-style: italic">DEF123</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Counting unique words in a file</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>words.txt
<span style="color: #000; font-style: italic">hello</span>
<span style="color: #000; font-style: italic">world</span>
<span style="color: #000; font-style: italic">hello</span>
<span style="color: #000; font-style: italic">computer</span>
<span style="color: #000; font-style: italic">world</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>words.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-c
<span style="color: #000; font-style: italic">      1 computer</span>
<span style="color: #000; font-style: italic">      2 hello</span>
<span style="color: #000; font-style: italic">      2 world</span>
</pre></div>
<h3>Finding only unique entries</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>log.txt
<span style="color: #000; font-style: italic">ERROR: Connection failed</span>
<span style="color: #000; font-style: italic">INFO: Starting application</span>
<span style="color: #000; font-style: italic">ERROR: Connection failed</span>
<span style="color: #000; font-style: italic">INFO: Application ready</span>
<span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>log.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-u
<span style="color: #000; font-style: italic">INFO: Application ready</span>
<span style="color: #000; font-style: italic">INFO: Starting application</span>
</pre></div>
<h3>Combining with other commands in a pipeline</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>access.log<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>grep<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;404&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>cut<span style="color: #F8F8F8"> </span>-d<span style="color: #4E9A06">&#39; &#39;</span><span style="color: #F8F8F8"> </span>-f1<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-c
<span style="color: #000; font-style: italic">     15 192.168.1.5</span>
<span style="color: #000; font-style: italic">      3 192.168.1.7</span>
<span style="color: #000; font-style: italic">     22 192.168.1.10</span>
</pre></div>
<h2>Tips:</h2>
<h3>Always Sort First</h3>
<p>The <code>uniq</code> command only detects adjacent duplicate lines, so always use <code>sort</code> before <code>uniq</code> to ensure all duplicates are detected:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>file.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq
</pre></div>
<h3>Count Occurrences of All Lines</h3>
<p>To see how many times each unique line appears in a file, use:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>file.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span>-nr
</pre></div>
<p>This sorts by frequency (most frequent first).</p>
<h3>Finding Non-Unique Lines</h3>
<p>To find only lines that appear more than once:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sort<span style="color: #F8F8F8"> </span>file.txt<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>uniq<span style="color: #F8F8F8"> </span>-d
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. Why doesn't <code>uniq</code> remove all duplicates in my file?</h4>
<p>A. <code>uniq</code> only removes adjacent duplicate lines. You must sort the file first with <code>sort file.txt | uniq</code>.</p>
<h4>Q2. How can I count the number of unique lines in a file?</h4>
<p>A. Use <code>sort file.txt | uniq | wc -l</code> to count unique lines.</p>
<h4>Q3. Can <code>uniq</code> ignore specific parts of lines when comparing?</h4>
<p>A. Yes, use <code>-f N</code> to skip N fields or <code>-s N</code> to skip N characters at the beginning of each line.</p>
<h4>Q4. How do I find the most common lines in a file?</h4>
<p>A. Use <code>sort file.txt | uniq -c | sort -nr</code> to list lines by frequency (most frequent first).</p>
<h2>References</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/uniq-invocation.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>