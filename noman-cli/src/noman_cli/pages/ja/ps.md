# `ps` コマンド概要

`ps`コマンドは、現在実行中のプロセス（動作しているプログラム）の情報を表示するためのコマンドです。システムで何が動いているかを確認したり、問題のあるプロセスを特定したりするのに役立ちます。

## 主なオプション

- **`-e`（または `-A`）**: すべてのプロセスを表示します
  - 例: `ps -e`

- **`-f`**: 詳細なフォーマットで表示します（ユーザー名、開始時間などの追加情報）
  - 例: `ps -f`

- **`-u ユーザー名`**: 指定したユーザーのプロセスのみを表示します
  - 例: `ps -u root`

- **`-aux`**: システム上のすべてのプロセスを詳細に表示します（BSD形式）
  - 例: `ps aux`

- **`-o フィールド名`**: 表示する情報を指定します
  - 例: `ps -eo pid,ppid,cmd`

- **`--sort=フィールド`**: 指定したフィールドでソートします
  - 例: `ps -e --sort=-%cpu`（CPU使用率の高い順）

## 使用例

### 基本的な使用法
```bash
# 現在のターミナルに関連するプロセスを表示
ps
# 出力例
  PID TTY          TIME CMD
 1234 pts/0    00:00:00 bash
 5678 pts/0    00:00:00 ps
```

### すべてのプロセスを表示
```bash
# システム上のすべてのプロセスを表示
ps -e
# 出力例（一部）
  PID TTY          TIME CMD
    1 ?        00:00:03 systemd
  123 ?        00:00:01 sshd
  456 ?        00:00:02 nginx
```

### 詳細情報を表示
```bash
# すべてのプロセスを詳細フォーマットで表示
ps -ef
# 出力例（一部）
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 Apr01 ?        00:00:03 /sbin/init
root       123     1  0 Apr01 ?        00:00:01 /usr/sbin/sshd
```

### リソース使用率でソート
```bash
# CPU使用率の高い順にプロセスを表示
ps aux --sort=-%cpu
# 出力例（一部）
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
user1     1234  8.0  2.3 234567 12345 ?        Ss   10:15   0:45 /usr/bin/app
user2     5678  5.2  1.8 123456  9876 ?        Rl   09:30   0:32 /usr/bin/web
```

### 特定のプロセスを検索
```bash
# 名前でプロセスを検索（grepと組み合わせる）
ps -ef | grep nginx
# 出力例
root      456     1  0 Apr01 ?        00:00:02 nginx: master process
www-data  789   456  0 Apr01 ?        00:00:01 nginx: worker process
user     1234  1111  0 10:30 pts/0    00:00:00 grep --color=auto nginx
```

## 追加情報

- `ps`コマンドはUNIX系とBSD系の2つの異なる形式のオプションをサポートしています。UNIXスタイルはハイフン（`-`）を使い、BSDスタイルはハイフンを使いません。
- `top`コマンドは`ps`の動的な代替手段で、リアルタイムでプロセス情報を更新して表示します。
- プロセスIDを調べて`kill`コマンドと組み合わせることで、問題のあるプロセスを終了させることができます。
- メモリ使用量を確認するには`ps aux`が便利です（`%MEM`列を参照）。
- 長時間実行されているプロセスを見つけるには`ps -eo pid,cmd,etime`を使用すると、実行時間（etime）も表示されます。