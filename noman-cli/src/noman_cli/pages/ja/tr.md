# tr コマンド

文字の変換や削除を行います。

## 概要

`tr` コマンドは、標準入力から読み込んだテキストの文字を変換、削除、または圧縮して標準出力に書き出します。主に文字の置換、不要な文字の削除、重複文字の圧縮などに使用されます。

## オプション

### **-d**

指定した文字セットを削除します。

```console
$ echo "Hello, World!" | tr -d 'o'
Hell, Wrld!
```

### **-s**

指定した文字セットの連続する重複を圧縮します。

```console
$ echo "Hello    World!" | tr -s ' '
Hello World!
```

### **-c**

指定した文字セットの補集合（指定されていない文字）に対して操作を行います。

```console
$ echo "Hello, World!" | tr -cd 'a-zA-Z'
HelloWorld
```

## 使用例

### 大文字から小文字への変換

```console
$ echo "HELLO WORLD" | tr 'A-Z' 'a-z'
hello world
```

### 特定の文字を別の文字に置換

```console
$ echo "Hello, World!" | tr ',' '!'
Hello! World!
```

### 数字の削除

```console
$ echo "abc123xyz456" | tr -d '0-9'
abcxyz
```

### 改行をスペースに変換

```console
$ cat multiline.txt | tr '\n' ' '
line1 line2 line3 
```

### 複数のスペースを1つに圧縮

```console
$ echo "Hello    World    !" | tr -s ' '
Hello World !
```

## ヒント:

### 文字クラスの使用

`tr` では `[:alnum:]`、`[:digit:]`、`[:space:]` などの文字クラスが使えます。例えば、`tr -d '[:digit:]'` は全ての数字を削除します。

### エスケープシーケンス

特殊文字（改行、タブなど）を扱う場合は、バックスラッシュでエスケープします。例：`\n`（改行）、`\t`（タブ）。

### パイプラインでの活用

`tr` はパイプラインの中間処理として非常に便利です。例えば、ログファイルから特定の文字を削除してから他のコマンドで処理するなどの用途に適しています。

## よくある質問

#### Q1. `tr` はファイルを直接編集できますか？
A. いいえ、`tr` は標準入力から読み込み、標準出力に書き出すだけです。ファイルを編集するには、出力をリダイレクトして新しいファイルに保存する必要があります。

#### Q2. 複数の文字を一度に置換するにはどうすればよいですか？
A. `tr 'abc' 'xyz'` のように、最初の文字セットの各文字が2番目の文字セットの対応する位置の文字に置換されます。この例では、'a'→'x'、'b'→'y'、'c'→'z' に変換されます。

#### Q3. 大文字と小文字を入れ替えるにはどうすればよいですか？
A. `tr 'a-zA-Z' 'A-Za-z'` を使用します。これにより小文字は大文字に、大文字は小文字に変換されます。

#### Q4. macOSとLinuxで `tr` の動作に違いはありますか？
A. 基本的な機能は同じですが、一部のオプションや文字クラスの扱いが異なる場合があります。特に複雑な変換を行う場合は、使用しているシステムのマニュアルを確認することをお勧めします。

## 参考資料

https://www.gnu.org/software/coreutils/manual/html_node/tr-invocation.html

## 改訂履歴

- 2025/04/30 初版作成