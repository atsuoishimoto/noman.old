<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  dd - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>dd コマンド</h1>
<p>ファイルの変換とコピーを行うユーティリティ。</p>
<h2>概要</h2>
<p><code>dd</code> コマンドは、ファイルをブロック単位でコピー・変換するための低レベルなユーティリティです。主にディスクイメージの作成、バックアップ、データ復旧、ディスクのクローン作成などに使用されます。他のコピーコマンドと異なり、生のデバイスファイルを直接扱うことができるため、システム管理やフォレンジック調査で重宝されます。</p>
<h2>オプション</h2>
<h3><strong>if=ファイル</strong></h3>
<p>入力ファイル（input file）を指定します。指定しない場合は標準入力から読み込みます。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/zero<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>zeros.bin<span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1M
<span style="color: #000; font-style: italic">1+0 records in</span>
<span style="color: #000; font-style: italic">1+0 records out</span>
<span style="color: #000; font-style: italic">1048576 bytes (1.0 MB, 1.0 MiB) copied, 0.00209056 s, 501 MB/s</span>
</pre></div>
<h3><strong>of=ファイル</strong></h3>
<p>出力ファイル（output file）を指定します。指定しない場合は標準出力に書き込みます。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/urandom<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>random.bin<span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1M
<span style="color: #000; font-style: italic">1+0 records in</span>
<span style="color: #000; font-style: italic">1+0 records out</span>
<span style="color: #000; font-style: italic">1048576 bytes (1.0 MB, 1.0 MiB) copied, 0.0826016 s, 12.7 MB/s</span>
</pre></div>
<h3><strong>bs=バイト数</strong></h3>
<p>一度に読み書きするブロックサイズを指定します。K（キロバイト）、M（メガバイト）、G（ギガバイト）などの単位を使用できます。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/zero<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>test.img<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1M<span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">10</span>
<span style="color: #000; font-style: italic">10+0 records in</span>
<span style="color: #000; font-style: italic">10+0 records out</span>
<span style="color: #000; font-style: italic">10485760 bytes (10 MB, 10 MiB) copied, 0.0151831 s, 691 MB/s</span>
</pre></div>
<h3><strong>count=ブロック数</strong></h3>
<p>コピーするブロック数を指定します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/urandom<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>small.bin<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">512</span><span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">2</span>
<span style="color: #000; font-style: italic">2+0 records in</span>
<span style="color: #000; font-style: italic">2+0 records out</span>
<span style="color: #000; font-style: italic">1024 bytes (1.0 kB, 1.0 KiB) copied, 0.000246534 s, 4.2 MB/s</span>
</pre></div>
<h3><strong>status=progress</strong></h3>
<p>コピー処理の進行状況をリアルタイムで表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/zero<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>large.bin<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1M<span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">100</span><span style="color: #F8F8F8"> </span><span style="color: #000">status</span><span style="color: #CE5C00; font-weight: bold">=</span>progress
<span style="color: #000; font-style: italic">51380224 bytes (51 MB, 49 MiB) copied, 0.0507088 s, 1.0 GB/s</span>
<span style="color: #000; font-style: italic">100+0 records in</span>
<span style="color: #000; font-style: italic">100+0 records out</span>
<span style="color: #000; font-style: italic">104857600 bytes (105 MB, 100 MiB) copied, 0.101418 s, 1.0 GB/s</span>
</pre></div>
<h2>使用例</h2>
<h3>USBメモリにISOイメージを書き込む</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>ubuntu.iso<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/sdb<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>4M<span style="color: #F8F8F8"> </span><span style="color: #000">status</span><span style="color: #CE5C00; font-weight: bold">=</span>progress
<span style="color: #000; font-style: italic">1073741824 bytes (1.1 GB, 1.0 GiB) copied, 85.3209 s, 12.6 MB/s</span>
<span style="color: #000; font-style: italic">1324+1 records in</span>
<span style="color: #000; font-style: italic">1324+1 records out</span>
<span style="color: #000; font-style: italic">5555200000 bytes (5.6 GB, 5.2 GiB) copied, 440.221 s, 12.6 MB/s</span>
</pre></div>
<h3>ディスクのバックアップを作成する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/sda<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>disk_backup.img<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>4M<span style="color: #F8F8F8"> </span><span style="color: #000">status</span><span style="color: #CE5C00; font-weight: bold">=</span>progress
<span style="color: #000; font-style: italic">8589934592 bytes (8.6 GB, 8.0 GiB) copied, 180.5 s, 47.6 MB/s</span>
<span style="color: #000; font-style: italic">2048+0 records in</span>
<span style="color: #000; font-style: italic">2048+0 records out</span>
<span style="color: #000; font-style: italic">8589934592 bytes (8.6 GB, 8.0 GiB) copied, 190.749 s, 45.0 MB/s</span>
</pre></div>
<h3>ファイルの一部を抽出する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>large_file.bin<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>extract.bin<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1M<span style="color: #F8F8F8"> </span><span style="color: #000">skip</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">10</span><span style="color: #F8F8F8"> </span><span style="color: #000">count</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">5+0 records in</span>
<span style="color: #000; font-style: italic">5+0 records out</span>
<span style="color: #000; font-style: italic">5242880 bytes (5.2 MB, 5.0 MiB) copied, 0.00623305 s, 841 MB/s</span>
</pre></div>
<h2>ヒント:</h2>
<h3>シグナルで進捗状況を確認する</h3>
<p>長時間実行中の <code>dd</code> コマンドの進捗状況を確認するには、<code>USR1</code> シグナルを送信します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #8F5902; font-style: italic"># 別のターミナルで以下を実行</span>
<span style="color: #8F5902">$ </span>killall<span style="color: #F8F8F8"> </span>-USR1<span style="color: #F8F8F8"> </span>dd
</pre></div>
<h3>データ消去に使用する</h3>
<p>ディスクを安全に消去するには、ランダムデータで上書きします。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/urandom<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/sdb<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>4M<span style="color: #F8F8F8"> </span><span style="color: #000">status</span><span style="color: #CE5C00; font-weight: bold">=</span>progress
</pre></div>
<h3>注意点</h3>
<p><code>dd</code> は「データ破壊者（Disk Destroyer）」とも呼ばれるほど危険なコマンドです。特に <code>of</code> パラメータには細心の注意を払い、間違ったデバイスを指定しないようにしましょう。</p>
<h2>よくある質問</h2>
<h4>Q1. ddコマンドの名前の由来は何ですか？</h4>
<p>A. IBMのメインフレームJCLの「データ定義（Data Definition）」コマンドに由来するとされています。</p>
<h4>Q2. ddコマンドとcpコマンドの違いは何ですか？</h4>
<p>A. <code>dd</code> はブロック単位でデータをコピーし、生のデバイスファイルを扱えます。また、コピー中にデータ変換も可能です。一方、<code>cp</code> はファイルシステムレベルでのコピーに特化しています。</p>
<h4>Q3. ddコマンドでUSBにISOを書き込む際の注意点は？</h4>
<p>A. 出力先（<code>of=</code>）に正しいデバイスを指定することが重要です。間違えると重要なデータを失う可能性があります。また、書き込み前にUSBをアンマウントしておく必要があります。</p>
<h4>Q4. ddコマンドの実行が遅いのですが、速くする方法はありますか？</h4>
<p>A. <code>bs</code> パラメータを大きくすると（例：<code>bs=4M</code>）、一般的にパフォーマンスが向上します。ただし、あまり大きすぎる値は逆効果になることもあります。</p>
<h2>macOSでの注意点</h2>
<p>macOSでは、デバイスパスが異なります。例えば、USBドライブは <code>/dev/diskN</code> の形式（Nは数字）で、<code>diskutil list</code> コマンドで確認できます。また、書き込み前に <code>diskutil unmountDisk /dev/diskN</code> でアンマウントする必要があります。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diskutil<span style="color: #F8F8F8"> </span>list
<span style="color: #8F5902">$ </span>diskutil<span style="color: #F8F8F8"> </span>unmountDisk<span style="color: #F8F8F8"> </span>/dev/disk2
<span style="color: #8F5902">$ </span>sudo<span style="color: #F8F8F8"> </span>dd<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">if</span><span style="color: #CE5C00; font-weight: bold">=</span>image.iso<span style="color: #F8F8F8"> </span><span style="color: #000">of</span><span style="color: #CE5C00; font-weight: bold">=</span>/dev/disk2<span style="color: #F8F8F8"> </span><span style="color: #000">bs</span><span style="color: #CE5C00; font-weight: bold">=</span>1m
</pre></div>
<p>macOSでは、小文字の <code>m</code>（<code>bs=1m</code>）を使用することに注意してください。大文字の <code>M</code> はエラーになります。</p>
<h2>参考資料</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/dd-invocation.html</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/04/30 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>