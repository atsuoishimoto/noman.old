<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  expr - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>expr command</h1>
<p>Evaluate expressions and output the result.</p>
<h2>Overview</h2>
<p><code>expr</code> is a command-line utility that evaluates expressions and outputs the result. It performs arithmetic operations, string manipulations, and logical comparisons. The command is primarily used in shell scripts to perform calculations and string operations that would be difficult to accomplish with shell built-ins alone.</p>
<h2>Options</h2>
<h3><strong>--help</strong></h3>
<p>Display a help message and exit.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>--help
<span style="color: #000; font-style: italic">Usage: expr EXPRESSION</span>
<span style="color: #000; font-style: italic">  or:  expr OPTION</span>
<span style="color: #000; font-style: italic">Print the value of EXPRESSION to standard output.</span>
<span style="color: #000; font-style: italic">...</span>
</pre></div>
<h3><strong>--version</strong></h3>
<p>Output version information and exit.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>--version
<span style="color: #000; font-style: italic">expr (GNU coreutils) 9.0</span>
<span style="color: #000; font-style: italic">Copyright (C) 2021 Free Software Foundation, Inc.</span>
<span style="color: #000; font-style: italic">License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;.</span>
<span style="color: #000; font-style: italic">This is free software: you are free to change and redistribute it.</span>
<span style="color: #000; font-style: italic">There is NO WARRANTY, to the extent permitted by law.</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Basic Arithmetic</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">8</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">10</span><span style="color: #F8F8F8"> </span>-<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">4</span>
<span style="color: #000; font-style: italic">6</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\*</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">4</span>
<span style="color: #000; font-style: italic">12</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">20</span><span style="color: #F8F8F8"> </span>/<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">4</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">20</span><span style="color: #F8F8F8"> </span>%<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">2</span>
</pre></div>
<h3>String Operations</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>length<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span>
<span style="color: #000; font-style: italic">11</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>substr<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">7</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">World</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>index<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;W&quot;</span>
<span style="color: #000; font-style: italic">7</span>
</pre></div>
<h3>Logical Comparisons</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\&gt;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">1</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\&lt;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">0</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">5</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">1</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>!<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">0</span>
</pre></div>
<h3>Use in Shell Scripts</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #000">a</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #8F5902">$ </span><span style="color: #000">b</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #8F5902">$ </span><span style="color: #000">c</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87; font-weight: bold">$(</span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">$a</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #000">$b</span><span style="color: #204A87; font-weight: bold">)</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$c</span>
<span style="color: #000; font-style: italic">8</span>
</pre></div>
<h2>Tips:</h2>
<h3>Escape Special Characters</h3>
<p>Always escape multiplication (*), division (/), and other characters that have special meaning in the shell using a backslash ().</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\*</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">15</span>
</pre></div>
<h3>Space Requirements</h3>
<p><code>expr</code> requires spaces between operators and operands. Without spaces, the command will not work correctly.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>+3<span style="color: #F8F8F8">    </span><span style="color: #8F5902; font-style: italic"># Wrong</span>
<span style="color: #000; font-style: italic">5+3</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8">  </span><span style="color: #8F5902; font-style: italic"># Correct</span>
<span style="color: #000; font-style: italic">8</span>
</pre></div>
<h3>Return Values</h3>
<p><code>expr</code> returns 0 if the expression evaluates to a non-zero and non-empty value, 1 if the expression is zero or empty, and 2 if the expression is invalid.</p>
<h3>Use for Incrementing Variables</h3>
<p>A common use of <code>expr</code> is to increment counters in shell scripts:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #000">i</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span>
<span style="color: #8F5902">$ </span><span style="color: #000">i</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87; font-weight: bold">$(</span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">$i</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #204A87; font-weight: bold">)</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$i</span>
<span style="color: #000; font-style: italic">2</span>
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What's the difference between <code>expr</code> and shell arithmetic?</h4>
<p>A. While modern shells support arithmetic with <code>$(( ))</code>, <code>expr</code> is more portable across different shells and provides additional string manipulation functions.</p>
<h4>Q2. Why does my multiplication with <code>expr</code> fail?</h4>
<p>A. You need to escape the asterisk with a backslash: <code>expr 5 \* 3</code>. Otherwise, the shell interprets it as a wildcard.</p>
<h4>Q3. How can I use <code>expr</code> for string operations?</h4>
<p>A. <code>expr</code> provides functions like <code>length</code>, <code>substr</code>, and <code>index</code> for string manipulation. For example: <code>expr length &quot;string&quot;</code> or <code>expr substr &quot;string&quot; 1 3</code>.</p>
<h4>Q4. Is <code>expr</code> still relevant in modern shell scripting?</h4>
<p>A. While newer shells have built-in arithmetic capabilities, <code>expr</code> remains useful for its string manipulation functions and for scripts that need to be portable across different shell environments.</p>
<h2>References</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/expr-invocation.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>