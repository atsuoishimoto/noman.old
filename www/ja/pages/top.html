<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  top - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>top コマンド</h1>
<p>プロセスに関する情報をリアルタイムで表示・更新します。</p>
<h2>概要</h2>
<p><code>top</code>はリアルタイムのシステム監視プログラムで、プロセスの一覧を継続的に更新して表示します。システムの概要情報と、現在Linuxカーネルによって管理されているプロセスやスレッドのリストを表示します。デフォルトではCPU使用率でソートされ、システムリソースの使用状況を監視し、最もリソースを消費しているプロセスを特定するのに役立ちます。</p>
<h2>オプション</h2>
<h3><strong>-d, --delay</strong></h3>
<p>画面更新の間隔を秒単位で指定します（小数点を含めることも可能）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">top - 14:22:10 up 3 days,  5:10,  2 users,  load average: 0.15, 0.21, 0.28</span>
<span style="color: #000; font-style: italic">Tasks: 213 total,   1 running, 212 sleeping,   0 stopped,   0 zombie</span>
<span style="color: #8F5902">%</span>Cpu<span style="color: #CE5C00; font-weight: bold">(</span>s<span style="color: #CE5C00; font-weight: bold">)</span>:<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">2</span>.3<span style="color: #F8F8F8"> </span>us,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">1</span>.2<span style="color: #F8F8F8"> </span>sy,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>ni,<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">96</span>.4<span style="color: #F8F8F8"> </span>id,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>wa,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>hi,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.1<span style="color: #F8F8F8"> </span>si,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>st
<span style="color: #000; font-style: italic">MiB Mem :  15895.1 total,   7403.2 free,   3265.4 used,   5226.5 buff/cache</span>
<span style="color: #000; font-style: italic">MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.  12039.3 avail Mem</span>
<span style="color: #000; font-style: italic">...</span>
</pre></div>
<h3><strong>-n, --iterations</strong></h3>
<p>終了前の更新回数を指定します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">[topは3回更新した後に終了する]</span>
</pre></div>
<h3><strong>-p, --pid</strong></h3>
<p>指定したプロセスIDのプロセスのみを監視します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-p<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1234</span>,5678
<span style="color: #000; font-style: italic">[PID 1234と5678のプロセスのみを表示]</span>
</pre></div>
<h3><strong>-u, --user</strong></h3>
<p>指定したユーザーが所有するプロセスのみを表示します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>username
<span style="color: #000; font-style: italic">[usernameが所有するプロセスのみを表示]</span>
</pre></div>
<h3><strong>-b, --batch</strong></h3>
<p>バッチモードで実行します（他のプログラムやファイルに出力を送る場合に便利）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-b<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>top_output.txt
<span style="color: #000; font-style: italic">[topの出力を1回分top_output.txtに保存する]</span>
</pre></div>
<h2>使用例</h2>
<h3>基本的な使用法</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top
<span style="color: #000; font-style: italic">top - 14:22:10 up 3 days,  5:10,  2 users,  load average: 0.15, 0.21, 0.28</span>
<span style="color: #000; font-style: italic">Tasks: 213 total,   1 running, 212 sleeping,   0 stopped,   0 zombie</span>
<span style="color: #8F5902">%</span>Cpu<span style="color: #CE5C00; font-weight: bold">(</span>s<span style="color: #CE5C00; font-weight: bold">)</span>:<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">2</span>.3<span style="color: #F8F8F8"> </span>us,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">1</span>.2<span style="color: #F8F8F8"> </span>sy,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>ni,<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">96</span>.4<span style="color: #F8F8F8"> </span>id,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>wa,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>hi,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.1<span style="color: #F8F8F8"> </span>si,<span style="color: #F8F8F8">  </span><span style="color: #0000CF; font-weight: bold">0</span>.0<span style="color: #F8F8F8"> </span>st
<span style="color: #000; font-style: italic">MiB Mem :  15895.1 total,   7403.2 free,   3265.4 used,   5226.5 buff/cache</span>
<span style="color: #000; font-style: italic">MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.  12039.3 avail Mem</span>

<span style="color: #000; font-style: italic">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND</span>
<span style="color: #000; font-style: italic"> 1234 user      20   0 3256892 125232  42348 S   2.0   0.8   5:23.02 firefox</span>
<span style="color: #000; font-style: italic"> 5678 user      20   0  723964  56892  38212 S   1.3   0.4   2:42.15 terminal</span>
</pre></div>
<h3>特定のプロセスを高速更新レートで監視</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-d<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">0</span>.5<span style="color: #F8F8F8"> </span>-p<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1234</span>,5678
<span style="color: #000; font-style: italic">[プロセス1234と5678のみを表示し、0.5秒ごとに更新]</span>
</pre></div>
<h2>インタラクティブコマンド</h2>
<p><code>top</code>実行中に以下のキーボードコマンドを使用できます：</p>
<ul>
<li><strong>h または ?</strong>: ヘルプを表示</li>
<li><strong>q</strong>: プログラムを終了</li>
<li><strong>k</strong>: プロセスを終了（PIDの入力を求められる）</li>
<li><strong>r</strong>: プロセスの優先度を変更</li>
<li><strong>f</strong>: 表示するフィールドを選択</li>
<li><strong>o</strong>: ソートフィールドを変更</li>
<li><strong>1</strong>: 個々のCPUコアの表示を切り替え</li>
<li><strong>m</strong>: メモリ表示モードを切り替え</li>
<li><strong>t</strong>: タスク/CPU表示モードを切り替え</li>
<li><strong>c</strong>: コマンドライン/プログラム名表示を切り替え</li>
<li><strong>M</strong>: メモリ使用量でソート</li>
<li><strong>P</strong>: CPU使用率でソート（デフォルト）</li>
<li><strong>T</strong>: 時間/累積時間でソート</li>
</ul>
<h2>ヒント:</h2>
<h3>リソースを大量に消費するプロセスの特定</h3>
<p><code>P</code>キーを押してCPU使用率でソート、または<code>M</code>キーを押してメモリ使用率でソートすると、最もリソースを消費しているプロセスをすぐに特定できます。</p>
<h3>出力をファイルに保存</h3>
<p>バッチモードと<code>-b</code>オプションを使用して、後で分析するために出力をファイルに保存できます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>top<span style="color: #F8F8F8"> </span>-b<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>system_snapshot.txt
</pre></div>
<h3>表示のカスタマイズ</h3>
<p>top実行中に<code>f</code>キーを押すと、表示する列を選択でき、最も重要な指標に集中できます。</p>
<h3>複数のCPUを監視</h3>
<p><code>1</code>キーを押すと、合計平均ではなく個々のCPUコアの使用率が表示されます。これは、プロセスが単一のコアを最大限に使用しているかどうかを識別するのに役立ちます。</p>
<h2>よくある質問</h2>
<h4>Q1. topを終了するにはどうすればよいですか？</h4>
<p>A. <code>q</code>キーを押すとプログラムを終了できます。</p>
<h4>Q2. top内からプロセスを終了するにはどうすればよいですか？</h4>
<p>A. <code>k</code>キーを押し、終了したいプロセスのPIDを入力し、その後シグナル番号（SIGKILLの場合は9）を入力します。</p>
<h4>Q3. 更新間隔を変更するにはどうすればよいですか？</h4>
<p>A. <code>-d</code>オプションの後に秒数を指定します（例：<code>top -d 3</code>で3秒ごとに更新）、または実行中に<code>d</code>キーを押して新しい遅延時間を入力します。</p>
<h4>Q4. 特定のユーザーのプロセスだけを表示するにはどうすればよいですか？</h4>
<p>A. <code>top -u ユーザー名</code>を使用するか、実行中に<code>u</code>キーを押してユーザー名を入力します。</p>
<h4>Q5. ロードアベレージの数値は何を意味していますか？</h4>
<p>A. 3つの数値は、過去1分、5分、15分のシステム負荷平均を表します。CPUコア数より低い値は、一般的にシステムが過負荷でないことを示します。</p>
<h2>macOSでの注意点</h2>
<p>macOSでの<code>top</code>コマンドは、Linuxとは異なるオプションと出力形式を持っています。主な違いは以下の通りです：</p>
<ul>
<li><code>-o</code>オプションはソートフィールドを指定するために使用されます（例：<code>top -o cpu</code>）</li>
<li>メモリは異なる単位で表示されます</li>
<li>一部のインタラクティブコマンドが異なります</li>
<li>macOSで利用可能な特定のオプションを確認するには<code>man top</code>を使用してください</li>
</ul>
<h2>参考資料</h2>
<p>https://man7.org/linux/man-pages/man1/top.1.html</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/05/04 初回改訂</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>