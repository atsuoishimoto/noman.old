# cut コマンド

テキストファイルから特定の列や文字を抽出するためのコマンド。

## 概要

`cut` コマンドは、テキストファイルやパイプからの入力から特定の部分（列や文字）を切り出すために使用します。区切り文字で分けられたフィールド（列）や文字位置を指定して必要な部分だけを抽出できるため、ログファイルの解析やCSVファイルの処理などに便利です。

## オプション

### **-f, --fields=LIST**

指定したフィールド（列）を抽出します。デフォルトの区切り文字はタブです。

```console
$ echo "user1:password1:1000:John Doe" | cut -f 1,4 -d ":"
user1:John Doe
```

### **-d, --delimiter=DELIM**

フィールドの区切り文字を指定します。デフォルトはタブです。

```console
$ echo "apple,orange,banana" | cut -d "," -f 2
orange
```

### **-c, --characters=LIST**

指定した文字位置の文字を抽出します。

```console
$ echo "Hello, World!" | cut -c 1-5
Hello
```

### **--complement**

指定したフィールドや文字以外の部分を抽出します。

```console
$ echo "user1:password1:1000:John Doe" | cut -d ":" -f 2 --complement
user1:1000:John Doe
```

## 使用例

### CSVファイルから特定の列を抽出する

```console
$ cat data.csv
名前,年齢,職業
田中,25,エンジニア
佐藤,30,デザイナー
鈴木,28,マーケター

$ cut -d "," -f 1,3 data.csv
名前,職業
田中,エンジニア
佐藤,デザイナー
鈴木,マーケター
```

### ログファイルから特定の情報を抽出する

```console
$ cat access.log
192.168.1.1 - - [30/Apr/2025:10:00:15 +0900] "GET /index.html HTTP/1.1" 200 2326
192.168.1.2 - - [30/Apr/2025:10:01:20 +0900] "POST /login HTTP/1.1" 302 0
192.168.1.3 - - [30/Apr/2025:10:02:35 +0900] "GET /dashboard HTTP/1.1" 200 5432

$ cut -d " " -f 1,7 access.log
192.168.1.1 /index.html
192.168.1.2 /login
192.168.1.3 /dashboard
```

### 文字列の一部を抽出する

```console
$ echo "2025-04-30" | cut -c 1-4
2025
```

## ヒント:

### 複数のフィールドを指定する方法

フィールドは単一の数字（例：`-f 1`）、範囲（例：`-f 1-3`）、またはカンマ区切りのリスト（例：`-f 1,3,5`）で指定できます。これらを組み合わせることも可能です（例：`-f 1-3,5,7-9`）。

### 区切り文字が連続する場合の注意点

デフォルトでは、連続する区切り文字は別々のフィールドとして扱われます。`-s`オプションを使用すると、連続する区切り文字を1つとして扱います。

### パイプラインでの活用

`cut`は他のコマンドと組み合わせて使うと非常に強力です。例えば、`grep`で特定の行を抽出した後に`cut`で必要な列だけを取り出すといった使い方ができます。

## よくある質問

#### Q1. `cut`と`awk`の違いは何ですか？
A. `cut`はシンプルな列や文字の抽出に特化していますが、`awk`はより複雑なテキスト処理（計算や条件分岐など）ができます。単純な列抽出なら`cut`の方が簡潔に書けます。

#### Q2. 区切り文字に複数の文字を指定できますか？
A. いいえ、`cut`では区切り文字は1文字のみ指定できます。複数文字の区切りが必要な場合は、`awk`や`sed`などの他のコマンドを使用してください。

#### Q3. 出力の区切り文字を変更することはできますか？
A. いいえ、`cut`では出力の区切り文字を変更することはできません。入力と同じ区切り文字が使用されます。出力形式を変更したい場合は、`awk`などの他のコマンドを使用してください。

#### Q4. 特定の列を除外する方法はありますか？
A. `--complement`オプションを使用すると、指定した列以外のすべての列を表示できます。

## 参考資料

https://www.gnu.org/software/coreutils/manual/html_node/cut-invocation.html

## 改訂履歴

- 2025/04/30 初版作成