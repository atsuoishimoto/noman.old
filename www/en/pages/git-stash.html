<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  git-stash - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>git-stash command</h1>
<p>Stash changes in a dirty working directory for later use.</p>
<h2>Overview</h2>
<p><code>git stash</code> temporarily shelves (or stashes) changes you've made to your working copy so you can work on something else, and then come back and re-apply them later. Stashing is handy when you need to quickly switch contexts and work on something else, but you're not ready to commit your current work.</p>
<h2>Options</h2>
<h3><strong>-u, --include-untracked</strong></h3>
<p>Include untracked files in the stash.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>-u
<span style="color: #000; font-style: italic">Saved working directory and index state WIP on main: 2d4e15a Add feature X</span>
</pre></div>
<h3><strong>-a, --all</strong></h3>
<p>Include both untracked and ignored files in the stash.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>-a
<span style="color: #000; font-style: italic">Saved working directory and index state WIP on main: 2d4e15a Add feature X</span>
</pre></div>
<h3><strong>-p, --patch</strong></h3>
<p>Interactively select hunks from the diff between HEAD and the working tree to be stashed.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>-p
<span style="color: #000; font-style: italic">diff --git a/file.txt b/file.txt</span>
<span style="color: #000; font-style: italic">index 1234567..abcdefg 100644</span>
<span style="color: #000; font-style: italic">--- a/file.txt</span>
<span style="color: #000; font-style: italic">+++ b/file.txt</span>
<span style="color: #000; font-style: italic">@@ -1,4 +1,4 @@</span>
<span style="color: #000; font-style: italic">-Old content</span>
<span style="color: #000; font-style: italic">+New content</span>
<span style="color: #000; font-style: italic">Stash this hunk [y,n,q,a,d,e,?]? y</span>
<span style="color: #000; font-style: italic">Saved working directory and index state WIP on main: 2d4e15a Add feature X</span>
</pre></div>
<h3><strong>push [&lt;message&gt;]</strong></h3>
<p>Save your local modifications to a new stash entry and roll them back to HEAD.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>push<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;WIP: implementing feature Y&quot;</span>
<span style="color: #000; font-style: italic">Saved working directory and index state On main: WIP: implementing feature Y</span>
</pre></div>
<h3><strong>list</strong></h3>
<p>List all stashes in the stack.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>list
<span style="color: #000; font-style: italic">stash@{0}: WIP on main: 2d4e15a Add feature X</span>
<span style="color: #000; font-style: italic">stash@{1}: On main: WIP: implementing feature Y</span>
</pre></div>
<h3><strong>show [&lt;stash&gt;]</strong></h3>
<p>Show the changes recorded in the stash as a diff.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>show<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #CE5C00; font-weight: bold">}</span>
<span style="color: #000; font-style: italic"> file.txt | 2 +-</span>
<span style="color: #000; font-style: italic"> 1 file changed, 1 insertion(+), 1 deletion(-)</span>
</pre></div>
<h3><strong>pop [&lt;stash&gt;]</strong></h3>
<p>Apply a stash and remove it from the stack.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>pop
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>
<span style="color: #000; font-style: italic">Dropped refs/stash@{0} (a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9)</span>
</pre></div>
<h3><strong>apply [&lt;stash&gt;]</strong></h3>
<p>Apply a stash without removing it from the stack.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>apply<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #CE5C00; font-weight: bold">}</span>
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>
</pre></div>
<h3><strong>drop [&lt;stash&gt;]</strong></h3>
<p>Remove a stash from the stack.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>drop<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #CE5C00; font-weight: bold">}</span>
<span style="color: #000; font-style: italic">Dropped stash@{0} (a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9)</span>
</pre></div>
<h3><strong>clear</strong></h3>
<p>Remove all stashes from the stack.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>clear
</pre></div>
<h2>Usage Examples</h2>
<h3>Basic stash workflow</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>status
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>

<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash
<span style="color: #000; font-style: italic">Saved working directory and index state WIP on main: 2d4e15a Add feature X</span>

<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>status
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">nothing to commit, working tree clean</span>

<span style="color: #8F5902"># </span>Do<span style="color: #F8F8F8"> </span>some<span style="color: #F8F8F8"> </span>other<span style="color: #F8F8F8"> </span>work,<span style="color: #F8F8F8"> </span><span style="color: #204A87; font-weight: bold">then</span><span style="color: #F8F8F8"> </span>come<span style="color: #F8F8F8"> </span>back<span style="color: #F8F8F8"> </span>to<span style="color: #F8F8F8"> </span>your<span style="color: #F8F8F8"> </span>stashed<span style="color: #F8F8F8"> </span>changes
<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>pop
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>
<span style="color: #000; font-style: italic">Dropped refs/stash@{0} (a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9)</span>
</pre></div>
<h3>Creating a branch from a stash</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>branch<span style="color: #F8F8F8"> </span>new-feature<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #CE5C00; font-weight: bold">}</span>
<span style="color: #000; font-style: italic">Switched to a new branch &#39;new-feature&#39;</span>
<span style="color: #000; font-style: italic">On branch new-feature</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>
<span style="color: #000; font-style: italic">Dropped refs/stash@{0} (a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9)</span>
</pre></div>
<h2>Tips:</h2>
<h3>Name Your Stashes</h3>
<p>Use descriptive messages with your stashes to make them easier to identify later:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>push<span style="color: #F8F8F8"> </span>-m<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;halfway through refactoring authentication&quot;</span>
</pre></div>
<h3>Stash Only Specific Files</h3>
<p>You can stash only specific files by listing them after the command:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>push<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
</pre></div>
<h3>View Stash Contents in Detail</h3>
<p>For a more detailed view of a stash's contents:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>show<span style="color: #F8F8F8"> </span>-p<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #CE5C00; font-weight: bold">}</span>
</pre></div>
<h3>Create a Branch from a Stash</h3>
<p>If you realize your stashed changes should be in their own branch:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>stash<span style="color: #F8F8F8"> </span>branch<span style="color: #F8F8F8"> </span>new-feature-branch<span style="color: #F8F8F8"> </span>stash@<span style="color: #CE5C00; font-weight: bold">{</span><span style="color: #0000CF; font-weight: bold">0</span><span style="color: #CE5C00; font-weight: bold">}</span>
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What happens to my stashed changes if I switch branches?</h4>
<p>A. Stashed changes remain available across all branches. You can stash changes on one branch and apply them on another.</p>
<h4>Q2. Can I recover a stash after I've dropped it?</h4>
<p>A. Yes, if you know the commit hash of the stash (shown when dropping). Use <code>git stash apply &lt;commit-hash&gt;</code> to recover it, but only if the garbage collector hasn't run.</p>
<h4>Q3. How long do stashes persist?</h4>
<p>A. Stashes persist indefinitely until you explicitly remove them with <code>git stash drop</code> or <code>git stash clear</code>, or until they're garbage collected (which typically doesn't happen for a long time).</p>
<h4>Q4. What's the difference between <code>git stash pop</code> and <code>git stash apply</code>?</h4>
<p>A. <code>git stash pop</code> applies the stash and then removes it from the stash list, while <code>git stash apply</code> only applies the stash but keeps it in the list for potential future use.</p>
<h4>Q5. Can I stash untracked files?</h4>
<p>A. By default, <code>git stash</code> only stashes tracked files with changes. Use <code>git stash -u</code> to include untracked files or <code>git stash -a</code> to include both untracked and ignored files.</p>
<h2>References</h2>
<p>https://git-scm.com/docs/git-stash</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>