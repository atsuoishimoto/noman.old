<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  sed - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>sed command</h1>
<p>Stream editor for filtering and transforming text.</p>
<h2>Overview</h2>
<p><code>sed</code> (stream editor) is a powerful utility that parses and transforms text, line by line. It reads input from files or standard input, applies specified editing commands, and outputs the result to standard output. It's commonly used for search and replace operations, text extraction, and other text manipulations in shell scripts and command-line operations.</p>
<h2>Options</h2>
<h3><strong>-e script, --expression=script</strong></h3>
<p>Add commands in the script to the set of commands to be executed.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;hello world&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/hello/goodbye/&#39;</span><span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/world/universe/&#39;</span>
<span style="color: #000; font-style: italic">goodbye universe</span>
</pre></div>
<h3><strong>-f script-file, --file=script-file</strong></h3>
<p>Add commands from script-file to the set of commands to be executed.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>script.sed
<span style="color: #000; font-style: italic">s/hello/goodbye/</span>
<span style="color: #000; font-style: italic">s/world/universe/</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;hello world&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span>-f<span style="color: #F8F8F8"> </span>script.sed
<span style="color: #000; font-style: italic">goodbye universe</span>
</pre></div>
<h3><strong>-i[SUFFIX], --in-place[=SUFFIX]</strong></h3>
<p>Edit files in place (makes backup if SUFFIX supplied).</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;hello world&quot;</span><span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #8F5902">$ </span>sed<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/hello/goodbye/&#39;</span><span style="color: #F8F8F8"> </span>file.txt
<span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #000; font-style: italic">goodbye world</span>
</pre></div>
<h3><strong>-n, --quiet, --silent</strong></h3>
<p>Suppress automatic printing of pattern space.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;line 1\nline 2\nline 3&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;2p&#39;</span>
<span style="color: #000; font-style: italic">line 2</span>
</pre></div>
<h3><strong>-r, --regexp-extended</strong></h3>
<p>Use extended regular expressions in the script.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;hello 123 world&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/[0-9]+/NUMBER/&#39;</span>
<span style="color: #000; font-style: italic">hello NUMBER world</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Basic Substitution</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;The quick brown fox&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/brown/red/&#39;</span>
<span style="color: #000; font-style: italic">The quick red fox</span>
</pre></div>
<h3>Global Substitution</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;one two one three one&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/one/ONE/g&#39;</span>
<span style="color: #000; font-style: italic">ONE two ONE three ONE</span>
</pre></div>
<h3>Print Specific Lines</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #000; font-style: italic">Line 1</span>
<span style="color: #000; font-style: italic">Line 2</span>
<span style="color: #000; font-style: italic">Line 3</span>
<span style="color: #000; font-style: italic">Line 4</span>
<span style="color: #8F5902">$ </span>sed<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;2,3p&#39;</span><span style="color: #F8F8F8"> </span>file.txt
<span style="color: #000; font-style: italic">Line 2</span>
<span style="color: #000; font-style: italic">Line 3</span>
</pre></div>
<h3>Delete Lines</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>cat<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #000; font-style: italic">Line 1</span>
<span style="color: #000; font-style: italic">Line 2</span>
<span style="color: #000; font-style: italic">Line 3</span>
<span style="color: #000; font-style: italic">Line 4</span>
<span style="color: #8F5902">$ </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;2,3d&#39;</span><span style="color: #F8F8F8"> </span>file.txt
<span style="color: #000; font-style: italic">Line 1</span>
<span style="color: #000; font-style: italic">Line 4</span>
</pre></div>
<h3>Multiple Editing Commands</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;hello world&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/hello/hi/; s/world/there/&#39;</span>
<span style="color: #000; font-style: italic">hi there</span>
</pre></div>
<h2>Tips</h2>
<h3>Use Delimiters Other Than '/'</h3>
<p>When your pattern or replacement contains slashes, use a different delimiter to avoid escaping:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;/usr/local/bin&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s:/usr:~:&#39;</span>
<span style="color: #000; font-style: italic">~/local/bin</span>
</pre></div>
<h3>Backup Files When Editing In-place</h3>
<p>Always create backups when using <code>-i</code> for in-place editing:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>sed<span style="color: #F8F8F8"> </span>-i.bak<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;s/old/new/g&#39;</span><span style="color: #F8F8F8"> </span>file.txt
</pre></div>
<h3>Address Ranges</h3>
<p>Use line numbers, patterns, or ranges to target specific lines:</p>
<ul>
<li><code>1,5</code> - lines 1 through 5</li>
<li><code>/start/,/end/</code> - lines from pattern &quot;start&quot; to pattern &quot;end&quot;</li>
<li><code>5,+2</code> - line 5 and the next 2 lines</li>
</ul>
<h3>Append, Insert, and Change Lines</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span>-e<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;line 1\nline 2\nline 3&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sed<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;2a\new line after 2&#39;</span>
<span style="color: #000; font-style: italic">line 1</span>
<span style="color: #000; font-style: italic">line 2</span>
<span style="color: #000; font-style: italic">new line after 2</span>
<span style="color: #000; font-style: italic">line 3</span>
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. How do I replace text in a file permanently?</h4>
<p>A. Use the <code>-i</code> option: <code>sed -i 's/old/new/g' filename</code>. Add a suffix like <code>-i.bak</code> to create a backup.</p>
<h4>Q2. How can I print only lines matching a pattern?</h4>
<p>A. Use <code>-n</code> with the <code>p</code> command: <code>sed -n '/pattern/p' filename</code>.</p>
<h4>Q3. What's the difference between 's/pattern/replacement/' and 's/pattern/replacement/g'?</h4>
<p>A. Without the <code>g</code> flag, only the first occurrence on each line is replaced. With <code>g</code>, all occurrences are replaced.</p>
<h4>Q4. How do I delete lines matching a pattern?</h4>
<p>A. Use the <code>d</code> command: <code>sed '/pattern/d' filename</code>.</p>
<h4>Q5. How can I use variables in sed commands?</h4>
<p>A. Use double quotes and escape special characters: <code>sed &quot;s/$var/replacement/g&quot; filename</code>.</p>
<h2>References</h2>
<p>https://www.gnu.org/software/sed/manual/sed.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>