# shift

`shift` コマンドはシェルスクリプト内でコマンドライン引数を操作するためのコマンドです。引数リストを左にシフトさせ、最初の引数を削除します。

## オプション

### **-n (数値)**

指定した数値分だけ引数をシフトします。デフォルトは1です。

```bash
$ shift 2  # 最初の2つの引数を削除
```

## 使用例

### 基本的な使用法

```bash
#!/bin/bash
echo "最初の引数: $1"
echo "2番目の引数: $2"
shift
echo "シフト後の最初の引数: $1"
echo "シフト後の2番目の引数: $2"
```

実行結果（`./script.sh apple orange banana` として実行した場合）:
```
最初の引数: apple
2番目の引数: orange
シフト後の最初の引数: orange
シフト後の2番目の引数: banana
```

### 複数の引数をシフトする例

```bash
#!/bin/bash
echo "引数: $1 $2 $3"
shift 2
echo "2つシフト後の引数: $1 $2 $3"
```

実行結果（`./script.sh a b c d` として実行した場合）:
```
引数: a b c
2つシフト後の引数: c d
```

### すべての引数を処理する例

```bash
#!/bin/bash
echo "すべての引数を処理します:"
while [ $# -gt 0 ]; do
    echo "処理中: $1"
    shift
done
```

実行結果（`./script.sh foo bar baz` として実行した場合）:
```
すべての引数を処理します:
処理中: foo
処理中: bar
処理中: baz
```

## よくある質問

### Q1. `shift` コマンドは何のために使うのですか？
A. シェルスクリプト内で引数を順番に処理したり、特定の引数を無視したりするために使います。特に多数の引数を扱うループ処理で便利です。

### Q2. `shift` を使うと元の引数は復元できますか？
A. いいえ、`shift` で削除された引数は復元できません。必要な場合は事前に変数に保存しておく必要があります。

### Q3. `$#` 変数と `shift` の関係は？
A. `$#` は現在の引数の数を表します。`shift` を実行すると `$#` の値も減少します。

### Q4. `shift` コマンドが失敗するケースはありますか？
A. シフトする数が残りの引数の数より多い場合、エラーになります。例えば、引数が2つしかないのに `shift 3` を実行するとエラーになります。

## 追加情報

- `shift` はシェルの組み込みコマンドであり、外部コマンドではありません。
- 引数を処理した後に再利用する必要がある場合は、事前に配列や変数に保存しておくことをお勧めします。
- `getopts` コマンドと組み合わせて、オプション引数を処理する際によく使われます。

## 参考情報

Bash マニュアル: https://www.gnu.org/software/bash/manual/