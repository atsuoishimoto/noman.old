<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  jq - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>jq command</h1>
<p>Process and manipulate JSON data from the command line.</p>
<h2>Overview</h2>
<p><code>jq</code> is a lightweight and flexible command-line JSON processor. It allows you to slice, filter, map, and transform structured data with the same ease that <code>sed</code>, <code>awk</code>, and <code>grep</code> let you play with text. It works like a filter, taking input from files or stdin, and outputting processed JSON to stdout.</p>
<h2>Options</h2>
<h3><strong>-r, --raw-output</strong></h3>
<p>Outputs raw strings rather than JSON encoded strings (removes quotes)</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;name&quot;: &quot;John&quot;}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.name&#39;</span>
<span style="color: #000; font-style: italic">John</span>
</pre></div>
<h3><strong>-c, --compact-output</strong></h3>
<p>Produces compact output without pretty-printing</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span>-c
<span style="color: #000; font-style: italic">{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30}</span>
</pre></div>
<h3><strong>-s, --slurp</strong></h3>
<p>Reads all inputs into an array and applies the filter to it</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;id&quot;: 1}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;id&quot;: 2}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span>-s
<span style="color: #000; font-style: italic">[</span>
<span style="color: #000; font-style: italic">  {&quot;id&quot;: 1},</span>
<span style="color: #000; font-style: italic">  {&quot;id&quot;: 2}</span>
<span style="color: #000; font-style: italic">]</span>
</pre></div>
<h3><strong>-f, --from-file</strong></h3>
<p>Reads filter from a file</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span>-f<span style="color: #F8F8F8"> </span>filter.jq
<span style="color: #8F5902"># </span>Output<span style="color: #F8F8F8"> </span>depends<span style="color: #F8F8F8"> </span>on<span style="color: #F8F8F8"> </span>the<span style="color: #F8F8F8"> </span>content<span style="color: #F8F8F8"> </span>of<span style="color: #F8F8F8"> </span>filter.jq
</pre></div>
<h2>Usage Examples</h2>
<h3>Basic Property Access</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;user&quot;: {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30}}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.user.name&#39;</span>
<span style="color: #000; font-style: italic">&quot;John&quot;</span>
</pre></div>
<h3>Array Operations</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;[{&quot;name&quot;: &quot;John&quot;}, {&quot;name&quot;: &quot;Jane&quot;}]&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.[].name&#39;</span>
<span style="color: #000; font-style: italic">&quot;John&quot;</span>
<span style="color: #000; font-style: italic">&quot;Jane&quot;</span>
</pre></div>
<h3>Filtering Arrays</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;[{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30}, {&quot;name&quot;: &quot;Jane&quot;, &quot;age&quot;: 25}]&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.[] | select(.age &gt; 28)&#39;</span>
<span style="color: #000; font-style: italic">{</span>
<span style="color: #000; font-style: italic">  &quot;name&quot;: &quot;John&quot;,</span>
<span style="color: #000; font-style: italic">  &quot;age&quot;: 30</span>
<span style="color: #000; font-style: italic">}</span>
</pre></div>
<h3>Creating New JSON</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{&quot;first&quot;: &quot;John&quot;, &quot;last&quot;: &quot;Doe&quot;}&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;{full_name: .first + &quot; &quot; + .last}&#39;</span>
<span style="color: #000; font-style: italic">{</span>
<span style="color: #000; font-style: italic">  &quot;full_name&quot;: &quot;John Doe&quot;</span>
<span style="color: #000; font-style: italic">}</span>
</pre></div>
<h2>Tips:</h2>
<h3>Pipe Multiple Filters</h3>
<p>Chain multiple operations with pipes within jq to perform complex transformations:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;[{&quot;id&quot;: 1, &quot;value&quot;: &quot;a&quot;}, {&quot;id&quot;: 2, &quot;value&quot;: &quot;b&quot;}]&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.[] | {id: .id, upper: (.value | ascii_upcase)}&#39;</span>
<span style="color: #000; font-style: italic">{</span>
<span style="color: #000; font-style: italic">  &quot;id&quot;: 1,</span>
<span style="color: #000; font-style: italic">  &quot;upper&quot;: &quot;A&quot;</span>
<span style="color: #000; font-style: italic">}</span>
<span style="color: #000; font-style: italic">{</span>
<span style="color: #000; font-style: italic">  &quot;id&quot;: 2,</span>
<span style="color: #000; font-style: italic">  &quot;upper&quot;: &quot;B&quot;</span>
<span style="color: #000; font-style: italic">}</span>
</pre></div>
<h3>Use Built-in Functions</h3>
<p>jq has many built-in functions for string manipulation, math operations, and more:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;[&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;]&#39;</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;map(length)&#39;</span>
<span style="color: #000; font-style: italic">[</span>
<span style="color: #000; font-style: italic">  5,</span>
<span style="color: #000; font-style: italic">  6,</span>
<span style="color: #000; font-style: italic">  6</span>
<span style="color: #000; font-style: italic">]</span>
</pre></div>
<h3>Format JSON Files</h3>
<p>Use jq as a simple JSON formatter/pretty-printer:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>jq<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;.&#39;</span><span style="color: #F8F8F8"> </span>messy.json<span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>formatted.json
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. How do I extract a specific field from JSON?</h4>
<p>A. Use the dot notation: <code>jq '.fieldname'</code> or for nested fields: <code>jq '.parent.child'</code>.</p>
<h4>Q2. How do I process multiple JSON files?</h4>
<p>A. You can use shell loops or the <code>-s</code> (slurp) option to combine multiple files into an array.</p>
<h4>Q3. How do I convert JSON to CSV?</h4>
<p>A. Use raw output with string concatenation: <code>jq -r '.[] | [.field1, .field2] | @csv'</code>.</p>
<h4>Q4. How do I handle JSON with special characters?</h4>
<p>A. jq handles escaping automatically, but you can use the <code>-r</code> flag to get raw output when needed.</p>
<h4>Q5. Can jq modify JSON files in-place?</h4>
<p>A. No, jq doesn't modify files in-place. You need to redirect output to a new file and then replace the original.</p>
<h2>References</h2>
<p>https://stedolan.github.io/jq/manual/</p>
<h2>Revisions</h2>
<ul>
<li>2025/04/30 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>