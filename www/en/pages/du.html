<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  du - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>du command</h1>
<p>Estimate file space usage for files and directories.</p>
<h2>Overview</h2>
<p>The <code>du</code> (disk usage) command estimates and displays the disk space used by files and directories. It's useful for finding large files or directories that consume significant disk space, helping you manage storage efficiently.</p>
<h2>Options</h2>
<h3><strong>-h, --human-readable</strong></h3>
<p>Display sizes in human-readable format (e.g., 1K, 234M, 2G) instead of blocks.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-h<span style="color: #F8F8F8"> </span>Documents
<span style="color: #000; font-style: italic">16K     Documents/notes</span>
<span style="color: #000; font-style: italic">4.0K    Documents/templates</span>
<span style="color: #000; font-style: italic">24K     Documents</span>
</pre></div>
<h3><strong>-s, --summarize</strong></h3>
<p>Display only a total for each argument (summarize).</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-s<span style="color: #F8F8F8"> </span>Documents
<span style="color: #000; font-style: italic">24      Documents</span>
</pre></div>
<h3><strong>-a, --all</strong></h3>
<p>Show counts for all files, not just directories.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-a<span style="color: #F8F8F8"> </span>Documents
<span style="color: #000; font-style: italic">4       Documents/notes/todo.txt</span>
<span style="color: #000; font-style: italic">8       Documents/notes/meeting.txt</span>
<span style="color: #000; font-style: italic">16      Documents/notes</span>
<span style="color: #000; font-style: italic">4       Documents/templates/letter.txt</span>
<span style="color: #000; font-style: italic">4       Documents/templates</span>
<span style="color: #000; font-style: italic">24      Documents</span>
</pre></div>
<h3><strong>-c, --total</strong></h3>
<p>Produce a grand total of all arguments after all arguments have been processed.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span>Documents<span style="color: #F8F8F8"> </span>Downloads
<span style="color: #000; font-style: italic">24      Documents</span>
<span style="color: #000; font-style: italic">156     Downloads</span>
<span style="color: #000; font-style: italic">180     total</span>
</pre></div>
<h3><strong>--max-depth=N</strong></h3>
<p>Print the total for a directory only if it is N or fewer levels below the command line argument.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>--max-depth<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span>/home/user
<span style="color: #000; font-style: italic">24      /home/user/Documents</span>
<span style="color: #000; font-style: italic">156     /home/user/Downloads</span>
<span style="color: #000; font-style: italic">84      /home/user/Pictures</span>
<span style="color: #000; font-style: italic">1024    /home/user</span>
</pre></div>
<h3><strong>-x, --one-file-system</strong></h3>
<p>Skip directories on different file systems.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-x<span style="color: #F8F8F8"> </span>/home
</pre></div>
<h2>Usage Examples</h2>
<h3>Finding the largest directories</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-h<span style="color: #F8F8F8"> </span>--max-depth<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span>/home/user<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span>-hr
<span style="color: #000; font-style: italic">1.0G    /home/user</span>
<span style="color: #000; font-style: italic">450M    /home/user/Videos</span>
<span style="color: #000; font-style: italic">350M    /home/user/Downloads</span>
<span style="color: #000; font-style: italic">120M    /home/user/Pictures</span>
<span style="color: #000; font-style: italic">24M     /home/user/Documents</span>
</pre></div>
<h3>Checking specific directory size with human-readable output</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-sh<span style="color: #F8F8F8"> </span>/var/log
<span style="color: #000; font-style: italic">156M    /var/log</span>
</pre></div>
<h3>Finding the 5 largest files/directories</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-ha<span style="color: #F8F8F8"> </span>/home/user<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span>-hr<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>head<span style="color: #F8F8F8"> </span>-5
<span style="color: #000; font-style: italic">1.0G    /home/user</span>
<span style="color: #000; font-style: italic">450M    /home/user/Videos</span>
<span style="color: #000; font-style: italic">350M    /home/user/Downloads</span>
<span style="color: #000; font-style: italic">200M    /home/user/Videos/movie.mp4</span>
<span style="color: #000; font-style: italic">120M    /home/user/Pictures</span>
</pre></div>
<h2>Tips:</h2>
<h3>Combine with sort for better insights</h3>
<p>Pipe <code>du</code> output to <code>sort</code> with the <code>-h</code> (human-readable) and <code>-r</code> (reverse) options to list directories by size in descending order.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-h<span style="color: #F8F8F8"> </span>--max-depth<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span>-hr
</pre></div>
<h3>Exclude certain directories</h3>
<p>Use the <code>--exclude</code> option to skip specific directories:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-h<span style="color: #F8F8F8"> </span>--exclude<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #4E9A06">&quot;node_modules&quot;</span><span style="color: #F8F8F8"> </span>--max-depth<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span>
</pre></div>
<h3>Use with grep to find specific patterns</h3>
<p>Combine with <code>grep</code> to filter results:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>du<span style="color: #F8F8F8"> </span>-ha<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>grep<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;\.mp4</span>$<span style="color: #4E9A06">&quot;</span>
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What's the difference between <code>du</code> and <code>df</code>?</h4>
<p>A. <code>du</code> shows disk usage of files and directories, while <code>df</code> shows disk space usage of entire filesystems.</p>
<h4>Q2. Why does <code>du</code> sometimes show different sizes than what I see in a file manager?</h4>
<p>A. <code>du</code> measures disk space used (including filesystem overhead), while file managers often show file size. Also, block sizes and allocation methods can cause differences.</p>
<h4>Q3. How can I make <code>du</code> run faster on large directories?</h4>
<p>A. Use <code>du -s</code> to only get summaries, or <code>--max-depth=N</code> to limit recursion depth.</p>
<h4>Q4. Why do I get &quot;permission denied&quot; errors with <code>du</code>?</h4>
<p>A. You need read permissions for all directories you're checking. Try running with <code>sudo</code> if you need to check system directories.</p>
<h2>macOS Considerations</h2>
<p>On macOS, the BSD version of <code>du</code> has slightly different options:</p>
<ul>
<li>Use <code>-d</code> instead of <code>--max-depth</code></li>
<li>Some GNU options like <code>--exclude</code> are not available</li>
<li>For human-readable output, you may need to use <code>du -h | awk '{print $1, $2}'</code> to get cleaner output</li>
</ul>
<h2>References</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/du-invocation.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>