# whoami

現在ログインしているユーザー名を表示するコマンドです。システム上で「誰として」操作しているかを確認できます。

## オプション

`whoami` コマンドには一般的に使用されるオプションがほとんどありません。基本的な使い方は単純です。

### **基本的な使い方**

引数なしで実行すると、現在のユーザー名を表示します。

```bash
$ whoami
tanaka
```

## 使用例

### 基本的な使用例

```bash
$ whoami
tanaka
```

この例では、現在ログインしているユーザー名が「tanaka」であることがわかります。

### スクリプト内での使用例

```bash
#!/bin/bash
current_user=$(whoami)
echo "このスクリプトは ${current_user} として実行されています"
```

実行結果:
```
このスクリプトは tanaka として実行されています
```

### sudo と組み合わせた例

```bash
$ whoami
tanaka
$ sudo whoami
root
```

`sudo` コマンドと組み合わせると、権限昇格後のユーザー（通常は root）が表示されます。

## よくある質問

### Q1. `whoami` と `id -un` の違いは何ですか？
A. 基本的に同じ機能です。`id -un` は `id` コマンドのオプションで、ユーザー名のみを表示します。多くのシステムでは `whoami` は `id -un` のエイリアスとして実装されています。

### Q2. `who am i` コマンドとの違いは何ですか？
A. `who am i` は接続時の元のログイン情報を表示しますが、`whoami` は現在の実効ユーザー名のみを表示します。`sudo` などで権限を変更した場合、結果が異なることがあります。

### Q3. `whoami` の実行結果が予期しないユーザー名になる場合はどうすればよいですか？
A. 予期しないユーザー名が表示される場合は、`sudo` や `su` コマンドでユーザーを切り替えた可能性があります。元のユーザーに戻るには、権限昇格セッションを終了してください。

## 追加情報

- このコマンドはシンプルですが、スクリプト内でユーザー確認や条件分岐に非常に役立ちます。
- セキュリティ関連のトラブルシューティングや、複数のユーザーアカウントを使い分ける環境で特に有用です。
- macOSを含むほとんどのUnixシステムで同様に動作します。

## 参考情報

https://www.gnu.org/software/coreutils/manual/html_node/whoami-invocation.html