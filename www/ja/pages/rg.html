<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  rg - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>rg コマンド</h1>
<p>正規表現を使用してファイル内のパターンを検索し、ディレクトリを再帰的に探索します。</p>
<h2>概要</h2>
<p><code>rg</code>（ripgrep）は、現在のディレクトリを再帰的に検索して正規表現パターンを見つける行指向の検索ツールです。grep、ag、ackなどの他の検索ツールよりも高速に動作するように設計されており、同様の機能を合理的なデフォルト設定で提供します。デフォルトでは、ripgrepは.gitignoreルールを尊重し、隠しファイル/ディレクトリやバイナリファイルを自動的にスキップします。</p>
<h2>オプション</h2>
<h3><strong>-i, --ignore-case</strong></h3>
<p>検索で大文字と小文字を区別しないようにします。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span>error
<span style="color: #000; font-style: italic">./log.txt:10:ERROR: Connection failed</span>
<span style="color: #000; font-style: italic">./log.txt:15:error: timeout occurred</span>
<span style="color: #000; font-style: italic">./app.js:42:console.log(&#39;error handling&#39;);</span>
</pre></div>
<h3><strong>-v, --invert-match</strong></h3>
<p>指定したパターンに一致しない行を表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-v<span style="color: #F8F8F8"> </span>error<span style="color: #F8F8F8"> </span>test.log
<span style="color: #000; font-style: italic">./test.log:1:Starting application</span>
<span style="color: #000; font-style: italic">./test.log:2:Loading configuration</span>
<span style="color: #000; font-style: italic">./test.log:5:Application running</span>
</pre></div>
<h3><strong>-w, --word-regexp</strong></h3>
<p>単語境界で囲まれた一致のみを表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-w<span style="color: #F8F8F8"> </span>log
<span style="color: #000; font-style: italic">./app.js:42:console.log(&#39;error handling&#39;);</span>
<span style="color: #000; font-style: italic">./utils.js:15:function log(message) {</span>
</pre></div>
<h3><strong>-c, --count</strong></h3>
<p>各ファイルの一致する行数のみを表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-c<span style="color: #F8F8F8"> </span>error<span style="color: #F8F8F8"> </span>logs/
<span style="color: #000; font-style: italic">logs/app.log:15</span>
<span style="color: #000; font-style: italic">logs/system.log:3</span>
<span style="color: #000; font-style: italic">logs/debug.log:0</span>
</pre></div>
<h3><strong>-l, --files-with-matches</strong></h3>
<p>少なくとも1つの一致を含むパスのみを表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-l<span style="color: #F8F8F8"> </span>error
<span style="color: #000; font-style: italic">logs/app.log</span>
<span style="color: #000; font-style: italic">logs/system.log</span>
<span style="color: #000; font-style: italic">src/error_handler.js</span>
</pre></div>
<h3><strong>--no-ignore</strong></h3>
<p>無視ファイル（.gitignore、.ignoreなど）を尊重しません。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>--no-ignore<span style="color: #F8F8F8"> </span>password
<span style="color: #000; font-style: italic">.git/config:3:password=secret123</span>
<span style="color: #000; font-style: italic">node_modules/test-lib/passwords.json:5:&quot;default_password&quot;: &quot;admin&quot;</span>
</pre></div>
<h3><strong>-A, --after-context NUM</strong></h3>
<p>各一致の後にNUM行を表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-A<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">2</span><span style="color: #F8F8F8"> </span>error<span style="color: #F8F8F8"> </span>app.log
<span style="color: #000; font-style: italic">app.log:15:error: connection failed</span>
<span style="color: #000; font-style: italic">app.log:16:  at line 42 in network.js</span>
<span style="color: #000; font-style: italic">app.log:17:  attempted reconnect</span>
</pre></div>
<h3><strong>-B, --before-context NUM</strong></h3>
<p>各一致の前にNUM行を表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-B<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">2</span><span style="color: #F8F8F8"> </span>error<span style="color: #F8F8F8"> </span>app.log
<span style="color: #000; font-style: italic">app.log:13:attempting connection</span>
<span style="color: #000; font-style: italic">app.log:14:using default timeout</span>
<span style="color: #000; font-style: italic">app.log:15:error: connection failed</span>
</pre></div>
<h2>使用例</h2>
<h3>特定のファイルタイプで検索</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-t<span style="color: #F8F8F8"> </span>js<span style="color: #F8F8F8"> </span>console.log
<span style="color: #000; font-style: italic">src/main.js:10:  console.log(&#39;Application started&#39;);</span>
<span style="color: #000; font-style: italic">src/utils.js:25:  console.log(&#39;Loading data...&#39;);</span>
</pre></div>
<h3>複数のパターンで検索</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;error|warning|critical&#39;</span><span style="color: #F8F8F8"> </span>logs/app.log
<span style="color: #000; font-style: italic">logs/app.log:15:error: connection failed</span>
<span style="color: #000; font-style: italic">logs/app.log:23:warning: slow response time</span>
<span style="color: #000; font-style: italic">logs/app.log:45:critical: database unavailable</span>
</pre></div>
<h3>ファイル名パターンで検索</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>TODO<span style="color: #F8F8F8"> </span>-g<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;*.js&#39;</span>
<span style="color: #000; font-style: italic">src/app.js:42:// TODO: Implement error handling</span>
<span style="color: #000; font-style: italic">src/utils.js:78:// TODO: Optimize this function</span>
</pre></div>
<h2>ヒント:</h2>
<h3>スマートケースで柔軟なマッチングを使用</h3>
<p><code>-S</code>または<code>--smart-case</code>を使用すると、パターンがすべて小文字の場合は大文字と小文字を区別しない検索を行い、パターンに大文字が含まれる場合は大文字と小文字を区別する検索を行います。</p>
<h3>他のコマンドと組み合わせる</h3>
<p><code>rg</code>の出力を他のコマンドにパイプして、さらに処理することができます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>-n<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&#39;TODO|FIXME&#39;</span><span style="color: #F8F8F8"> </span>--no-heading<span style="color: #F8F8F8"> </span><span style="color: #000; font-weight: bold">|</span><span style="color: #F8F8F8"> </span>sort<span style="color: #F8F8F8"> </span>-k1,1
</pre></div>
<h3>圧縮ファイル内を検索</h3>
<p><code>--search-zip</code>を使用して、.gzや.zipなどの圧縮ファイル内を検索できます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span>--search-zip<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;error&quot;</span><span style="color: #F8F8F8"> </span>logs/
</pre></div>
<h3>特定のディレクトリを除外</h3>
<p><code>--glob=!{dir}</code>を使用して、特定のディレクトリを除外できます：</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>rg<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;function&quot;</span><span style="color: #F8F8F8"> </span>--glob<span style="color: #CE5C00; font-weight: bold">=</span>!<span style="color: #CE5C00; font-weight: bold">{</span>node_modules,dist<span style="color: #CE5C00; font-weight: bold">}</span>
</pre></div>
<h2>よくある質問</h2>
<h4>Q1. ripgrepはgrepとどう違いますか？</h4>
<p>A. ripgrepは一般的にgrepよりも高速で、自動的に再帰的に検索し、デフォルトで.gitignoreルールを尊重し、多くのファイルタイプやエンコーディングに対する組み込みサポートを持っています。</p>
<h4>Q2. スペースを含むパターンを検索するにはどうすればよいですか？</h4>
<p>A. パターンを引用符で囲みます：<code>rg &quot;スペースを含む検索パターン&quot;</code></p>
<h4>Q3. ripgrepで隠しファイルやディレクトリを検索するにはどうすればよいですか？</h4>
<p>A. <code>--hidden</code>フラグを使用します：<code>rg --hidden パターン</code></p>
<h4>Q4. 正規表現パターンではなくリテラル文字列を検索するにはどうすればよいですか？</h4>
<p>A. <code>-F</code>または<code>--fixed-strings</code>オプションを使用します：<code>rg -F &quot;特殊文字を含む(文字列)&quot;</code></p>
<h4>Q5. --no-ignoreオプションは何をしますか？</h4>
<p>A. <code>--no-ignore</code>オプションは、ripgrepにすべての無視ファイル（.gitignore、.ignoreなど）を無視するよう指示し、通常は無視パターンに基づいて除外されるファイルも含めてすべてのファイルを検索します。</p>
<h2>参考資料</h2>
<p>https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/05/04 --no-ignoreオプションの説明を追加し、FAQを拡張しました。</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>