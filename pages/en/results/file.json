{
  "id": "msg_01H4V5ioH1f8MNMK2YwpGAJ4",
  "content": [
    {
      "text": "# file command\n\nDetermine file type by examining file contents.\n\n## Overview\n\nThe `file` command identifies the type of a file by examining its contents, rather than relying on filename extensions. It performs various tests to determine whether files are text, executable binaries, data files, or other types. This is particularly useful when working with files that have missing or misleading extensions.\n\n## Options\n\n### **-b, --brief**\n\nDisplay the result without the filename prefix.\n\n```console\n$ file -b document.txt\nASCII text\n```\n\n### **-i, --mime**\n\nDisplay MIME type instead of traditional file type description.\n\n```console\n$ file -i document.txt\ndocument.txt: text/plain; charset=us-ascii\n```\n\n### **-z, --uncompress**\n\nTry to look inside compressed files.\n\n```console\n$ file -z archive.gz\narchive.gz: ASCII text (gzip compressed data, was \"notes.txt\", last modified: Wed Apr 28 15:30:45 2021, from Unix)\n```\n\n### **-L, --dereference**\n\nFollow symbolic links.\n\n```console\n$ file -L symlink\nsymlink: ASCII text\n```\n\n### **-s, --special-files**\n\nRead block or character special files.\n\n```console\n$ file -s /dev/sda1\n/dev/sda1: Linux rev 1.0 ext4 filesystem data (extents) (large files)\n```\n\n## Usage Examples\n\n### Checking multiple files at once\n\n```console\n$ file document.txt image.png script.sh\ndocument.txt: ASCII text\nimage.png:    PNG image data, 1920 x 1080, 8-bit/color RGB, non-interlaced\nscript.sh:    Bourne-Again shell script, ASCII text executable\n```\n\n### Examining a binary file\n\n```console\n$ file /bin/ls\n/bin/ls: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=2f15ad836be3339dec0e2e6a3c637e08e48aacbd, for GNU/Linux 3.2.0, stripped\n```\n\n### Checking file encoding\n\n```console\n$ file --mime-encoding document.txt\ndocument.txt: us-ascii\n```\n\n## Tips:\n\n### Use with find command\n\nCombine with `find` to identify file types in a directory structure:\n\n```console\n$ find . -type f -exec file {} \\;\n```\n\n### Examining disk partitions\n\nUse `file -s` to examine disk partitions and filesystems:\n\n```console\n$ sudo file -s /dev/sd*\n```\n\n### Checking file encoding\n\nWhen working with international text, use `file --mime-encoding` to determine character encoding:\n\n```console\n$ file --mime-encoding international_text.txt\ninternational_text.txt: utf-8\n```\n\n## Frequently Asked Questions\n\n#### Q1. How accurate is the file command?\nA. The `file` command is generally accurate but not infallible. It uses \"magic\" tests that examine file contents for patterns, but some file types may be misidentified, especially custom or obscure formats.\n\n#### Q2. Can file detect encrypted files?\nA. Yes, `file` can often detect encrypted files, but it may only identify them as \"data\" or \"encrypted data\" without specifying the encryption method.\n\n#### Q3. How does file differ from using file extensions?\nA. Unlike relying on file extensions (which can be changed or misleading), `file` examines the actual content of files to determine their type, providing more reliable identification.\n\n#### Q4. Can file identify programming language source code?\nA. Yes, `file` can identify many programming language source files, though it may sometimes only identify them generically as \"ASCII text\" or similar.\n\n## References\n\nhttps://man7.org/linux/man-pages/man1/file.1.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1632,
    "output_tokens": 955
  }
}