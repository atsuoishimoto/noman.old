# git-commit コマンド概要

`git-commit`は、Gitリポジトリ内の変更をコミット（記録）するためのコマンドです。ステージングエリア（インデックス）に追加された変更を、コミットメッセージとともにリポジトリの履歴に保存します。

## オプション

### **-m, --message**:

コミットメッセージを直接コマンドラインで指定します。これにより、テキストエディタが開かずにコミットできます。

例: `git commit -m "バグを修正しました"`

### **-a, --all**:

すでに追跡されているファイルの変更を自動的にステージングしてからコミットします。`git add`を実行せずに変更をコミットできます。

例: `git commit -a -m "全ての変更をコミット"`

### **--amend**:

直前のコミットを修正します。コミットメッセージの変更や、追加の変更を含めることができます。

例: `git commit --amend -m "修正したコミットメッセージ"`

### **-v, --verbose**:

コミットメッセージエディタにdiffの内容も表示します。何を変更したかを確認しながらコミットメッセージを書けます。

例: `git commit -v`

### **--no-verify**:

pre-commitフックやcommit-msgフックをスキップします。CIチェックなどを一時的に回避したい場合に使用します。

例: `git commit --no-verify -m "緊急修正"`

## 使用例

```bash
# 基本的なコミット
git add file.txt
git commit -m "ファイルを追加"
# 出力
[main 1a2b3c4] ファイルを追加
 1 file changed, 10 insertions(+)

# 変更を自動ステージングしてコミット
git commit -am "すべての変更をコミット"
# 出力
[main 5d6e7f8] すべての変更をコミット
 2 files changed, 15 insertions(+), 5 deletions(-)

# 直前のコミットを修正
git commit --amend -m "より良いコミットメッセージ"
# 出力
[main 5d6e7f8] より良いコミットメッセージ
 Date: Mon Apr 10 12:34:56 2023 +0900
 2 files changed, 15 insertions(+), 5 deletions(-)
```

## よくある質問

### Q1. コミットとは何ですか？
A. コミットとは、プロジェクトの変更履歴のスナップショットです。変更内容、作成者、日時などの情報が含まれます。

### Q2. コミットメッセージはどのように書くべきですか？
A. 簡潔で明確な一行の要約から始め、必要に応じて詳細な説明を空行の後に続けます。「何を」変更したかだけでなく「なぜ」変更したかも説明すると良いでしょう。

### Q3. コミットした後に間違いに気づいた場合はどうすればよいですか？
A. `git commit --amend`を使用して直前のコミットを修正できます。すでにプッシュした場合は注意が必要です。

### Q4. 複数のファイルを別々にコミットするにはどうすればよいですか？
A. `git add <ファイル名>`で特定のファイルだけをステージングし、`git commit`でコミットします。これを繰り返します。

### Q5. コミットメッセージを書くときにエディタが開かないようにするには？
A. `-m`オプションを使用して、コマンドラインで直接メッセージを指定します：`git commit -m "メッセージ"`

### Q6. 空のコミットを作成できますか？
A. `git commit --allow-empty -m "空のコミット"`で、変更なしのコミットを作成できます。CIトリガーなどに使用されます。

### Q7. コミットを取り消すにはどうすればよいですか？
A. `git reset HEAD~1`で直前のコミットを取り消せます。公開リポジトリの場合は`git revert`の使用を検討してください。

### Q8. 特定のファイルだけをコミットから除外するには？
A. `git reset <ファイル名>`でステージングから特定のファイルを除外し、残りをコミットします。

### Q9. コミットの署名を行うにはどうすればよいですか？
A. `git commit -S -m "署名付きコミット"`で、GPGキーを使用してコミットに署名できます。

### Q10. コミットの日時を指定できますか？
A. `git commit --date="2023-04-01T12:00:00"`で、特定の日時を持つコミットを作成できます。

## 追加情報

- コミットは小さく、論理的なまとまりで行うと、変更履歴が追跡しやすくなります。
- コミットメッセージは現在形（"Fix bug"など）で書くのが一般的です。
- コミットする前に`git diff --staged`で変更内容を確認すると、意図しない変更を防げます。
- チーム開発では、コミットメッセージの形式を統一すると履歴が読みやすくなります。