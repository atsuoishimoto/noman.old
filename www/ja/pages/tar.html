<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  tar - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>tar コマンド</h1>
<p>ファイルやディレクトリをアーカイブ（まとめて一つのファイルに）したり、圧縮・展開したりします。</p>
<h2>概要</h2>
<p><code>tar</code>（tape archive）コマンドは、複数のファイルやディレクトリを一つのアーカイブファイルにまとめたり、そのアーカイブを展開したりするためのコマンドです。また、gzip、bzip2、xzなどの圧縮形式と組み合わせて使用することもできます。Unixシステムでのファイル配布やバックアップに広く使われています。</p>
<h2>オプション</h2>
<h3><strong>-c (--create)</strong></h3>
<p>新しいアーカイブを作成します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-cf<span style="color: #F8F8F8"> </span>archive.tar<span style="color: #F8F8F8"> </span>file1<span style="color: #F8F8F8"> </span>file2<span style="color: #F8F8F8"> </span>directory1
<span style="color: #8F5902"># </span>file1、file2、directory1をarchive.tarというアーカイブにまとめる
</pre></div>
<h3><strong>-x (--extract)</strong></h3>
<p>アーカイブからファイルを展開します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-xf<span style="color: #F8F8F8"> </span>archive.tar
<span style="color: #8F5902"># </span>archive.tarからすべてのファイルを現在のディレクトリに展開する
</pre></div>
<h3><strong>-f (--file)</strong></h3>
<p>アーカイブファイル名を指定します。ほとんどの場合、このオプションは必須です。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-cf<span style="color: #F8F8F8"> </span>backup.tar<span style="color: #F8F8F8"> </span>documents/
<span style="color: #8F5902"># </span>documentsディレクトリをbackup.tarというファイル名でアーカイブする
</pre></div>
<h3><strong>-v (--verbose)</strong></h3>
<p>処理中のファイル名を表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-cvf<span style="color: #F8F8F8"> </span>archive.tar<span style="color: #F8F8F8"> </span>file1<span style="color: #F8F8F8"> </span>file2
<span style="color: #000; font-style: italic">file1</span>
<span style="color: #000; font-style: italic">file2</span>
<span style="color: #8F5902"># </span>処理中のファイル名が表示される
</pre></div>
<h3><strong>-z (--gzip)</strong></h3>
<p>gzip形式で圧縮/展開します。拡張子は通常 <code>.tar.gz</code> または <code>.tgz</code> を使用します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-czf<span style="color: #F8F8F8"> </span>archive.tar.gz<span style="color: #F8F8F8"> </span>directory/
<span style="color: #8F5902"># </span>directoryをgzip圧縮してアーカイブする
</pre></div>
<h3><strong>-j (--bzip2)</strong></h3>
<p>bzip2形式で圧縮/展開します。拡張子は通常 <code>.tar.bz2</code> または <code>.tbz2</code> を使用します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-cjf<span style="color: #F8F8F8"> </span>archive.tar.bz2<span style="color: #F8F8F8"> </span>directory/
<span style="color: #8F5902"># </span>directoryをbzip2圧縮してアーカイブする
</pre></div>
<h3><strong>-J (--xz)</strong></h3>
<p>xz形式で圧縮/展開します。拡張子は通常 <code>.tar.xz</code> を使用します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-cJf<span style="color: #F8F8F8"> </span>archive.tar.xz<span style="color: #F8F8F8"> </span>directory/
<span style="color: #8F5902"># </span>directoryをxz圧縮してアーカイブする
</pre></div>
<h3><strong>-t (--list)</strong></h3>
<p>アーカイブの内容を一覧表示します。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-tf<span style="color: #F8F8F8"> </span>archive.tar
<span style="color: #000; font-style: italic">file1</span>
<span style="color: #000; font-style: italic">file2</span>
<span style="color: #000; font-style: italic">directory/</span>
<span style="color: #000; font-style: italic">directory/file3</span>
<span style="color: #8F5902"># </span>アーカイブ内のファイル一覧を表示する
</pre></div>
<h2>使用例</h2>
<h3>複数のファイルをgzip圧縮してアーカイブする</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-czvf<span style="color: #F8F8F8"> </span>backup.tar.gz<span style="color: #F8F8F8"> </span>documents/<span style="color: #F8F8F8"> </span>images/<span style="color: #F8F8F8"> </span>important.txt
<span style="color: #000; font-style: italic">documents/</span>
<span style="color: #000; font-style: italic">documents/report.pdf</span>
<span style="color: #000; font-style: italic">documents/notes.txt</span>
<span style="color: #000; font-style: italic">images/</span>
<span style="color: #000; font-style: italic">images/photo1.jpg</span>
<span style="color: #000; font-style: italic">images/photo2.jpg</span>
<span style="color: #000; font-style: italic">important.txt</span>
</pre></div>
<h3>特定のディレクトリにアーカイブを展開する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-xf<span style="color: #F8F8F8"> </span>archive.tar<span style="color: #F8F8F8"> </span>-C<span style="color: #F8F8F8"> </span>/path/to/destination/
<span style="color: #8F5902"># </span>archive.tarを指定したディレクトリに展開する
</pre></div>
<h3>アーカイブから特定のファイルだけを展開する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-xf<span style="color: #F8F8F8"> </span>archive.tar<span style="color: #F8F8F8"> </span>file1<span style="color: #F8F8F8"> </span>directory/file2
<span style="color: #8F5902"># </span>archive.tarからfile1とdirectory/file2だけを展開する
</pre></div>
<h3>圧縮アーカイブの内容を確認する</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>tar<span style="color: #F8F8F8"> </span>-tvf<span style="color: #F8F8F8"> </span>archive.tar.gz
<span style="color: #000; font-style: italic">-rw-r--r-- user/group 12345 2025-04-01 10:00 file1</span>
<span style="color: #000; font-style: italic">drwxr-xr-x user/group     0 2025-04-01 10:01 directory/</span>
<span style="color: #000; font-style: italic">-rw-r--r-- user/group  5678 2025-04-01 10:02 directory/file2</span>
<span style="color: #8F5902"># </span>アーカイブ内のファイル一覧と詳細情報を表示する
</pre></div>
<h2>ヒント:</h2>
<h3>オプションの組み合わせ</h3>
<p>tarコマンドでは、オプションをまとめて記述できます。例えば、<code>tar -czvf</code> は「新しいアーカイブを作成し、gzip圧縮し、処理中のファイル名を表示し、指定したファイル名を使用する」という意味です。</p>
<h3>圧縮形式の選択</h3>
<ul>
<li>gzip (-z): 圧縮速度と圧縮率のバランスが良く、最も一般的に使用されます。</li>
<li>bzip2 (-j): gzipより圧縮率が高いですが、処理時間も長くなります。</li>
<li>xz (-J): 最も高い圧縮率を提供しますが、圧縮・展開に時間がかかります。</li>
</ul>
<h3>ファイルパスに注意</h3>
<p>展開時、デフォルトでは相対パスが保持されます。絶対パスでアーカイブを作成すると、展開時に元のディレクトリ構造が再現されるため注意が必要です。</p>
<h3>進捗状況の確認</h3>
<p>大きなアーカイブを作成・展開する場合は、<code>-v</code>オプションを使用して進捗状況を確認することをお勧めします。</p>
<h2>よくある質問</h2>
<h4>Q1. tarファイルと.tar.gzファイルの違いは何ですか？</h4>
<p>A. tarファイル（.tar）は単なるアーカイブで圧縮されていません。.tar.gzファイルはtarアーカイブをgzipで圧縮したものです。圧縮することでファイルサイズが小さくなります。</p>
<h4>Q2. アーカイブ作成時にファイルを除外するにはどうすればいいですか？</h4>
<p>A. <code>--exclude=パターン</code>オプションを使用します。例：<code>tar -czf archive.tar.gz directory/ --exclude=&quot;*.log&quot;</code></p>
<h4>Q3. アーカイブを展開せずに中身を確認するには？</h4>
<p>A. <code>tar -tf アーカイブ名</code>を使用します。詳細情報も見たい場合は<code>tar -tvf アーカイブ名</code>を使用します。</p>
<h4>Q4. 既存のアーカイブにファイルを追加するには？</h4>
<p>A. <code>-r</code>（または<code>--append</code>）オプションを使用します。例：<code>tar -rf archive.tar newfile.txt</code>（ただし、圧縮されたアーカイブには直接追加できません）</p>
<h2>macOSでの注意点</h2>
<p>macOSに搭載されているtarコマンドはBSD版であり、GNU版と若干の違いがあります。特に、一部のオプションの動作や長いオプション名（--create など）のサポートが異なる場合があります。また、macOSでは<code>-z</code>、<code>-j</code>、<code>-J</code>オプションを使わなくても、ファイル拡張子から自動的に圧縮形式を判断することがあります。</p>
<h2>参考資料</h2>
<p>https://www.gnu.org/software/tar/manual/</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/04/30 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>