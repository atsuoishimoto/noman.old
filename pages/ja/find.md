# `find` コマンドの概要

`find`コマンドは、ファイルシステム内でファイルやディレクトリを検索するための強力なツールです。条件に基づいてファイルを見つけ、さらにそれらに対して操作を実行することができます。

## 主なオプション

- **-name**: ファイル名で検索します
  - 例: `find . -name "*.txt"`（カレントディレクトリ以下のすべての.txtファイルを検索）

- **-type**: ファイルタイプで検索します
  - `f`（通常ファイル）、`d`（ディレクトリ）、`l`（シンボリックリンク）など
  - 例: `find . -type d`（カレントディレクトリ以下のすべてのディレクトリを検索）

- **-size**: ファイルサイズで検索します
  - 例: `find . -size +10M`（10MB以上のファイルを検索）
  - 単位: `c`（バイト）、`k`（キロバイト）、`M`（メガバイト）、`G`（ギガバイト）

- **-mtime**/**-atime**/**-ctime**: 時間に基づいて検索します
  - `-mtime`（更新時間）、`-atime`（アクセス時間）、`-ctime`（ステータス変更時間）
  - 例: `find . -mtime -7`（7日以内に更新されたファイルを検索）

- **-exec**: 見つかったファイルに対してコマンドを実行します
  - 例: `find . -name "*.txt" -exec grep "検索語" {} \;`（すべてのテキストファイルから「検索語」を検索）

- **-maxdepth**/**-mindepth**: 検索する深さを制限します
  - 例: `find . -maxdepth 2 -name "*.log"`（カレントディレクトリと1階層下までの.logファイルを検索）

## 使用例

```bash
# カレントディレクトリ以下のすべての.jpgファイルを検索
find . -name "*.jpg"
# 出力例
./photos/vacation/beach.jpg
./photos/family/birthday.jpg
./wallpaper.jpg

# 7日以内に更新された100KB以上のファイルを検索
find /home/user -type f -size +100k -mtime -7
# 出力例
/home/user/documents/report.pdf
/home/user/downloads/software.zip

# 空のファイルを検索して削除
find /tmp -type f -size 0 -exec rm {} \;
# 出力例はないが、条件に合うファイルが削除される

# 特定のディレクトリ内の古いログファイルを検索して圧縮
find /var/log -name "*.log" -mtime +30 -exec gzip {} \;
# 出力例はないが、30日以上前のログファイルが圧縮される
```

## 追加のヒント

- ワイルドカード（`*`、`?`など）を使用する場合は、引用符で囲むことを忘れないでください。そうしないとシェルが展開してしまいます。
- `-name`は大文字と小文字を区別します。大文字小文字を区別せずに検索するには`-iname`を使用します。
- 複数の条件を組み合わせる場合は、`-and`（デフォルト）、`-or`、`-not`（または`!`）を使用できます。
  - 例: `find . -name "*.txt" -or -name "*.pdf"`
- 権限のないディレクトリでの検索エラーを無視するには、`2>/dev/null`を追加します。
- 大量のファイルを扱う場合、`-exec`の代わりに`-exec command {} \+`を使用すると効率的です（複数のファイルを一度にコマンドに渡します）。