<!DOCTYPE html>
<html lang="ja">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/ja/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  dig - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="コマンドを検索" />
      </div>
      <div class="nav-links">
        <a href="/ja/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>dig コマンド</h1>
<p>DNSネームサーバーにドメイン情報を問い合わせます。</p>
<h2>概要</h2>
<p><code>dig</code>（Domain Information Groper）は柔軟なDNS検索ユーティリティで、ドメイン名、IPアドレス、メール交換、その他のDNSレコードに関する情報をDNSサーバーに問い合わせることができます。DNS問題のトラブルシューティング、DNS設定の確認、DNS変更のテストによく使用されます。</p>
<h2>オプション</h2>
<h3><strong>-t, --type=TYPE</strong></h3>
<p>問い合わせるDNSレコードの種類を指定します（例：A, MX, NS, ANY）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>-t<span style="color: #F8F8F8"> </span>MX<span style="color: #F8F8F8"> </span>google.com
<span style="color: #000; font-style: italic">;; ANSWER SECTION:</span>
<span style="color: #000; font-style: italic">google.com.		300	IN	MX	10 smtp.google.com.</span>
<span style="color: #8F5902"># </span>MXレコード（メールサーバー情報）を表示している
</pre></div>
<h3><strong>-x, --reverse</strong></h3>
<p>逆引きDNS検索を実行します（IPアドレスからホスト名への変換）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>-x<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">8</span>.8.8.8
<span style="color: #000; font-style: italic">;; ANSWER SECTION:</span>
<span style="color: #000; font-style: italic">8.8.8.8.in-addr.arpa.	7200	IN	PTR	dns.google.</span>
<span style="color: #8F5902"># </span><span style="color: #0000CF; font-weight: bold">8</span>.8.8.8のIPアドレスに対応するホスト名を表示している
</pre></div>
<h3><strong>@server</strong></h3>
<p>デフォルトの代わりに特定のDNSサーバーに問い合わせます</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>@1.1.1.1<span style="color: #F8F8F8"> </span>example.com
<span style="color: #000; font-style: italic">;; ANSWER SECTION:</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	A	93.184.216.34</span>
<span style="color: #8F5902"># </span>Cloudflareの1.1.1.1<span style="color: #F8F8F8"> </span>DNSサーバーを使用して問い合わせている
</pre></div>
<h3><strong>+short</strong></h3>
<p>簡潔な回答を表示します（ヘッダーや追加情報なしで結果のみ）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>+short<span style="color: #F8F8F8"> </span>google.com
<span style="color: #000; font-style: italic">142.250.190.78</span>
<span style="color: #8F5902"># </span>結果のIPアドレスのみを表示している
</pre></div>
<h3><strong>+noall, +answer</strong></h3>
<p>応答のどのセクションを表示するかを制御します</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>+noall<span style="color: #F8F8F8"> </span>+answer<span style="color: #F8F8F8"> </span>google.com
<span style="color: #000; font-style: italic">google.com.		300	IN	A	142.250.190.78</span>
<span style="color: #8F5902"># </span>回答セクションのみを表示している
</pre></div>
<h2>使用例</h2>
<h3>基本的なドメイン検索</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>example.com
<span style="color: #000; font-style: italic">;; QUESTION SECTION:</span>
<span style="color: #000; font-style: italic">;example.com.			IN	A</span>

<span style="color: #000; font-style: italic">;; ANSWER SECTION:</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	A	93.184.216.34</span>
<span style="color: #8F5902"># </span>example.comのAレコード（IPアドレス）を問い合わせている
</pre></div>
<h3>複数のレコードタイプの検索</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>example.com<span style="color: #F8F8F8"> </span>ANY
<span style="color: #000; font-style: italic">;; ANSWER SECTION:</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	A	93.184.216.34</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	NS	a.iana-servers.net.</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	NS	b.iana-servers.net.</span>
<span style="color: #000; font-style: italic">example.com.		86400	IN	SOA	ns.icann.org. noc.dns.icann.org. 2023080794 7200 3600 1209600 3600</span>
<span style="color: #8F5902"># </span>example.comの全タイプのレコードを表示している
</pre></div>
<h3>DNS解決パスのトレース</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>dig<span style="color: #F8F8F8"> </span>+trace<span style="color: #F8F8F8"> </span>example.com
<span style="color: #000; font-style: italic">;; Received 13 bytes from 192.168.1.1#53 in 10 ms</span>

<span style="color: #000; font-style: italic">. 			518400	IN	NS	a.root-servers.net.</span>
<span style="color: #000; font-style: italic">...</span>
<span style="color: #000; font-style: italic">;; Received 811 bytes from 192.5.6.30#53 in 40 ms</span>

<span style="color: #000; font-style: italic">com. 			172800	IN	NS	a.gtld-servers.net.</span>
<span style="color: #000; font-style: italic">...</span>
<span style="color: #000; font-style: italic">;; Received 1173 bytes from 192.41.162.30#53 in 160 ms</span>

<span style="color: #000; font-style: italic">example.com.		86400	IN	NS	a.iana-servers.net.</span>
<span style="color: #000; font-style: italic">...</span>
<span style="color: #000; font-style: italic">;; Received 97 bytes from 199.43.135.53#53 in 100 ms</span>

<span style="color: #000; font-style: italic">example.com.		86400	IN	A	93.184.216.34</span>
<span style="color: #8F5902"># </span>ルートサーバーからの完全な解決パスを表示している
</pre></div>
<h2>ヒント:</h2>
<h3>+nocommentsでより見やすい出力を得る</h3>
<p><code>+nocomments</code>オプションを使用すると、出力からコメント行が削除され、必要な情報だけを見たい場合に読みやすくなります。</p>
<h3>DNS伝播の確認</h3>
<p>DNS変更を行った場合、<code>dig @server domain.com</code>を異なるDNSサーバーで使用して、変更が伝播しているかを確認できます。</p>
<h3>1つのコマンドで複数のクエリを指定</h3>
<p>複数のドメインやレコードタイプを1つのコマンドで問い合わせることができます：<code>dig example.com mx google.com a</code></p>
<h3>+statsでパフォーマンス分析</h3>
<p><code>+stats</code>オプションを使用すると、クエリにかかった時間などのクエリ統計が表示され、DNS解決の遅延を診断するのに役立ちます。</p>
<h2>よくある質問</h2>
<h4>Q1. <code>dig</code>と<code>nslookup</code>の違いは何ですか？</h4>
<p>A. <code>dig</code>はより詳細な情報を提供し、DNS問い合わせのためのオプションが多くあります。その包括的な出力と柔軟性から、一般的にネットワーク管理者に好まれています。</p>
<h4>Q2. DNS変更が伝播したかどうかを確認するにはどうすればよいですか？</h4>
<p>A. <code>dig @different-dns-servers your-domain.com</code>を使用して複数のDNSサーバーに問い合わせ、結果を比較します。</p>
<h4>Q3. ドメインの権威ネームサーバーを見つけるにはどうすればよいですか？</h4>
<p>A. <code>dig NS domain.com</code>を使用して、ドメインを担当するネームサーバーを見つけることができます。</p>
<h4>Q4. DNSレコードのTTL（Time To Live）を確認するにはどうすればよいですか？</h4>
<p>A. TTLは<code>dig</code>の標準出力に表示されます。回答セクションの最初のINの前にある数字（秒単位）です。</p>
<h2>参考資料</h2>
<p>https://linux.die.net/man/1/dig</p>
<h2>改訂履歴</h2>
<ul>
<li>2025/05/04 初版作成</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>