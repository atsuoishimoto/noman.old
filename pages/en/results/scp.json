{
  "id": "msg_01JQdarQQGk7cKUroeDvvEcS",
  "content": [
    {
      "text": "# scp command\n\nSecurely copy files between hosts on a network using SSH for data transfer.\n\n## Overview\n\n`scp` (secure copy) transfers files between hosts over an encrypted SSH connection. It works similarly to the `cp` command but can copy files to or from remote systems. The command handles authentication, encryption, and file transfers in a single operation, making it a convenient tool for secure file transfers.\n\n## Options\n\n### **-r**\n\nRecursively copy entire directories.\n\n```console\n$ scp -r documents/ user@remote:/home/user/backup/\nuser@remote's password: \nfile1.txt                                 100%  123     1.2KB/s   00:00    \nfile2.txt                                 100%  456     4.5KB/s   00:00\n```\n\n### **-P**\n\nSpecify a different port for the SSH connection (note: uppercase P, unlike ssh which uses lowercase p).\n\n```console\n$ scp -P 2222 file.txt user@remote:/home/user/\nuser@remote's password: \nfile.txt                                  100%  789     7.8KB/s   00:00\n```\n\n### **-p**\n\nPreserve modification times, access times, and modes from the original file.\n\n```console\n$ scp -p important.conf user@remote:/etc/\nuser@remote's password: \nimportant.conf                            100%  321     3.2KB/s   00:00\n```\n\n### **-C**\n\nEnable compression during the transfer.\n\n```console\n$ scp -C largefile.zip user@remote:/home/user/\nuser@remote's password: \nlargefile.zip                             100%  10MB    5.0MB/s   00:02\n```\n\n### **-q**\n\nQuiet mode - disables the progress meter and warning/diagnostic messages.\n\n```console\n$ scp -q confidential.pdf user@remote:/home/user/\nuser@remote's password: \n```\n\n### **-i**\n\nSpecify an identity file (private key) for public key authentication.\n\n```console\n$ scp -i ~/.ssh/mykey.pem file.txt user@remote:/home/user/\nfile.txt                                  100%  789     7.8KB/s   00:00\n```\n\n## Usage Examples\n\n### Copying a file to a remote server\n\n```console\n$ scp document.txt user@remote.server.com:/home/user/documents/\nuser@remote.server.com's password: \ndocument.txt                              100%  1234     12.3KB/s   00:00\n```\n\n### Copying a file from a remote server\n\n```console\n$ scp user@remote.server.com:/home/user/report.pdf ./\nuser@remote.server.com's password: \nreport.pdf                                100%  5678     56.7KB/s   00:01\n```\n\n### Copying between two remote hosts\n\n```console\n$ scp user1@source.com:/files/data.txt user2@destination.com:/backup/\nuser1@source.com's password: \nuser2@destination.com's password: \ndata.txt                                  100%  2345     23.4KB/s   00:00\n```\n\n### Copying multiple files at once\n\n```console\n$ scp file1.txt file2.txt user@remote:/destination/\nuser@remote's password: \nfile1.txt                                 100%  123     1.2KB/s   00:00\nfile2.txt                                 100%  456     4.5KB/s   00:00\n```\n\n## Tips:\n\n### Use SSH Config to Simplify Commands\n\nIf you have hosts defined in your `~/.ssh/config` file, you can use the host aliases instead of typing full hostnames and usernames.\n\n### Escape Special Characters in Filenames\n\nWhen specifying filenames with spaces or special characters, use quotes or escape them with backslashes.\n\n### Use Public Key Authentication\n\nSet up SSH keys to avoid typing passwords for each transfer. This is both more secure and more convenient.\n\n### Bandwidth Limiting\n\nUse the `-l` option to limit bandwidth usage (in Kbit/s) when transferring large files over slow connections.\n\n## Frequently Asked Questions\n\n#### Q1. How does scp differ from regular cp?\nA. `scp` works over SSH to copy files between different hosts securely, while `cp` only copies files locally on the same system.\n\n#### Q2. Can I resume an interrupted transfer?\nA. No, `scp` doesn't support resuming interrupted transfers. For that functionality, consider using `rsync` instead.\n\n#### Q3. How can I copy an entire directory?\nA. Use the `-r` (recursive) option: `scp -r /source/directory user@remote:/destination/`\n\n#### Q4. Is scp secure?\nA. Yes, `scp` uses SSH for authentication and encryption, making it secure for transferring files over untrusted networks.\n\n#### Q5. Why is my scp transfer slow?\nA. Try using the `-C` option to enable compression, or check network conditions. For large directories with many small files, consider using `tar` to create an archive first.\n\n## References\n\nhttps://man.openbsd.org/scp.1\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1633,
    "output_tokens": 1246
  }
}