# unlink コマンド

ファイルへのリンクを削除します。

## 概要

`unlink` コマンドは、指定されたファイルへのリンク（ファイル名）を削除するシンプルなコマンドです。これは `rm` コマンドの単一ファイル版と考えることができます。`unlink` は常に1つのファイルのみを処理し、ディレクトリやワイルドカードの展開はサポートしていません。

## オプション

`unlink` コマンドはシンプルで、一般的に使用されるオプションはほとんどありません。

### **--help**

ヘルプメッセージを表示します。

```console
$ unlink --help
使用法: unlink ファイル
  または:  unlink オプション
指定したファイルへのリンクを削除します。

      --help     このヘルプを表示して終了する
      --version  バージョン情報を表示して終了する
```

### **--version**

バージョン情報を表示します。

```console
$ unlink --version
unlink (GNU coreutils) 8.32
Copyright (C) 2020 Free Software Foundation, Inc.
ライセンス GPLv3+: GNU GPL バージョン 3 以降 <https://gnu.org/licenses/gpl.html>.
これはフリーソフトウェアです: 自由に変更および配布できます.
法律の許す限り、　無保証　です.
```

## 使用例

### 通常のファイル削除

```console
$ touch testfile.txt
$ ls
testfile.txt
$ unlink testfile.txt
$ ls
# ファイルが削除されたため何も表示されない
```

### シンボリックリンクの削除

```console
$ touch original.txt
$ ln -s original.txt link.txt
$ ls -l
合計 0
lrwxrwxrwx 1 user user 12 4月 30 10:00 link.txt -> original.txt
-rw-r--r-- 1 user user  0 4月 30 10:00 original.txt
$ unlink link.txt
$ ls -l
合計 0
-rw-r--r-- 1 user user  0 4月 30 10:00 original.txt
```

## ヒント:

### `rm` との違い

`unlink` は常に1つのファイルのみを処理します。複数のファイルを削除したり、ディレクトリを削除したりする場合は `rm` コマンドを使用してください。

### エラーの理解

ディレクトリに対して `unlink` を使用すると、「操作は許可されていません」というエラーが表示されます。ディレクトリを削除するには `rmdir`（空のディレクトリの場合）または `rm -r`（中身があるディレクトリの場合）を使用してください。

### ハードリンクの削除

`unlink` はハードリンクを削除する場合にも使用できます。ハードリンクを削除しても、他のリンクが存在する限り、ファイルデータは保持されます。

## よくある質問

#### Q1. `unlink` と `rm` の違いは何ですか？
A. `unlink` は1つのファイルのみを削除でき、ワイルドカードやオプションをサポートしていません。`rm` はより多機能で、複数のファイルやディレクトリを削除できます。

#### Q2. `unlink` でディレクトリを削除できますか？
A. いいえ、`unlink` はディレクトリを削除できません。ディレクトリを削除するには `rmdir`（空のディレクトリの場合）または `rm -r`（中身があるディレクトリの場合）を使用してください。

#### Q3. `unlink` コマンドを使うべき状況はありますか？
A. シェルスクリプトなど、単一ファイルの削除のみが必要で、余分な機能が不要な場合に適しています。また、`rm` コマンドが何らかの理由で使用できない場合のバックアップとしても役立ちます。

#### Q4. `unlink` でファイルを誤って削除した場合、復元できますか？
A. 通常のファイル削除と同様に、`unlink` で削除したファイルの復元は困難です。重要なファイルを操作する前にバックアップを取ることをお勧めします。

## 参考文献

https://www.gnu.org/software/coreutils/manual/html_node/unlink-invocation.html

## 改訂履歴

- 2025/04/30 初版作成