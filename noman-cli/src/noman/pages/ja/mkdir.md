# mkdir コマンド

ディレクトリ（フォルダ）を作成します。

## 概要

`mkdir`コマンドは、ファイルシステム内に一つまたは複数のディレクトリを作成します。指定したディレクトリがすでに存在する場合、特定のオプションを使用しない限り、通常は失敗します。ファイルを整理したりディレクトリ構造を設定したりするための基本的なコマンドです。

## オプション

### **-p, --parents**

必要に応じて親ディレクトリも作成します。親ディレクトリが存在しない場合でも、一つのコマンドでディレクトリパス全体を作成できます。

```console
$ mkdir -p プロジェクト/ウェブサイト/css
```

### **-m, --mode=MODE**

作成するディレクトリのファイルモード（パーミッション）を設定します。モードは8進数で指定できます。

```console
$ mkdir -m 755 secure_folder
```

### **-v, --verbose**

作成される各ディレクトリについてメッセージを表示し、何が作成されているかを示します。

```console
$ mkdir -v 新しいフォルダ
mkdir: ディレクトリ '新しいフォルダ' を作成しました
```

### **-Z, --context=CONTEXT**

作成された各ディレクトリのSELinuxセキュリティコンテキストをデフォルトタイプに設定します。

```console
$ mkdir -Z secure_data
```

## 使用例

### 複数のディレクトリを一度に作成する

```console
$ mkdir docs images videos
```

### 特定のパーミッションでディレクトリを作成する

```console
$ mkdir -m 700 private_files
$ ls -ld private_files
drwx------ 2 user user 4096 5月  4 10:30 private_files
```

### 詳細出力付きでネストしたディレクトリを作成する

```console
$ mkdir -pv projects/webapp/src/components
mkdir: ディレクトリ 'projects' を作成しました
mkdir: ディレクトリ 'projects/webapp' を作成しました
mkdir: ディレクトリ 'projects/webapp/src' を作成しました
mkdir: ディレクトリ 'projects/webapp/src/components' を作成しました
```

## ヒント:

### タブ補完を使用する

既存のパスにディレクトリを作成する場合、タブ補完を使用して入力ミスを避け、時間を節約できます。

### ディレクトリの作成と移動を一度に行う

`mkdir`と`cd`を`&&`で組み合わせて、ディレクトリを作成してすぐにそこに移動できます：
```console
$ mkdir new_project && cd new_project
```

### 関連するディレクトリには中括弧展開を使用する

中括弧展開を使用して、関連する複数のディレクトリを効率的に作成できます：
```console
$ mkdir -p project/{src,docs,tests}/{js,css,img}
```
これにより、ソースコード、ドキュメント、テスト用のサブディレクトリを持つプロジェクト構造が作成され、それぞれにjs、css、imgフォルダが含まれます。

## よくある質問

#### Q1. すでに存在する可能性があるディレクトリを作成するにはどうすればよいですか？
A. `mkdir -p ディレクトリ名`を使用します。`-p`オプションを使うと、ディレクトリがすでに存在していてもコマンドは失敗しません。

#### Q2. 複数のネストしたディレクトリを一度に作成するにはどうすればよいですか？
A. `mkdir -p 親/子/孫`を使用します。`-p`オプションによりパス内のすべてのディレクトリが作成されます。

#### Q3. ディレクトリを作成する際に特定のパーミッションを設定するにはどうすればよいですか？
A. `mkdir -m モード ディレクトリ名`を使用します。モードは8進数のパーミッション値です（例：`mkdir -m 755 ディレクトリ名`）。

#### Q4. すでに存在するディレクトリを作成しようとするとどうなりますか？
A. `-p`オプションがない場合、`mkdir`はエラーを表示します。`-p`オプションを使用すると、エラーなく静かに処理を続行します。

## 参照

https://www.gnu.org/software/coreutils/manual/html_node/mkdir-invocation.html

## 改訂履歴

- 2025/05/04 初回改訂