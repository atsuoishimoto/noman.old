# `du` コマンド概要

`du`（disk usage）コマンドは、ファイルやディレクトリのディスク使用量（サイズ）を表示するためのUNIXコマンドです。ストレージ容量の管理や大きなファイルの特定に役立ちます。

## 主なオプション

- **`-h`**: 人間が読みやすい形式（KB、MB、GBなど）でサイズを表示します
  - 例: `du -h file.txt`

- **`-s`**: 指定したディレクトリの合計サイズのみを表示します（サマリー）
  - 例: `du -s /home/user`

- **`-a`**: ディレクトリだけでなく、すべてのファイルのサイズも表示します
  - 例: `du -a /home/user`

- **`-c`**: 合計サイズを最後に表示します
  - 例: `du -c /home/user/*`

- **`--max-depth=N`**: 指定した深さ（N）までのディレクトリ構造を表示します
  - 例: `du --max-depth=1 /home/user`

- **`-k`, `-m`, `-g`**: サイズをキロバイト、メガバイト、ギガバイト単位で表示します
  - 例: `du -m /home/user`

## 使用例

```bash
# 現在のディレクトリのサイズを人間が読みやすい形式で表示
du -h
# 出力例
4.0K    ./config
8.0K    ./src
16K     .

# 指定したディレクトリの合計サイズのみを表示
du -sh /home/user/Documents
# 出力例
156M    /home/user/Documents

# 現在のディレクトリ内の各項目のサイズを表示（1階層のみ）
du -h --max-depth=1
# 出力例
5.6M    ./Downloads
2.3G    ./Videos
4.5G    ./Pictures
7.2G    .

# 最も容量を使用している10個のディレクトリを特定
du -h | sort -hr | head -10
# 出力例
7.2G    .
4.5G    ./Pictures
2.3G    ./Videos
156M    ./Documents
45M     ./Music
5.6M    ./Downloads
```

## 追加情報

- `du`と`-h`オプションを組み合わせると、最も読みやすい結果が得られます。
- 大きなディレクトリで実行すると時間がかかることがあります。特定のディレクトリに絞るか、`--max-depth`オプションを使用すると効率的です。
- `du | sort -hr`の組み合わせは、最も容量を使用しているディレクトリを特定するのに便利です。
- シンボリックリンクは通常無視されますが、`-L`オプションを使用するとリンク先のサイズも計算されます。
- システム全体のディスク使用状況を確認するには、代わりに`df`コマンドを使用します。