{
  "id": "msg_012yLN9PN9ASbnVsSpdjVjBo",
  "content": [
    {
      "text": "# apt-file command\n\nSearch for files within packages in the APT package management system.\n\n## Overview\n\napt-file is a command-line utility for Debian-based systems that allows users to search for files in packages, even if they are not installed. It's particularly useful for finding which package provides a specific file, or for exploring the contents of packages before installation.\n\n## Options\n\n### **search**\n\nSearch for packages containing files matching the pattern\n\n```console\n$ apt-file search /usr/bin/python3\npython3-minimal: /usr/bin/python3\n```\n\n### **list**\n\nList files in the specified package\n\n```console\n$ apt-file list python3-minimal\npython3-minimal: /usr/bin/python3\npython3-minimal: /usr/share/doc/python3-minimal/README.Debian\npython3-minimal: /usr/share/doc/python3-minimal/changelog.Debian.gz\npython3-minimal: /usr/share/doc/python3-minimal/copyright\n```\n\n### **-a, --architecture**\n\nSpecify the architecture to search\n\n```console\n$ apt-file -a amd64 search libssl.so\nlibssl-dev: /usr/lib/x86_64-linux-gnu/libssl.so\n```\n\n### **-F, --fixed-string**\n\nDo not interpret pattern as a regular expression\n\n```console\n$ apt-file -F search \"libssl.so.1.1\"\nlibssl1.1: /usr/lib/x86_64-linux-gnu/libssl.so.1.1\n```\n\n### **-l, --package-only**\n\nDisplay only package names, not file paths\n\n```console\n$ apt-file -l search /usr/bin/python3\npython3-minimal\n```\n\n### **-x, --regexp**\n\nInterpret pattern as a regular expression (default)\n\n```console\n$ apt-file -x search \"^/usr/bin/py.*3$\"\npython3-minimal: /usr/bin/python3\n```\n\n### **-v, --verbose**\n\nDisplay more information during operation\n\n```console\n$ apt-file -v search /usr/bin/python3\nReading package lists... Done\nBuilding dependency tree... Done\npython3-minimal: /usr/bin/python3\n```\n\n### **update**\n\nUpdate the contents database\n\n```console\n$ sudo apt-file update\nDownloading complete file https://deb.debian.org/debian/dists/bookworm/Contents-amd64.gz\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 45.2M  100 45.2M    0     0  5215k      0  0:00:08  0:00:08 --:--:-- 6123k\n```\n\n## Usage Examples\n\n### Finding which package provides a specific file\n\n```console\n$ apt-file search /usr/bin/convert\nimagemagick-6.q16: /usr/bin/convert\n```\n\n### Listing all files in a package\n\n```console\n$ apt-file list wget\nwget: /etc/wgetrc\nwget: /usr/bin/wget\nwget: /usr/share/doc/wget/AUTHORS\nwget: /usr/share/doc/wget/COPYING\nwget: /usr/share/doc/wget/NEWS.gz\nwget: /usr/share/doc/wget/README\nwget: /usr/share/info/wget.info.gz\nwget: /usr/share/man/man1/wget.1.gz\n```\n\n### Finding header files for development\n\n```console\n$ apt-file search \"include/openssl/ssl.h\"\nlibssl-dev: /usr/include/openssl/ssl.h\n```\n\n## Tips:\n\n### Update the Database First\n\nAlways run `sudo apt-file update` before using apt-file, especially after system updates or if you haven't used it recently. This ensures you have the latest package information.\n\n### Use with grep for Complex Filtering\n\nCombine apt-file with grep for more complex filtering:\n```console\n$ apt-file list python3 | grep \"bin/\"\n```\n\n### Find Dependencies for Compilation\n\nWhen compiling software that reports missing header files, use apt-file to find which development packages you need to install:\n```console\n$ apt-file search missing_header.h\n```\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between apt-file and dpkg -S?\nA. dpkg -S only searches installed packages, while apt-file can search all available packages, even those not installed.\n\n#### Q2. How do I install apt-file?\nA. Run `sudo apt install apt-file` and then `sudo apt-file update` to initialize the database.\n\n#### Q3. Why is apt-file search slow?\nA. apt-file searches through a large database of files. Using more specific search patterns or the -F option can speed up searches.\n\n#### Q4. How often should I update the apt-file database?\nA. Update whenever you update your package lists with apt update, or at least once a month.\n\n## References\n\nhttps://manpages.debian.org/bookworm/apt-file/apt-file.1.en.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1634,
    "output_tokens": 1243
  }
}