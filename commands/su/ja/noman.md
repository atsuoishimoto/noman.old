# `su` コマンド概要

`su`（substitute user）コマンドは、ユーザーを切り替えるためのコマンドです。主に一般ユーザーから管理者（root）権限に切り替える場合や、他のユーザーアカウントに切り替える場合に使用します。

## 主なオプション

- **オプションなし**: 指定したユーザーに切り替えます（デフォルトはroot）
  - 例: `su`（rootに切り替え）または `su username`（特定ユーザーに切り替え）

- **-l, --login**: ログインシェルとして起動し、環境変数も切り替え先ユーザーの設定を使用します
  - 例: `su -l` または `su -` （rootにログインシェルとして切り替え）

- **-c, --command**: 指定したコマンドを実行後、元のユーザーに戻ります
  - 例: `su -c "apt update" root`（rootとしてaptコマンドを実行）

- **-s, --shell**: 指定したシェルを使用します
  - 例: `su -s /bin/bash username`（特定のシェルを使用してユーザー切り替え）

## 使用例

```bash
# rootユーザーに切り替え（パスワード入力が求められる）
su
# パスワード: （rootのパスワードを入力）

# ログインシェルとしてrootに切り替え（環境変数も含めて完全に切り替え）
su -
# パスワード: （rootのパスワードを入力）

# 特定のユーザー（例：john）に切り替え
su john
# パスワード: （johnのパスワードを入力）

# rootとして特定のコマンドを実行
su -c "apt update && apt upgrade" root
# パスワード: （rootのパスワードを入力）
# 実行結果が表示される
```

## 追加情報

- `su`と`sudo`の違い：`su`はユーザーを完全に切り替えますが、`sudo`は現在のユーザーのまま一時的に権限を昇格させます。
- セキュリティ上の理由から、多くのLinuxディストリビューションでは`su`よりも`sudo`の使用が推奨されています。
- `su -`（ハイフン付き）と`su`（ハイフンなし）の違いは重要です。ハイフン付きは環境変数も含めて完全に切り替わりますが、ハイフンなしは現在の環境変数を保持したまま切り替わります。
- パスワードの入力は画面に表示されません。入力中は何も表示されないのが正常な動作です。