{
  "id": "msg_01XuFvHLtGSbo88t6n7hfmkz",
  "content": [
    {
      "text": "# iostat command\n\nDisplay CPU and I/O statistics for devices and partitions.\n\n## Overview\n\n`iostat` reports CPU statistics and input/output statistics for devices, partitions, and network filesystems. It's primarily used for monitoring system input/output device loading by observing the time devices are active in relation to their average transfer rates.\n\n## Options\n\n### **-c**\n\nDisplay only CPU statistics.\n\n```console\n$ iostat -c\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n```\n\n### **-d**\n\nDisplay only device statistics.\n\n```console\n$ iostat -d\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsdb               0.02         0.63         0.00         0.00       5548          0          0\n```\n\n### **-x**\n\nDisplay extended statistics for devices.\n\n```console\n$ iostat -x\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice            r/s     w/s     rkB/s     wkB/s   rrqm/s   wrqm/s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util\nsda              4.21    1.52    141.61     45.28     0.10     0.57   2.33  27.29    0.63    2.38   0.01    33.63    29.72   0.28   0.16\nsdb              0.02    0.00      0.63      0.00     0.00     0.00   0.00   0.00    0.71    0.00   0.00    31.53     0.00   0.57   0.00\n```\n\n### **-k**\n\nDisplay statistics in kilobytes per second.\n\n```console\n$ iostat -k\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsdb               0.02         0.63         0.00         0.00       5548          0          0\n```\n\n### **-m**\n\nDisplay statistics in megabytes per second.\n\n```console\n$ iostat -m\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    MB_read/s    MB_wrtn/s    MB_dscd/s    MB_read    MB_wrtn    MB_dscd\nsda               5.73         0.14         0.04         0.00       1221        390          0\nsdb               0.02         0.00         0.00         0.00          5          0          0\n```\n\n### **-p [device]**\n\nDisplay statistics for block devices and all their partitions.\n\n```console\n$ iostat -p sda\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsda1              0.01         0.32         0.00         0.00       2832          0          0\nsda2              5.71       141.29        45.28         0.00    1247600     399764          0\n```\n\n### **-t**\n\nPrint the time for each report displayed.\n\n```console\n$ iostat -t\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\n05/05/2025 10:15:30 AM\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsdb               0.02         0.63         0.00         0.00       5548          0          0\n```\n\n### **interval [count]**\n\nSpecify the reporting interval in seconds and the number of reports.\n\n```console\n$ iostat 2 3\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsdb               0.02         0.63         0.00         0.00       5548          0          0\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.50    0.00    1.75    0.25    0.00   94.50\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda              10.50       320.00       112.00         0.00        640        224          0\nsdb               0.00         0.00         0.00         0.00          0          0          0\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.38    0.00    1.50    0.12    0.00   95.00\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               8.00       256.00        64.00         0.00        512        128          0\nsdb               0.00         0.00         0.00         0.00          0          0          0\n```\n\n## Usage Examples\n\n### Monitoring disk I/O with extended statistics\n\n```console\n$ iostat -xd 5\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\nDevice            r/s     w/s     rkB/s     wkB/s   rrqm/s   wrqm/s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util\nsda              4.21    1.52    141.61     45.28     0.10     0.57   2.33  27.29    0.63    2.38   0.01    33.63    29.72   0.28   0.16\nsdb              0.02    0.00      0.63      0.00     0.00     0.00   0.00   0.00    0.71    0.00   0.00    31.53     0.00   0.57   0.00\n\n[Output repeats every 5 seconds]\n```\n\n### Monitoring specific partitions\n\n```console\n$ iostat -p sda 2\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd\nsda               5.73       141.61        45.28         0.00    1250432     399764          0\nsda1              0.01         0.32         0.00         0.00       2832          0          0\nsda2              5.71       141.29        45.28         0.00    1247600     399764          0\n\n[Output repeats every 2 seconds]\n```\n\n### Displaying CPU and disk statistics in megabytes\n\n```console\n$ iostat -cm 1 3\nLinux 5.15.0-91-generic (hostname)  05/05/2025  _x86_64_  (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           3.25    0.00    1.42    0.35    0.00   94.98\n\n[Output repeats 3 times at 1-second intervals]\n```\n\n## Tips\n\n### Understanding %util\n\nThe %util metric shows the percentage of CPU time during which I/O requests were issued to the device. A value close to 100% indicates saturation, meaning the device is working at its maximum capacity.\n\n### Identifying I/O Bottlenecks\n\nLook for high values in the await column (average time for I/O requests to be served). High await times combined with high %util values indicate potential I/O bottlenecks.\n\n### Continuous Monitoring\n\nFor real-time monitoring, use `iostat` with an interval (e.g., `iostat -x 2`). This will continuously update the statistics every 2 seconds until interrupted with Ctrl+C.\n\n### Combining with Other Tools\n\nUse `iostat` in conjunction with tools like `top`, `vmstat`, and `sar` for a comprehensive system performance analysis.\n\n## Frequently Asked Questions\n\n#### Q1. What does the %iowait value in CPU statistics mean?\nA. %iowait represents the percentage of time that the CPU was idle during which the system had pending disk I/O requests. High iowait values indicate that the system is bottlenecked by disk operations.\n\n#### Q2. How do I interpret the r_await and w_await columns?\nA. r_await and w_await show the average time (in milliseconds) for read and write requests to be served, including the time spent in the queue and the service time. Higher values indicate slower I/O operations.\n\n#### Q3. What's the difference between tps and IOPS?\nA. tps (transfers per second) represents the number of I/O requests completed per second, regardless of the size. IOPS (I/O operations per second) is essentially the same metric but is often used in storage performance discussions.\n\n#### Q4. How can I see statistics for a specific device only?\nA. Use `iostat -d device_name` to show statistics only for the specified device.\n\n## References\n\nhttps://man7.org/linux/man-pages/man1/iostat.1.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1633,
    "output_tokens": 3156
  }
}