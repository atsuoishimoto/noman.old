<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  expr - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>expr command</h1>
<p>Evaluate expressions and output the result.</p>
<h2>Overview</h2>
<p><code>expr</code> is a command-line utility that evaluates expressions and outputs the result. It performs arithmetic operations, string operations, and logical comparisons. The command is primarily used in shell scripts for calculations and string manipulation.</p>
<h2>Options</h2>
<h3><strong>--help</strong></h3>
<p>Display a help message and exit.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>--help
<span style="color: #000; font-style: italic">Usage: expr EXPRESSION</span>
<span style="color: #000; font-style: italic">  or:  expr OPTION</span>
</pre></div>
<h3><strong>--version</strong></h3>
<p>Output version information and exit.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>--version
<span style="color: #000; font-style: italic">expr (GNU coreutils) 9.0</span>
<span style="color: #000; font-style: italic">Copyright (C) 2021 Free Software Foundation, Inc.</span>
<span style="color: #000; font-style: italic">License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;.</span>
<span style="color: #000; font-style: italic">This is free software: you are free to change and redistribute it.</span>
<span style="color: #000; font-style: italic">There is NO WARRANTY, to the extent permitted by law.</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Basic Arithmetic</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">8</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">10</span><span style="color: #F8F8F8"> </span>-<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">4</span>
<span style="color: #000; font-style: italic">6</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\*</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">4</span>
<span style="color: #000; font-style: italic">12</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">20</span><span style="color: #F8F8F8"> </span>/<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">4</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">20</span><span style="color: #F8F8F8"> </span>%<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">2</span>
</pre></div>
<h3>String Operations</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>length<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span>
<span style="color: #000; font-style: italic">11</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>substr<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">Hello</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span>index<span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;Hello World&quot;</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">&quot;o&quot;</span>
<span style="color: #000; font-style: italic">5</span>
</pre></div>
<h3>Logical Comparisons</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\&gt;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">1</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\&lt;</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">0</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">5</span><span style="color: #F8F8F8"> </span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #000; font-style: italic">1</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>!<span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">1</span>
</pre></div>
<h3>Using in Shell Scripts</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #000">a</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">5</span>
<span style="color: #8F5902">$ </span><span style="color: #000">b</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #8F5902">$ </span><span style="color: #000">c</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87; font-weight: bold">$(</span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">$a</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #000">$b</span><span style="color: #204A87; font-weight: bold">)</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$c</span>
<span style="color: #000; font-style: italic">8</span>
</pre></div>
<h2>Tips:</h2>
<h3>Escape Special Characters</h3>
<p>Always escape multiplication (*), division (/), and other special characters with a backslash to prevent shell interpretation.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span><span style="color: #4E9A06">\*</span><span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span>
<span style="color: #000; font-style: italic">15</span>
</pre></div>
<h3>Spaces Matter</h3>
<p><code>expr</code> requires spaces between operators and operands. Without spaces, the command will not work correctly.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span>+3<span style="color: #F8F8F8">     </span><span style="color: #8F5902; font-style: italic"># Wrong</span>
<span style="color: #000; font-style: italic">5+3</span>
<span style="color: #8F5902">$ </span>expr<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">5</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">3</span><span style="color: #F8F8F8">   </span><span style="color: #8F5902; font-style: italic"># Correct</span>
<span style="color: #000; font-style: italic">8</span>
</pre></div>
<h3>Return Values</h3>
<p><code>expr</code> returns 0 if the expression evaluates to a non-zero and non-empty value, 1 if the expression is zero or empty, and 2 if the expression is invalid.</p>
<h3>Use for Incrementing Variables</h3>
<p><code>expr</code> is commonly used in shell scripts to increment counters:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span><span style="color: #000">i</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #0000CF; font-weight: bold">1</span>
<span style="color: #8F5902">$ </span><span style="color: #000">i</span><span style="color: #CE5C00; font-weight: bold">=</span><span style="color: #204A87; font-weight: bold">$(</span>expr<span style="color: #F8F8F8"> </span><span style="color: #000">$i</span><span style="color: #F8F8F8"> </span>+<span style="color: #F8F8F8"> </span><span style="color: #0000CF; font-weight: bold">1</span><span style="color: #204A87; font-weight: bold">)</span>
<span style="color: #8F5902">$ </span><span style="color: #204A87">echo</span><span style="color: #F8F8F8"> </span><span style="color: #000">$i</span>
<span style="color: #000; font-style: italic">2</span>
</pre></div>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What is the difference between <code>expr</code> and using <code>$(())</code> in bash?</h4>
<p>A. <code>expr</code> is an external command that works in all POSIX shells, while <code>$(())</code> is a bash built-in arithmetic expansion that's faster but less portable.</p>
<h4>Q2. How do I perform floating-point calculations with <code>expr</code>?</h4>
<p>A. <code>expr</code> only handles integer arithmetic. For floating-point calculations, use <code>bc</code> or <code>awk</code> instead.</p>
<h4>Q3. Why does my multiplication with <code>expr</code> fail?</h4>
<p>A. The asterisk (*) needs to be escaped with a backslash (<code>\*</code>) to prevent the shell from interpreting it as a wildcard.</p>
<h4>Q4. Can <code>expr</code> handle regular expressions?</h4>
<p>A. No, <code>expr</code> doesn't support full regular expressions. For pattern matching, use tools like <code>grep</code>, <code>sed</code>, or <code>awk</code>.</p>
<h2>References</h2>
<p>https://www.gnu.org/software/coreutils/manual/html_node/expr-invocation.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/05 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright © 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>