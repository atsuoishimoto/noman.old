# continue コマンド

シェルスクリプトで中断された繰り返し処理を再開します。

## 概要

`continue` コマンドは、シェルスクリプト内のループ（for、while、until）において、現在の繰り返し処理をスキップして次の繰り返しに進むために使用されます。条件に基づいて特定の繰り返し処理をスキップしたい場合に便利です。

## オプション

`continue` コマンドには特別なオプションはありません。ただし、数値引数を指定することで、どのレベルのループに影響を与えるかを制御できます。

### **continue**

引数なしで使用すると、最も内側のループの現在の繰り返しをスキップします。

```console
$ for i in 1 2 3 4 5; do
>   if [ $i -eq 3 ]; then
>     echo "$i をスキップします"
>     continue
>   fi
>   echo "処理中: $i"
> done
処理中: 1
処理中: 2
3 をスキップします
処理中: 4
処理中: 5
```

### **continue n**

数値 `n` を指定すると、n番目のネストされたループに対して continue を適用します。

```console
$ for i in 1 2; do
>   echo "外側ループ: $i"
>   for j in a b c; do
>     if [ $j = "b" ]; then
>       echo "  $j をスキップします"
>       continue 1  # 内側のループの現在の繰り返しをスキップ
>     fi
>     echo "  内側ループ: $j"
>   done
> done
外側ループ: 1
  内側ループ: a
  b をスキップします
  内側ループ: c
外側ループ: 2
  内側ループ: a
  b をスキップします
  内側ループ: c
```

## 使用例

### 奇数のみを処理する例

```console
$ for num in {1..10}; do
>   if [ $((num % 2)) -eq 0 ]; then
>     continue  # 偶数をスキップ
>   fi
>   echo "奇数を処理: $num"
> done
奇数を処理: 1
奇数を処理: 3
奇数を処理: 5
奇数を処理: 7
奇数を処理: 9
```

### エラー条件をスキップする例

```console
$ for file in *.txt; do
>   if [ ! -r "$file" ]; then
>     echo "$file は読み取り不可のためスキップします"
>     continue
>   fi
>   echo "$file を処理しています..."
>   # ファイル処理コード
> done
example.txt を処理しています...
notes.txt は読み取り不可のためスキップします
readme.txt を処理しています...
```

## ヒント:

### continue と break の違いを理解する

`continue` はループの現在の繰り返しをスキップしますが、ループ自体は継続します。一方、`break` はループ全体を終了します。

### ネストされたループでの使用に注意

デフォルトでは `continue` は最も内側のループにのみ影響します。外側のループに影響を与えたい場合は、数値引数を使用してください。

### 無限ループでの使用

`while true` などの無限ループ内で `continue` を使用する場合は、ループが終了する条件が別に存在することを確認してください。そうしないと、プログラムが永遠に実行され続ける可能性があります。

## よくある質問

#### Q1. continue と break の違いは何ですか？
A. `continue` は現在の繰り返しをスキップして次の繰り返しに進みますが、`break` はループ全体を終了します。

#### Q2. if 文の中で continue を使わないとどうなりますか？
A. `continue` を使わない場合、条件に関係なくすべてのコードが実行されます。`continue` は特定の条件下でループの残りの部分をスキップするために使用されます。

#### Q3. continue に引数を指定するとどうなりますか？
A. 数値引数 `n` を指定すると、n番目のネストされたループに対して continue が適用されます。デフォルトは 1 で、最も内側のループを指します。

#### Q4. シェルスクリプト以外でも continue は使えますか？
A. `continue` はほとんどのプログラミング言語（C、Java、Python など）でも同様の機能を持っていますが、構文や動作が若干異なる場合があります。

## 参照

https://www.gnu.org/software/bash/manual/html_node/Bourne-Shell-Builtins.html#index-continue

## 改訂

- 2025/04/30 初版作成