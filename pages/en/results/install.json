{
  "id": "msg_01QBN7fsDDoyGuQEkyWZLt4k",
  "content": [
    {
      "text": "# install command\n\nCopy files and set attributes.\n\n## Overview\n\nThe `install` command copies files to specified destinations while setting permissions, ownership, and timestamps. It's commonly used in scripts and makefiles to place files in their proper locations during software installation, combining the functionality of `cp`, `chmod`, `chown`, and `mkdir` into a single command.\n\n## Options\n\n### **-d, --directory**\n\nCreate directories instead of copying files.\n\n```console\n$ install -d /tmp/new_directory\n$ ls -ld /tmp/new_directory\ndrwxr-xr-x 2 user user 4096 May 5 10:00 /tmp/new_directory\n```\n\n### **-m, --mode=MODE**\n\nSet permission mode (as in chmod), instead of the default rwxr-xr-x.\n\n```console\n$ install -m 644 source.txt /tmp/\n$ ls -l /tmp/source.txt\n-rw-r--r-- 1 user user 123 May 5 10:01 /tmp/source.txt\n```\n\n### **-o, --owner=OWNER**\n\nSet ownership (super-user only).\n\n```console\n$ sudo install -o root source.txt /tmp/\n$ ls -l /tmp/source.txt\n-rwxr-xr-x 1 root user 123 May 5 10:02 /tmp/source.txt\n```\n\n### **-g, --group=GROUP**\n\nSet group ownership (super-user only).\n\n```console\n$ sudo install -g wheel source.txt /tmp/\n$ ls -l /tmp/source.txt\n-rwxr-xr-x 1 user wheel 123 May 5 10:03 /tmp/source.txt\n```\n\n### **-s, --strip**\n\nStrip symbol tables from executables.\n\n```console\n$ install -s executable /tmp/\n```\n\n### **-v, --verbose**\n\nPrint the name of each directory as it is created.\n\n```console\n$ install -v source.txt /tmp/\n'source.txt' -> '/tmp/source.txt'\n```\n\n### **-b, --backup[=CONTROL]**\n\nMake a backup of each existing destination file.\n\n```console\n$ install -b source.txt /tmp/\n$ ls -l /tmp/\n-rwxr-xr-x 1 user user 123 May 5 10:04 source.txt\n-rwxr-xr-x 1 user user 123 May 5 10:03 source.txt~\n```\n\n### **-c, --compare**\n\nDo not copy if the source and destination files are the same.\n\n```console\n$ install -c source.txt /tmp/\n```\n\n## Usage Examples\n\n### Installing a file with specific permissions\n\n```console\n$ install -m 755 myscript.sh /usr/local/bin/\n```\n\n### Creating multiple directories at once\n\n```console\n$ install -d /tmp/dir1 /tmp/dir2 /tmp/dir3\n```\n\n### Installing a file with specific owner and group\n\n```console\n$ sudo install -o www-data -g www-data -m 644 config.php /var/www/html/\n```\n\n### Installing multiple files to a directory\n\n```console\n$ install -m 644 *.txt /tmp/\n```\n\n## Tips:\n\n### Use for Deployment Scripts\n\nThe `install` command is ideal for deployment scripts because it handles permissions and ownership in one step, making it more efficient than separate `cp` and `chmod` commands.\n\n### Create Parent Directories\n\nUnlike `mkdir -p`, `install -d` doesn't create parent directories. If you need to create a nested directory structure, create the parents first or use `mkdir -p` instead.\n\n### Preserve File Attributes\n\nWhen you want to preserve the original file's attributes, use `install -p` which preserves the modification time, access time, and modes of the source files.\n\n### Backup Strategy\n\nWhen using `-b` for backups, you can control the backup suffix with `--suffix=SUFFIX` or set the backup method with `--backup=CONTROL` (where CONTROL can be 'none', 'numbered', 'existing', or 'simple').\n\n## Frequently Asked Questions\n\n#### Q1. What's the difference between `install` and `cp`?\nA. `install` combines copying with setting permissions and ownership in one command, while `cp` only copies files. `install` is designed for software installation, while `cp` is a general-purpose copy command.\n\n#### Q2. Can `install` create directories like `mkdir`?\nA. Yes, with the `-d` option, `install` can create directories with specific permissions in one step.\n\n#### Q3. Does `install` preserve file timestamps?\nA. By default, `install` updates timestamps to the current time. Use the `-p` option to preserve the original timestamps.\n\n#### Q4. Can I use `install` to copy directories recursively?\nA. No, `install` doesn't have a recursive option like `cp -r`. You need to create the directory structure first and then install files into it.\n\n## References\n\nhttps://www.gnu.org/software/coreutils/manual/html_node/install-invocation.html\n\n## Revisions\n\n- 2025/05/05 First revision",
      "type": "text"
    }
  ],
  "model": "claude-3-7-sonnet-20250219",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "input_tokens": 1678,
    "output_tokens": 1240
  }
}