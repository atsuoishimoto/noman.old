<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  git-reset - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>git reset command</h1>
<p>Reset current HEAD to the specified state.</p>
<h2>Overview</h2>
<p><code>git reset</code> is used to undo changes by moving the current branch pointer to a different commit. It can also modify the staging area (index) and optionally the working directory, depending on the mode used. This command is commonly used to unstage files, undo commits, or completely revert to a previous state in your Git history.</p>
<h2>Options</h2>
<h3><strong>--soft</strong></h3>
<p>Moves HEAD to the specified commit but leaves the index and working directory unchanged. This effectively undoes commits while keeping all changes staged.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--soft<span style="color: #F8F8F8"> </span>HEAD~1
</pre></div>
<h3><strong>--mixed (default)</strong></h3>
<p>Moves HEAD to the specified commit and updates the index to match, but leaves the working directory unchanged. This unstages changes while preserving them in your working directory.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>HEAD<span style="color: #F8F8F8"> </span>file.txt
</pre></div>
<h3><strong>--hard</strong></h3>
<p>Moves HEAD to the specified commit and updates both the index and working directory to match. This discards all changes in the staging area and working directory.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--hard<span style="color: #F8F8F8"> </span>HEAD~2
</pre></div>
<h3><strong>--patch (-p)</strong></h3>
<p>Interactively select hunks of changes to reset.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>-p
</pre></div>
<h3><strong>--keep</strong></h3>
<p>Resets index entries but keeps files that are different between the index and working tree.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--keep<span style="color: #F8F8F8"> </span>HEAD~1
</pre></div>
<h2>Usage Examples</h2>
<h3>Unstaging a file</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>add<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>status
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes to be committed:</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>

<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>file.txt
<span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>status
<span style="color: #000; font-style: italic">On branch main</span>
<span style="color: #000; font-style: italic">Changes not staged for commit:</span>
<span style="color: #000; font-style: italic">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span style="color: #000; font-style: italic">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span style="color: #000; font-style: italic">        modified:   file.txt</span>
</pre></div>
<h3>Undoing the last commit but keeping changes</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--soft<span style="color: #F8F8F8"> </span>HEAD~1
</pre></div>
<h3>Completely discarding recent commits and changes</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--hard<span style="color: #F8F8F8"> </span>HEAD~3
<span style="color: #000; font-style: italic">HEAD is now at a1b2c3d Message from 3 commits ago</span>
</pre></div>
<h3>Resetting to a specific commit</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>git<span style="color: #F8F8F8"> </span>reset<span style="color: #F8F8F8"> </span>--mixed<span style="color: #F8F8F8"> </span>5a78ef2
</pre></div>
<h2>Tips</h2>
<h3>Safely Experiment with Reset</h3>
<p>Before using <code>git reset --hard</code>, consider creating a backup branch with <code>git branch backup-branch</code> so you can recover if needed.</p>
<h3>Recover from Hard Reset</h3>
<p>If you accidentally reset too far with <code>--hard</code>, you can use <code>git reflog</code> to find the commit you want to return to, then <code>git reset --hard COMMIT_HASH</code> to go back.</p>
<h3>Unstage All Files</h3>
<p>Use <code>git reset</code> without arguments to unstage all files while keeping your working directory changes.</p>
<h3>Selective Unstaging</h3>
<p>Use <code>git reset -p</code> for interactive unstaging, allowing you to select specific parts of files to unstage.</p>
<h2>Frequently Asked Questions</h2>
<h4>Q1. What's the difference between <code>git reset</code> and <code>git revert</code>?</h4>
<p>A. <code>git reset</code> changes history by moving the branch pointer, while <code>git revert</code> creates a new commit that undoes previous changes, preserving history.</p>
<h4>Q2. How do I undo a <code>git reset --hard</code>?</h4>
<p>A. Use <code>git reflog</code> to find the commit hash before the reset, then <code>git reset --hard COMMIT_HASH</code> to restore to that point.</p>
<h4>Q3. Can I use <code>git reset</code> on a public branch?</h4>
<p>A. It's not recommended to use <code>git reset</code> on branches you've already pushed to a shared repository, as it rewrites history. Use <code>git revert</code> instead.</p>
<h4>Q4. How do I unstage all files?</h4>
<p>A. Run <code>git reset</code> without any arguments to unstage all files.</p>
<h4>Q5. What does <code>HEAD~1</code> mean in <code>git reset HEAD~1</code>?</h4>
<p>A. <code>HEAD~1</code> refers to the commit before the current HEAD (one commit back in history).</p>
<h2>References</h2>
<p>https://git-scm.com/docs/git-reset</p>
<h2>Revisions</h2>
<ul>
<li>2025/05/04 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright Â© 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>