# pwd コマンド

現在の作業ディレクトリのフルパスを表示します。

## 概要

`pwd`（print working directory）は、ユーザーが現在いるディレクトリの絶対パスを表示するコマンドです。ファイルシステム内での現在位置を確認するために使用され、特にディレクトリを移動した後や、スクリプト内で現在の場所を把握する必要がある場合に役立ちます。

## オプション

### **-L, --logical**

シンボリックリンクをそのまま表示します（デフォルト動作）。

```console
$ pwd -L
/home/user/projects/link_to_docs
```

このオプションでは、シンボリックリンクが指す実際の場所ではなく、リンク自体のパスが表示される。

### **-P, --physical**

シンボリックリンクを解決して、実際の物理パスを表示します。

```console
$ pwd -P
/home/user/documents
```

このオプションを使用すると、シンボリックリンクが指す実際のディレクトリパスが表示される。

## 使用例

### 基本的な使用方法

```console
$ pwd
/home/user/projects
```

### スクリプト内での使用例

```console
$ cat myscript.sh
#!/bin/bash
echo "現在のディレクトリは $(pwd) です"
cd /tmp
echo "移動後のディレクトリは $(pwd) です"

$ ./myscript.sh
現在のディレクトリは /home/user/projects です
移動後のディレクトリは /tmp です
```

## ヒント:

### 環境変数 PWD の利用

多くのシェルでは、`PWD`環境変数に現在のディレクトリパスが格納されています。これを利用することもできます。

```console
$ echo $PWD
/home/user/projects
```

### プロンプトにパスを表示

多くのシェルでは、プロンプトに現在のディレクトリを表示するように設定できます。Bashの場合は`PS1`変数を使用します。

```console
$ PS1='\w $ '
~/projects $
```

### 相対パスと絶対パス

`pwd`は常に絶対パス（ルートディレクトリ「/」から始まるパス）を返します。これにより、どこからでもそのパスを使って同じディレクトリにアクセスできます。

## よくある質問

#### Q1. `pwd`と`$PWD`の違いは何ですか？
A. `pwd`はコマンドであり、実行時に現在のディレクトリを調べて表示します。`$PWD`は環境変数で、シェルが自動的に更新する値です。通常は同じ値を返しますが、特定の状況では異なる場合があります。

#### Q2. シンボリックリンクのディレクトリにいる場合、実際のパスを知るにはどうすればよいですか？
A. `pwd -P`を使用すると、シンボリックリンクが解決された実際の物理パスが表示されます。

#### Q3. `pwd`コマンドはどのシェルでも使えますか？
A. はい、`pwd`はほぼすべてのUNIXシェル（bash、zsh、sh、cshなど）で利用可能な標準コマンドです。

## macOSでの注意点

macOSでは、`pwd`コマンドはBSD由来のバージョンが使用されていますが、基本的な機能はLinuxと同じです。ただし、一部のオプションが異なる場合があります。macOSでは、GNU版の`pwd`を使いたい場合、Homebrewを使って`coreutils`パッケージをインストールし、`gpwd`として使用できます。

## 参考文献

https://www.gnu.org/software/coreutils/manual/html_node/pwd-invocation.html

## 改訂履歴

- 2025/04/30 初版作成