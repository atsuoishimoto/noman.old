<!DOCTYPE html>
<html lang="en">
  <head>
    
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/main.css" />
        <link rel="stylesheet" href="/css/search.css" />
      

      
        <script src="/en/summary.js"></script>
        <script src="/js/search.js"></script>
        <script src="/js/language-switcher.js"></script>
      
      <title>
        
  diff - noman

      </title>

      

      
    
  </head>
  <body>
    
  <nav>
    <div class="nav-logo">
      <a href="/"><img src="../../../images/white.png" height="50px" /></a>
    </div>
    <div class="nav-right">
      <div class="nav-search">
        <input id="nav-searchbox" type="text" placeholder="Search command..." />
      </div>
      <div class="nav-links">
        <a href="/en/commandlist.html">Commands</a>
        <span id="language-switcher"></span>
      </div>
    </div>
  </nav>

  <div class="content">
    <main>
      
  <h1>diff command</h1>
<p>Compare files line by line.</p>
<h2>Overview</h2>
<p>The <code>diff</code> command identifies differences between two files or directories. It analyzes the content line by line and outputs the changes needed to transform the first file into the second. This tool is essential for comparing versions of text files, checking changes in code, and creating patches.</p>
<h2>Options</h2>
<h3><strong>-u (unified)</strong></h3>
<p>Shows differences in a unified format with context, making changes easier to understand.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">--- file1.txt	2025-04-30 10:00:00.000000000 -0700</span>
<span style="color: #000; font-style: italic">+++ file2.txt	2025-04-30 10:30:00.000000000 -0700</span>
<span style="color: #000; font-style: italic">@@ -1,3 +1,4 @@</span>
<span style="color: #000; font-style: italic"> This is a test file.</span>
<span style="color: #000; font-style: italic">-It has some content.</span>
<span style="color: #000; font-style: italic">+It has some modified content.</span>
<span style="color: #000; font-style: italic"> The end of the file.</span>
<span style="color: #000; font-style: italic">+A new line added.</span>
</pre></div>
<h3><strong>-i (ignore case)</strong></h3>
<p>Ignores differences in case when comparing files.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-i<span style="color: #F8F8F8"> </span>uppercase.txt<span style="color: #F8F8F8"> </span>lowercase.txt
<span style="color: #000; font-style: italic">[No output if files differ only in case]</span>
</pre></div>
<h3><strong>-w (ignore whitespace)</strong></h3>
<p>Ignores all whitespace differences between files.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-w<span style="color: #F8F8F8"> </span>spaced.txt<span style="color: #F8F8F8"> </span>tabbed.txt
<span style="color: #000; font-style: italic">[No output if files differ only in whitespace]</span>
</pre></div>
<h3><strong>-r (recursive)</strong></h3>
<p>Recursively compares directories and their contents.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>dir1<span style="color: #F8F8F8"> </span>dir2
<span style="color: #000; font-style: italic">Only in dir1: unique_file1.txt</span>
<span style="color: #000; font-style: italic">Only in dir2: unique_file2.txt</span>
<span style="color: #000; font-style: italic">diff -r dir1/common.txt dir2/common.txt</span>
<span style="color: #000; font-style: italic">1c1</span>
<span style="color: #000; font-style: italic">&lt; Original content</span>
<span style="color: #000; font-style: italic">---</span>
<span style="color: #000; font-style: italic">&gt; Modified content</span>
</pre></div>
<h3><strong>-q (brief)</strong></h3>
<p>Reports only whether files differ, not the details of differences.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-q<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">Files file1.txt and file2.txt differ</span>
</pre></div>
<h2>Usage Examples</h2>
<h3>Comparing two text files</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>file1.txt<span style="color: #F8F8F8"> </span>file2.txt
<span style="color: #000; font-style: italic">2c2</span>
<span style="color: #000; font-style: italic">&lt; It has some content.</span>
<span style="color: #000; font-style: italic">---</span>
<span style="color: #000; font-style: italic">&gt; It has some modified content.</span>
<span style="color: #000; font-style: italic">3a4</span>
<span style="color: #000; font-style: italic">&gt; A new line added.</span>
</pre></div>
<h3>Creating a patch file</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>original.c<span style="color: #F8F8F8"> </span>modified.c<span style="color: #F8F8F8"> </span>&gt;<span style="color: #F8F8F8"> </span>changes.patch
<span style="color: #8F5902">$ </span>patch<span style="color: #F8F8F8"> </span>original.c<span style="color: #F8F8F8"> </span>&lt;<span style="color: #F8F8F8"> </span>changes.patch
<span style="color: #000; font-style: italic">patching file original.c</span>
</pre></div>
<h3>Comparing directories with detailed output</h3>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><span style="color: #8F5902">$ </span>diff<span style="color: #F8F8F8"> </span>-r<span style="color: #F8F8F8"> </span>-u<span style="color: #F8F8F8"> </span>project_v1<span style="color: #F8F8F8"> </span>project_v2
<span style="color: #000; font-style: italic">Only in project_v2: new_feature.py</span>
<span style="color: #000; font-style: italic">diff -r -u project_v1/main.py project_v2/main.py</span>
<span style="color: #000; font-style: italic">--- project_v1/main.py	2025-04-29 15:00:00.000000000 -0700</span>
<span style="color: #000; font-style: italic">+++ project_v2/main.py	2025-04-30 09:30:00.000000000 -0700</span>
<span style="color: #000; font-style: italic">@@ -10,6 +10,7 @@</span>
<span style="color: #000; font-style: italic"> def main():</span>
<span style="color: #000; font-style: italic">     initialize()</span>
<span style="color: #000; font-style: italic">     process_data()</span>
<span style="color: #000; font-style: italic">+    new_function()</span>
<span style="color: #000; font-style: italic">     cleanup()</span>
<span style="color: #000; font-style: italic"> </span>
<span style="color: #000; font-style: italic"> if __name__ == &quot;__main__&quot;:</span>
</pre></div>
<h2>Tips</h2>
<h3>Understanding diff output</h3>
<p>The standard diff output format uses line numbers and commands:</p>
<ul>
<li><code>a</code> (add): Lines in the second file not in the first</li>
<li><code>c</code> (change): Lines that are different between files</li>
<li><code>d</code> (delete): Lines in the first file not in the second</li>
</ul>
<h3>Colored diff output</h3>
<p>Use <code>diff --color</code> (on systems that support it) to see differences highlighted in color, making them easier to spot.</p>
<h3>Side-by-side comparison</h3>
<p>Use <code>diff -y</code> or <code>diff --side-by-side</code> to display differences in a two-column format, which can be easier to read for some comparisons.</p>
<h3>Ignoring specific patterns</h3>
<p>Use <code>diff -I 'pattern'</code> to ignore lines that match a specific pattern, useful for ignoring version numbers or timestamps.</p>
<h2>Frequently Asked Questions</h2>
<h4>Q1. How do I compare binary files?</h4>
<p>A. Use <code>diff -a</code> to treat binary files as text, but for true binary comparison, consider using <code>cmp</code> instead.</p>
<h4>Q2. How can I see just the different lines without the special symbols?</h4>
<p>A. Use <code>diff -u</code> for unified format, which is more readable, or consider using enhanced tools like <code>colordiff</code> or <code>git diff</code>.</p>
<h4>Q3. How do I ignore specific types of files when comparing directories?</h4>
<p>A. You can't directly with <code>diff</code>, but you can use it with <code>find</code> or consider using <code>rsync --dry-run</code> for more filtering options.</p>
<h4>Q4. What's the difference between <code>diff</code> and <code>cmp</code>?</h4>
<p>A. <code>diff</code> compares files line by line and shows detailed differences, while <code>cmp</code> compares byte by byte and stops at the first difference.</p>
<h2>References</h2>
<p>https://www.gnu.org/software/diffutils/manual/html_node/diff.html</p>
<h2>Revisions</h2>
<ul>
<li>2025/04/30 First revision</li>
</ul>


    </main>
  </div>

  <footer>
    <p>
      Copyright Â© 2025 noman project | <a href="https://github.com/atsuoishimoto/noman">GitHub</a> | MIT License
    </p>
  </footer>

  </body>
</html>