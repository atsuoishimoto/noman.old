less

less は、テキストファイルを画面単位で閲覧するためのコマンドです。大きなファイルでも効率的に表示でき、前後にスクロールしながら内容を確認できます。

オプション

-N（行番号表示）

各行の先頭に行番号を表示します。

    $ less -N /etc/passwd
          1 ##
          2 # User Database
          3 #
          4 root:*:0:0:System Administrator:/var/root:/bin/sh
          5 daemon:*:1:1:System Services:/var/root:/usr/bin/false

-i（検索時に大文字小文字を区別しない）

検索時に大文字と小文字を区別せずに検索します。

    $ less -i file.txt
    # 「test」で検索すると、「Test」や「TEST」なども検索結果に含まれます

-S（折り返しなし）

長い行を折り返さずに表示します。横にスクロールして全体を見ることができます。

    $ less -S long_line_file.txt
    # 長い行が画面の右端で切れ、左右にスクロールして見ることができます

-F（短いファイルの場合は即終了）

ファイルが1画面に収まる場合、表示後すぐに終了します。

    $ less -F short_file.txt
    # ファイルが短い場合は表示後すぐにプロンプトに戻ります

-R（ANSIカラーコードを解釈）

ANSIカラーコードを含むファイルを、色付きで表示します。

    $ ls --color=always | less -R
    # lsの色付き出力がlessでも色付きで表示されます

使用例

基本的な使い方

    $ less /var/log/system.log
    # system.logファイルを表示する
    # スペースキーで次のページ、bキーで前のページに移動
    # qキーで終了

検索機能の使用

    $ less large_file.txt
    # lessが起動したら、「/検索語」と入力してEnterキーを押す
    # nキーで次の検索結果、Nキーで前の検索結果に移動

パイプラインでの使用

    $ ls -la | less
    # lsコマンドの出力をlessで閲覧

よくある質問

Q1. lessとmoreの違いは何ですか？

A. lessはmoreの機能を拡張したもので、前後のスクロールや検索など多くの機能があります。moreは基本的に前方向にしか進めません。

Q2. lessで検索するにはどうすればいいですか？

A. 「/」キーを押して検索語を入力し、Enterキーを押します。「n」キーで次の検索結果、「N」キーで前の検索結果に移動できます。

Q3. lessを終了するにはどうすればいいですか？

A. 「q」キーを押すと終了します。

Q4. ファイル内を移動するショートカットはありますか？

A. 「g」で先頭、「G」で末尾、「数字+g」で指定行に移動できます。「h」キーでヘルプを表示できます。

追加情報

-   「v」キーを押すとエディタ（通常はviまたはvim）が起動し、現在表示しているファイルを編集できます。
-   「m」+文字キーでブックマークを設定し、「’」+同じ文字キーでそのブックマークに移動できます。
-   macOSでは、lessコマンドはデフォルトでインストールされています。

参考情報

https://www.gnu.org/software/less/
